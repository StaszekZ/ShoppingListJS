/*! For license information please see main-6a4b1d-bundle.js.LICENSE.txt */
(()=>{var t={2212:(t,e,n)=>{"use strict";n.d(e,{Cn:()=>Py,d9:()=>zy,cp:()=>Dy,fT:()=>Cy,RB:()=>My,B3:()=>Wy,Ko:()=>By,Nk:()=>xy,a9:()=>ky,rT:()=>Oy});n(7327),n(9826),n(9554),n(1038),n(1249),n(5827),n(8783),n(4747),n(8309);const r=function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.category=n,this.quantity=r,this.unit=i,this.id=Math.round(1e3*Math.random())};n(7424),n(9331),n(5511);var i=document.querySelector("nav");window.addEventListener("scroll",(function(){window.scrollY>50?i.classList.add("nav__shadow"):i.classList.remove("nav__shadow")}));n(9601);var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function p(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var d=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function v(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=v(t[n],e[n]));return t}var y=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function b(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function _(){return!(!navigator||!navigator.cookieEnabled)}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return s(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new E(i,a,r);return u},t}();function S(t,e){return t.replace(A,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var A=/\{\$([^}]+)}/g;function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function k(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function D(){}function x(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var C=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),P="[DEFAULT]",L=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=P);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new y;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=a({identifier:P,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(P)}catch(t){}try{for(var r=h(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=f(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=P),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(l(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===P?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:P:t},t}();var R,j=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new L(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function M(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var V,U=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(V||(V={}));var F,q={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},B=V.INFO,H=((R={})[V.DEBUG]="log",R[V.VERBOSE]="log",R[V.INFO]="info",R[V.WARN]="warn",R[V.ERROR]="error",R),K=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=H[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,M(["["+i+"]  "+t.name+":"],n))}},G=function(){function t(t){this.name=t,this._logLevel=B,this._logHandler=K,this._userLogHandler=null,U.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in V))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?q[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,M([this,V.DEBUG],t)),this._logHandler.apply(this,M([this,V.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,M([this,V.VERBOSE],t)),this._logHandler.apply(this,M([this,V.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,M([this,V.INFO],t)),this._logHandler.apply(this,M([this,V.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,M([this,V.WARN],t)),this._logHandler.apply(this,M([this,V.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,M([this,V.ERROR],t)),this._logHandler.apply(this,M([this,V.ERROR],t))},t}();function z(t){U.forEach((function(e){e.setLogLevel(t)}))}var W,J=((F={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",F["bad-app-name"]="Illegal App name: '{$appName}",F["duplicate-app"]="Firebase App named '{$appName}' already exists",F["app-deleted"]="Firebase App named '{$appName}' already deleted",F["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",F["invalid-log-argument"]="First argument to `onLog` must be null or a function.",F),X=new T("app","Firebase",J),Y="@firebase/app",$="[DEFAULT]",Q=((W={})[Y]="fire-core",W["@firebase/analytics"]="fire-analytics",W["@firebase/auth"]="fire-auth",W["@firebase/database"]="fire-rtdb",W["@firebase/functions"]="fire-fn",W["@firebase/installations"]="fire-iid",W["@firebase/messaging"]="fire-fcm",W["@firebase/performance"]="fire-perf",W["@firebase/remote-config"]="fire-rc",W["@firebase/storage"]="fire-gcs",W["@firebase/firestore"]="fire-fst",W["fire-js"]="fire-js",W["firebase-wrapper"]="fire-js-all",W),Z=new G("@firebase/app"),tt=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=v(void 0,t),this.container=new j(e.name),this._addComponent(new C("app",(function(){return o}),"PUBLIC"));try{for(var s=h(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=$),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=$),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Z.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw X.create("app-deleted",{appName:this.name_})},t}();tt.prototype.name&&tt.prototype.options||tt.prototype.delete||console.log("dc");function et(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=$);var s=o.name;if("string"!=typeof s||!s)throw X.create("bad-app-name",{appName:String(s)});if(N(e,s))throw X.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Q[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Z.warn(u.join(" "))}o(new C(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:z,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw X.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=q[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:V[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=U;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!N(e,t=t||$))throw X.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return Z.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw X.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&v(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var f=h(Object.keys(e)),l=f.next();!l.done;l=f.next()){var p=l.value;e[p]._addComponent(o)}}catch(t){s={error:t}}finally{try{l&&!l.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}var nt=function t(){var e=et(tt);return e.INTERNAL=a(a({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){v(e,t)},createSubscribe:k,ErrorFactory:T,deepExtend:v}),e}(),rt=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ot=nt.initializeApp;nt.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g()&&Z.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ot.apply(void 0,t)};var st=nt;!function(t,e){t.INTERNAL.registerComponent(new C("platform-logger",(function(t){return new rt(t)}),"PRIVATE")),t.registerVersion(Y,"0.6.13",e),t.registerVersion("fire-js","")}(st);const at=st;at.registerVersion("firebase","8.2.2","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=r.setTimeout;n.prototype.c=function(t){s(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Pa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function f(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function A(t,e,n){this.code=O+t,this.message=e||D[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new A(e.substring(O.length),t.message,t.serverResponse):null}T(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var k,O="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function C(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function j(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}k=C("__EID__")?"__EID__":void 0,T(L,Error),L.prototype.name="CustomError",T(R,L),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new M((function(){return new B}),(function(t){t.reset()}));function q(){var t=Ie,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},K=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t,e){return 0<=H(t,e)}function X(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ht(t,e){return t<e?-1:t>e?1:0}t:{var ft=a.navigator;if(ft){var lt=ft.userAgent;if(lt){Z=lt;break t}}Z=""}function pt(t){return ct(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=Et}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===Et?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Et={},Tt={};function St(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(t){a.console&&a.console.error(t.message)}_t=t}else _t=t}return _t}function At(t,e){this.a=e===xt?t:""}function Nt(t){return t instanceof At&&t.constructor===At?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=It(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new At(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?It(t):encodeURIComponent(String(t))})))}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ot=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Ct(t,e){this.a=e===Ut?t:""}function Pt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Lt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t))t=new Ct(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Lt.test(e[1])?new Ct(t,Ut):null}return t}function Vt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Ut))}var Ut={},Ft=new Ct("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===Bt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ht(t,e,n,r){return t=t instanceof Ct?t:Vt(t),e=e||a,n=n instanceof wt?It(n):n||"",e.open(Pt(t),n,r,void 0)}function Kt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=f;var Wt,Jt,Xt=pt("Opera"),Yt=pt("Trident")||pt("MSIE"),$t=pt("Edge"),Qt=$t||Yt,Zt=pt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),te=ct(Z.toLowerCase(),"webkit")&&!pt("Edge");function ee(){var t=a.document;return t?t.documentMode:void 0}t:{var ne="",re=(Jt=Z,Zt?/rv:([^\);]+)(\)|;)/.exec(Jt):$t?/Edge\/([\d\.]+)/.exec(Jt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):te?/WebKit\/(\S+)/.exec(Jt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(re&&(ne=re?re[1]:""),Yt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Wt=String(ie);break t}}Wt=ne}var oe,se={};function ae(t){return function(t,e){var n=se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ht(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ht(0==s[2].length,0==a[2].length)||ht(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(a.document&&Yt){var ue=ee();oe=ue||(parseInt(Wt,10)||void 0)}else oe=void 0;var ce=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Jt){}var he=!Yt||9<=Number(ce);function fe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function le(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ve.hasOwnProperty(n)?t.setAttribute(ve[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var pe,de,ve={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ye(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}K(s?Q(o):o,r)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout((function(){throw t}),0)}function be(t,e){de||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!pt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(pe||(pe=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),pe(t)):a.setImmediate(t)}}(),we||(de(),we=!0),Ie.add(t,e)}var we=!1,Ie=new U;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ge(t)}V(F,t)}we=!1}function Ee(t,e){if(this.a=Te,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=f)try{var n=this;t.call(e,(function(t){Me(n,Se,t)}),(function(t){if(!(t instanceof Ke))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Ae,t)}))}catch(t){Me(this,Ae,t)}}var Te=0,Se=2,Ae=3;function Ne(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ne.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new M((function(){return new Ne}),(function(t){t.reset()}));function Oe(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function De(t){if(t instanceof Ee)return t;var e=new Ee(f);return Me(e,Se,t),e}function xe(t){return new Ee((function(e,n){n(t)}))}function Ce(t,e,n){Ve(t,e,n,null)||be(_(e,t))}function Pe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Le(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Te&&1==r?Le(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),qe(n,i,Ae,e)))}t.c=null}else Me(t,Ae,e)}function Re(t,e){t.b||t.a!=Se&&t.a!=Ae||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function je(t,e,n,r){var i=Oe(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ke?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function Me(t,e,n){t.a==Te&&(t===n&&(e=Ae,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ve(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Ue(t),e!=Ae||n instanceof Ke||function(t,e){t.g=!0,be((function(){t.g&&He.call(null,e)}))}(t,n)))}function Ve(t,e,n,r){if(t instanceof Ee)return Re(t,Oe(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ue(t){t.i||(t.i=!0,be(t.fc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function qe(t,e,n,r){if(n==Ae&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(t){He.call(null,t)}V(ke,e)}function Be(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return je(this,d(t)?t:null,d(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).na=function(t,e){return(t=Oe(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return je(this,null,t,e)},t.cancel=function(t){if(this.a==Te){var e=new Ke(t);be((function(){Le(this,e)}),this)}},t.Zc=function(t){this.a=Te,Me(this,Se,t)},t.$c=function(t){this.a=Te,Me(this,Ae,t)},t.fc=function(){for(var t;t=Fe(this);)qe(this,t,this.a,this.h);this.i=!1};var He=ge;function Ke(t){L.call(this,t)}function Ge(){0!=ze&&(We[y(this)]=this),this.xa=this.xa,this.oa=this.oa}T(Ke,L),Ke.prototype.name="cancel";var ze=0,We={};function Je(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=ze)){var e=y(t);if(0!=ze&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Xe=Object.freeze||function(t){return t},Ye=!Yt||9<=Number(ce),$e=Yt&&!ae("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",f,e),a.removeEventListener("test",f,e)}catch(t){}return t}();function Ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function tn(t,e){if(Ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:en[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ze.prototype.preventDefault=function(){this.defaultPrevented=!0},T(tn,Ze);var en=Xe({2:"touch",3:"pen",4:"mouse"});tn.prototype.preventDefault=function(){tn.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},tn.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++rn,this.va=this.Oa=!1}function sn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function an(t){this.src=t,this.a={},this.b=0}function un(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(sn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function cn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=cn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new on(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var hn="closure_lm_"+(1e6*Math.random()|0),fn={};function ln(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=En(n),t&&t[nn]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):pn(t,e,n,!1,r,i)}function pn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=In(t);if(a||(t[hn]=a=new an(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=wn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=En(n),t&&t[nn]?An(t,e,n,v(r)?!!r.capture:!!r,i):pn(t,e,n,!0,r,i)}function vn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[nn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=cn(o=t.a[e],n,r,i))&&(sn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=In(t))&&(e=t.a[e.toString()],t=-1,e&&(t=cn(e,n,r,i)),(n=-1<t?e[t]:null)&&yn(n))}function yn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[nn])un(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=In(e))?(un(n,t),0==n.b&&(n.src=null,e[hn]=null)):sn(t)}}}function mn(t){return t in fn?fn[t]:fn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=In(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&yn(t),n.call(r,e)}function wn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new tn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return bn(t,new tn(e,this))}function In(t){return(t=t[hn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return d(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Tn(){Ge.call(this),this.v=new an(this),this.$b=this,this.fb=null}function Sn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function An(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Nn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&un(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new Ee((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Dn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ln(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ln(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(Tn,Ge),Tn.prototype[nn]=!0,Tn.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){vn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Ze(t,n);else if(t instanceof Ze)t.target=t.target||n;else{var i=t;gt(t=new Ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Nn(s,r,!0,t)&&i}if(i=Nn(s=t.b=n,r,!0,t)&&i,i=Nn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nn(s=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)sn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Cn.prototype).V=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Pn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ln(this.b,t)?this.b[t]:e},t.set=function(t,e){Ln(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof jn?(this.h=void 0!==e?e:t.h,Mn(this,t.f),this.l=t.l,this.a=t.a,Vn(this,t.g),this.c=t.c,Un(this,ir(t.b)),this.i=t.i):t&&(n=String(t).match(Rn))?(this.h=!!e,Mn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Vn(this,n[4]),this.c=Kn(n[5]||"",!0),Un(this,n[6]||"",!0),this.i=Kn(n[7]||"")):(this.h=!!e,this.b=new Qn(null,this.h))}function Mn(t,e,n){t.f=n?Kn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(er(this,e),rr(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Gn(e,Yn)),t.b=new Qn(e,t.h))}function Fn(t,e,n){t.b.set(e,n)}function qn(t,e){return t.b.get(e)}function Bn(t){return t instanceof jn?new jn(t):new jn(t,void 0)}function Hn(t,e,n,r){var i=new jn(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Vn(i,n),r&&(i.c=r),i}function Kn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Gn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Xn:Jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Gn(n,$n)),t.join("")},jn.prototype.resolve=function(t){var e=new jn(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Vn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Un(e,ir(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Wn=/[#\/\?@]/g,Jn=/[#\?:]/g,Xn=/[#\?]/g,Yn=/[#\?@]/g,$n=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Zn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function tr(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Dn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function er(t,e){Zn(t),e=or(t,e),Ln(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ln((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function nr(t,e){return Zn(t),e=or(t,e),Ln(t.a.b,e)}function rr(t,e,n){er(t,e),0<n.length&&(t.c=null,t.a.set(or(t,e),Q(n)),t.b+=n.length)}function ir(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function or(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function sr(t){var e=[];return ur(new ar,t,e),e.join("")}function ar(){}function ur(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ur(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),fr(r,n),n.push(":"),ur(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":fr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Zn(this),this.c=null,t=or(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Zn(this),this.a.forEach((function(n,r){K(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Zn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Zn(this);var e=[];if("string"==typeof t)nr(this,t)&&(e=$(e,this.a.get(or(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Zn(this),this.c=null,nr(this,t=or(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(t,e){e.push('"',t.replace(hr,(function(t){var e=cr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),cr[t]=e),e})),'"')}function lr(){var t=Cr();return Yt&&!!ce&&11==ce||/Edge\/\d+/.test(t)}function pr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Mt(t)||Ft)),e.location.href=n}function vr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<vr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function yr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function mr(t){t=t||a.window;try{t.close()}catch(t){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Or(Cr())==Nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Mt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Vt(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ht("",r,n,s),t=Pt(e),s&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new qt(t=(r=St())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ht(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function Ir(){var t=null;return new Ee((function(e){"complete"==a.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw vn(window,"load",t),e}))}function _r(t){return t=t||Cr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Tr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Sr(){return at.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":at.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Ar(){var t=Sr();return"ReactNative"===t||"Node"===t}var Nr="Firefox",kr="Chrome";function Or(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Nr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var Dr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in Dr)i[Dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=Or(i=Cr()):"Worker"===r&&(r=Or(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Pr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Lr(){try{var t=a.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!a.indexedDB}catch(t){return Tr()&&!!a.indexedDB}return!1}function Rr(){return(jr()||"chrome-extension:"===Mr()||_r())&&!Ar()&&Lr()&&!Tr()}function jr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return a.location&&a.location.protocol||null}function Vr(t){return!yr(t=t||Cr())&&Or(t)!=Nr}function Ur(t){return void 0===t?null:sr(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function qr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function Hr(t){return"Safari"!=Or(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=Sr(),this.b=yr(t)||"ReactNative"===e}function zr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Jr(){return!(!Pr("fireauth.oauthhelper",a)&&!Pr("fireauth.iframe",a))}Gr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!jr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Yr={};function $r(t){Yr[t]||(Yr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==Qr.abcd}catch(Jt){Xr=!1}function Zr(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ti(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zr(t,n,e[n])}function ei(t){var e={};return ti(e,t),e}function ni(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Zr(e,n,ni(t[n]));return e}function ri(t){var e=t&&(t[ui]?"phone":null);if(!(e&&t&&t[ai]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Zr(this,"uid",t[ai]),Zr(this,"displayName",t[oi]||null);var n=null;t[si]&&(n=new Date(t[si]).toUTCString()),Zr(this,"enrollmentTime",n),Zr(this,"factorId",e)}function ii(t){try{var e=new ci(t)}catch(t){e=null}return e}ri.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oi="displayName",si="enrolledAt",ai="mfaEnrollmentId",ui="phoneInfo";function ci(t){ri.call(this,t),Zr(this,"phoneNumber",t[ui])}function hi(t){var e={},n=t[di],r=t[yi],i=t[mi];if(t=ii(t[vi]),!i||i!=li&&i!=pi&&!n||i==pi&&!r||i==fi&&!t)throw Error("Invalid checkActionCode response!");i==pi?(e[bi]=n||null,e[Ii]=n||null,e[gi]=r):(e[bi]=r||null,e[Ii]=r||null,e[gi]=n||null),e[wi]=t||null,Zr(this,Ei,i),Zr(this,_i,ni(e))}T(ci,ri),ci.prototype.w=function(){var t=ci.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var fi="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",di="email",vi="mfaInfo",yi="newEmail",mi="requestType",gi="email",bi="fromEmail",wi="multiFactorInfo",Ii="previousEmail",_i="data",Ei="operation";function Ti(t){var e=qn(t=Bn(t),Si)||null,n=qn(t,Ai)||null,r=qn(t,Oi)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new A("argument-error",Si+", "+Ai+"and "+Oi+" are required in a valid action code URL.");ti(this,{apiKey:e,operation:r,code:n,continueUrl:qn(t,Ni)||null,languageCode:qn(t,ki)||null,tenantId:qn(t,Di)||null})}var Si="apiKey",Ai="oobCode",Ni="continueUrl",ki="languageCode",Oi="mode",Di="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:li,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new Ti(t)}catch(t){return null}}function Pi(t){var e=t[Vi];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Li];if(n&&"object"==typeof n){e=n[qi];var r=n[Ui];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",qi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[Bi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[ji])&&"boolean"!=typeof e)throw new A("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Ri+" property must be a non empty string when specified.");this.h=t||null}var Li="android",Ri="dynamicLinkDomain",ji="handleCodeInApp",Mi="iOS",Vi="url",Ui="installApp",Fi="minimumVersion",qi="packageName",Bi="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Ki=null;function Gi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ki){Ki={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function zi(t){var e=Ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Wi(t){try{return new zi(t)}catch(t){return null}}function Ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Gi(t))}catch(t){}return null}zi.prototype.S=function(){return this.f},zi.prototype.l=function(){return this.c},zi.prototype.toString=function(){return this.i};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],$i={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Yi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Yi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Yi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Xi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Qi(t){for(var e in $i)if($i[e].fa==t)return $i[e];return null}function Zi(t){var e={};e["facebook.com"]=io,e["google.com"]=so,e["github.com"]=oo,e["twitter.com"]=ao;var n=t&&t[eo];try{if(n)return e[n]?new e[n](t):new ro(t);if(void 0!==t[to])return new no(t)}catch(t){}return null}var to="idToken",eo="providerId";function no(t){var e=t[eo];if(!e&&t[to]){var n=Wi(t[to]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Zr(this,"providerId",e),Zr(this,"isNewUser",n)}function ro(t){no.call(this,t),Zr(this,"profile",ni((t=qr(t.rawUserInfo||"{}"))||{}))}function io(t){if(ro.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(ro.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function so(t){if(ro.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(ro.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",t.screenName||null)}function uo(t){var e=Bn(t),n=qn(e,"link"),r=qn(Bn(n),"link");return e=qn(e,"deep_link_id"),qn(Bn(e),"link")||e||r||n||t}function co(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ho:fo}T(ro,no),T(io,ro),T(oo,ro),T(so,ro),T(ao,ro);var ho="enroll",fo="signin";function lo(){}function po(t,e){return t.then((function(t){if(t[na]){var n=Wi(t[na]);if(!n||e!=n.h)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==O+"user-not-found"?new A("user-mismatch"):t}))}function vo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Zr(this,"providerId",t),Zr(this,"signInMethod",t)}function yo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function mo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new vo(t.providerId,t.pendingToken)}catch(t){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Zr(this,"idToken",e.idToken),e.accessToken&&Zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Zr(this,"accessToken",e.oauthToken),Zr(this,"secret",e.oauthTokenSecret)}Zr(this,"providerId",t),Zr(this,"signInMethod",n)}function bo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:tr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function wo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(t){}}return null}function Io(t,e){this.Pc=e||[],ti(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Qi(t)||{}).Ja||null,this.nb=null}function _o(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Io.call(this,t,[])}function Eo(t){Io.call(this,t,Yi),this.a=[]}function To(){Eo.call(this,"facebook.com")}function So(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Ao(){Eo.call(this,"github.com")}function No(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Ao).credential({accessToken:e})}function ko(){Eo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function Do(){Io.call(this,"twitter.com",Xi)}function xo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Lo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=jo(e)))throw new A("argument-error","Invalid email link!");return new Co(t,e.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=Ci(t=uo(t)))&&t.operation===li?t:null}function Mo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new A("internal-error");this.a=t,Zr(this,"providerId","phone"),this.fa="phone",Zr(this,"signInMethod","phone")}function Vo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Mo(e)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Fo(t){try{this.a=t||at.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function qo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Mo({cb:t,bb:e})}function Bo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return So(n);case"github.com":return No(n);case"twitter.com":return xo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new vo(e,s):new go(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ho(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Ko(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Ko(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}co.prototype.Ha=function(){return this.a?De(this.a):De(this.b)},co.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ja=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},vo.prototype.ja=function(t){return Ta(t,yo(this))},vo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Sa(t,n)},vo.prototype.c=function(t,e){return po(Aa(t,yo(this)),e)},vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ja=function(t){return Ta(t,bo(this))},go.prototype.b=function(t,e){var n=bo(this);return n.idToken=e,Sa(t,n)},go.prototype.c=function(t,e){return po(Aa(t,bo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Io.prototype.Ka=function(t){return this.Hb=yt(t),this},T(_o,Io),T(Eo,Io),Eo.prototype.Ca=function(t){return J(this.a,t)||this.a.push(t),this},Eo.prototype.Pb=function(){return Q(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},T(To,Eo),Zr(To,"PROVIDER_ID","facebook.com"),Zr(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Ao,Eo),Zr(Ao,"PROVIDER_ID","github.com"),Zr(Ao,"GITHUB_SIGN_IN_METHOD","github.com"),T(ko,Eo),Zr(ko,"PROVIDER_ID","google.com"),Zr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Do,Io),Zr(Do,"PROVIDER_ID","twitter.com"),Zr(Do,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ja=function(t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?au(t,La,{email:this.a,oobCode:this.f}):au(t,nu,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?au(t,Ra,{idToken:e,email:this.a,oobCode:this.f}):au(t,Ja,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return po(this.ja(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Lo,{PROVIDER_ID:"password"}),ti(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ja=function(t){return t.eb(Uo(this))},Mo.prototype.b=function(t,e){var n=Uo(this);return n.idToken=e,au(t,iu,n)},Mo.prototype.c=function(t,e){var n=Uo(this);return n.operation="REAUTH",po(t=au(t,ou,n),e)},Mo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.eb=function(t,e){var n=this.a.a;return De(e.verify()).then((function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==ho?i.Ha().then((function(t){return function(t,e){return au(t,Ya,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==fo?i.Ha().then((function(e){return function(t,e){return au(t,$a,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return au(t,za,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ti(Fo,{PROVIDER_ID:"phone"}),ti(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Ko.prototype.S=function(){return this.i},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Wo,Jo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Yo(t,e,n){A.call(this,t,n),(t=e||{}).Ib&&Zr(this,"email",t.Ib),t.ea&&Zr(this,"phoneNumber",t.ea),t.credential&&Zr(this,"credential",t.credential),t.Yb&&Zr(this,"tenantId",t.Yb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Bo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function Qo(){}function Zo(t){return t.c||(t.c=t.b())}function ts(){}function es(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ns(){}function rs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.pc,this),this.a.onerror=I(this.Rb,this),this.a.onprogress=I(this.qc,this),this.a.ontimeout=I(this.uc,this)}function is(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function os(t,e,n){this.reset(t,e,n,void 0,void 0)}T(Xo,A),T(Yo,A),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,T(ts,Qo),ts.prototype.a=function(){var t=es(this);return t?new ActiveXObject(t):new XMLHttpRequest},ts.prototype.b=function(){var t={};return es(this)&&(t[0]=!0,t[1]=!0),t},Wo=new ts,T(ns,Qo),ns.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new rs;throw Error("Unsupported browser")},ns.prototype.b=function(){return{}},(t=rs.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,is(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",is(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,is(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},os.prototype.a=null;function ss(t){this.f=t,this.b=this.c=this.a=null}function as(t,e){this.name=t,this.value=e}os.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||E(),delete this.a},as.prototype.toString=function(){return this.name};var us=new as("SEVERE",1e3),cs=new as("WARNING",900),hs=new as("CONFIG",700),fs=new as("FINE",500);function ls(t){return t.c?t.c:t.a?ls(t.a):(j("Root logger has no level set."),null)}ss.prototype.log=function(t,e,n){if(t.value>=ls(this).value)for(d(e)&&(e=e()),t=new os(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ps={},ds=null;function vs(t){var e;if(ds||(ds=new ss(""),ps[""]=ds,ds.c=hs),!(e=ps[t])){e=new ss(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=vs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ps[t]=e}return e}function ys(t,e){t&&t.log(fs,e,void 0)}function ms(t){this.f=t}function gs(t){Tn.call(this),this.u=t,this.i=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=vs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ms,Qo),ms.prototype.a=function(){return new gs(this.f)},ms.prototype.b=function(t){return function(){return t}}({}),T(gs,Tn);var bs=0;function ws(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function Is(t){t.readyState=4,t.g=null,t.c=null,t.m=null,_s(t)}function _s(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Es(t){Tn.call(this),this.headers=new Cn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=Ts,this.u=this.R=!1}(t=gs.prototype).open=function(t,e){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,_s(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Is(this)),this.readyState=bs},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,_s(this)),this.a&&(this.readyState=3,_s(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ws(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Is(this):_s(this),3==this.readyState&&ws(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,Is(this))},t.rc=function(t){this.a&&(this.response=t,Is(this))},t.Ta=function(t){var e=this.h;e&&e.log(cs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Is(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(cs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(cs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),T(Es,Tn);var Ts="";Es.prototype.b=vs("goog.net.XhrIo");var Ss=/^https?$/i,As=["POST","PUT"];function Ns(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Wo.a(),t.A=t.O?Zo(t.O):Zo(Wo),t.a.onreadystatechange=I(t.Ub,t);try{ys(t.b,js(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ys(t.b,js(t,"Error opening Xhr: "+e.message)),void Os(t,e)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)K(t,e,void 0);else for(var n=xn(t),r=Dn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ks,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!J(As,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ps(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ys(t.b,js(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.s=kn(t.Ma,t.g,t)),ys(t.b,js(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){ys(t.b,js(t,"Send error: "+e.message)),Os(t,e)}}function ks(t){return"content-type"==t.toLowerCase()}function Os(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Ds(t),Cs(t)}function Ds(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xs(t){if(t.c&&void 0!==s)if(t.A[1]&&4==Ls(t)&&2==Rs(t))ys(t.b,js(t,"Local request error detected and ignored"));else if(t.h&&4==Ls(t))kn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ls(t)){ys(t.b,js(t,"Request complete")),t.c=!1;try{var e,n=Rs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ss.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ls(t)?t.a.statusText:""}catch(e){ys(t.b,"Can not get status: "+e.message),c=""}t.i=c+" ["+Rs(t)+"]",Ds(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){Ps(t);var n=t.a,r=t.A[0]?f:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(us,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ps(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ls(t){return t.a?t.a.readyState:0}function Rs(t){try{return 2<Ls(t)?t.a.status:-1}catch(t){return-1}}function js(t,e){return e+" ["+t.P+" "+t.l+" "+Rs(t)+"]"}function Ms(t){var e=Js;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Vs(t,e,n){t.a=!0,t.c=n,t.f=!e,Bs(t)}function Us(t){if(t.a){if(!t.m)throw new Hs(t);t.m=!1}}function Fs(t,e,n,r){t.g.push([e,n,r]),t.a&&Bs(t)}function qs(t){return W(t.g,(function(t){return d(t[1])}))}function Bs(t){if(t.i&&t.a&&qs(t)){var e=t.i,n=zs[e];n&&(a.clearTimeout(n.a),delete zs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.h=!0)}catch(r){e=r,t.f=!0,qs(t)||(n=!0)}}t.c=e,r&&(u=I(t.v,t,!0),r=I(t.v,t,!1),e instanceof Ms?(Fs(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Gs(e),zs[e.a]=e,t.i=e.a)}function Hs(){L.call(this)}function Ks(){L.call(this)}function Gs(t){this.a=a.setTimeout(I(this.c,this),0),this.b=t}(t=Es.prototype).Ma=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",ys(this.b,js(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ys(this.b,js(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),Es.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?xs(this):this.Ic())},t.Ic=function(){xs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ts:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(us,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ys(this.b,"Can not get response: "+t.message),null}},Ms.prototype.cancel=function(t){if(this.a)this.c instanceof Ms&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ks(this),Us(this),Vs(this,!1,t))}},Ms.prototype.v=function(t,e){this.h=!1,Vs(this,t,e)},Ms.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Fs(this,r,(function(t){t instanceof Ks?o.cancel():i(t)})),o.then(t,e,n)},Ms.prototype.$goog_Thenable=!0,T(Hs,L),Hs.prototype.message="Deferred has already fired",Hs.prototype.name="AlreadyCalledError",T(Ks,L),Ks.prototype.message="Deferred was canceled",Ks.prototype.name="CanceledError",Gs.prototype.c=function(){throw delete zs[this.a],this.b};var zs={};function Ws(t){var e={},n=e.document||document,r=Nt(t).toString(),i=me(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Ms(o),u=null,f=null!=e.timeout?e.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Xs(i,!0);var t=new Qs($s,"Timeout reached for loading script "+r);Us(s),Vs(s,!1,t)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xs(i,e.wd||!1,u),Us(s),Vs(s,!0,null))},i.onerror=function(){Xs(i,!0,u);var t=new Qs(Ys,"Error while loading script "+r);Us(s),Vs(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Nt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=h(e.document):(null===c&&(c=h(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Js(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Xs(t,!0,this.Ma)}}function Xs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ys=0,$s=1;function Qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Zs(t){this.f=t}function ta(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||ra,this.g=yt(t.secureTokenHeaders||ia),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||oa,this.a=yt(t.firebaseHeaders||sa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=a.XMLHttpRequest||n&&at.INTERNAL.node&&at.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ms(self):Ar()?this.f=new Zs(n):this.f=new ns,this.b=null}T(Qs,L),T(Zs,Qo),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var ea,na="idToken",ra=new Gr(3e4,6e4),ia={"Content-Type":"application/x-www-form-urlencoded"},oa=new Gr(3e4,6e4),sa={"Content-Type":"application/json"};function aa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ua(t,e){e&&(t.l=ca("https://securetoken.googleapis.com/v1/token",e),t.i=ca("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ca("https://identitytoolkit.googleapis.com/v2/",e))}function ca(t,e){return t=Bn(t),e=Bn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,Vn(t,e.g),t.toString()}function ha(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function fa(t,e,n,r,i,o,s){(function(){var t=Cr();return!((t=Or(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ce&&!(9<ce))})()||Tr()?t=I(t.u,t):(ea||(ea=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[pa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fs(t,null,e,void 0)}(Ws(kt(la,{onload:pa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,s)}ta.prototype.S=function(){return this.b},ta.prototype.u=function(t,e,n,r,i,o){if(Tr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Es(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}Sn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ys(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),An(s,"ready",(function(){u&&clearTimeout(u),Je(this)})),An(s,"timeout",(function(){u&&clearTimeout(u),Je(this),e&&e(null)})),Ns(s,t,n,r,i)};var la=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),pa="__fcb"+Math.floor(1e6*Math.random()).toString();function da(t,e,n,r,i,o,s){var a=Bn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",E().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new Ee((function(e,n){fa(t,a.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:sr(Fr(i)),t.a,t.m.get())}))}function va(t){if("string"!=typeof(t=t.email)||!wr.test(t))throw new A("invalid-email")}function ya(t){"email"in t&&va(t)}function ma(t){if(!t[na]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,yt(t));throw new A("internal-error")}}function ga(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}ta.prototype.s=function(t,e,n,r,i){var o=this;ea.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ta.prototype.yb=function(){return au(this,Xa,{})},ta.prototype.Ab=function(t,e){return au(this,Wa,{idToken:t,email:e})},ta.prototype.Bb=function(t,e){return au(this,Ja,{idToken:t,password:e})};var ba={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function wa(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Ia(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function _a(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(nr(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ea(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;ma(t)}function Ta(t,e){return e.returnIdpCredential=!0,au(t,Qa,e)}function Sa(t,e){return e.returnIdpCredential=!0,au(t,tu,e)}function Aa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,au(t,Za,e)}function Na(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=ta.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ba,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),au(this,Wa,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),au(this,Ba,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),au(this,Ua,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),au(this,Fa,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),au(this,qa,t)},t.eb=function(t){return au(this,ru,t)},t.mb=function(t,e){return au(this,Ga,{oobCode:t,newPassword:e})},t.Qa=function(t){return au(this,Oa,{oobCode:t})},t.ib=function(t){return au(this,ka,{oobCode:t})};var ka={endpoint:"setAccountInfo",B:Na,Z:"email",C:!0},Oa={endpoint:"resetPassword",B:Na,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},C:!0},Da={endpoint:"signupNewUser",B:function(t){if(va(t),!t.password)throw new A("weak-password")},F:ma,U:!0,C:!0},xa={endpoint:"createAuthUri",C:!0},Ca={endpoint:"deleteAccount",M:["idToken"]},Pa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},La={endpoint:"emailLinkSignin",M:["email","oobCode"],B:va,F:ma,U:!0,C:!0},Ra={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:va,F:ma,U:!0},ja={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:wa,F:ma,C:!0,Na:!0},Ma={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:wa,F:ma,C:!0,Na:!0},Va={endpoint:"getAccountInfo"},Ua={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");va(t)},Z:"email",C:!0},Fa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",C:!0},qa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",C:!0},Ba={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");va(t)},Z:"email",C:!0},Ha={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ka={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Ga={endpoint:"resetPassword",B:Na,Z:"email",C:!0},za={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Wa={endpoint:"setAccountInfo",M:["idToken"],B:ya,U:!0},Ja={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ya(t),!t.password)throw new A("weak-password")},F:ma,U:!0},Xa={endpoint:"signupNewUser",F:ma,U:!0,C:!0},Ya={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},$a={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},Qa={endpoint:"verifyAssertion",B:Ia,Xa:_a,F:Ea,U:!0,C:!0},Za={endpoint:"verifyAssertion",B:Ia,Xa:_a,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);ma(t)},U:!0,C:!0},tu={endpoint:"verifyAssertion",B:function(t){if(Ia(t),!t.idToken)throw new A("internal-error")},Xa:_a,F:Ea,U:!0},eu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new A("invalid-custom-token")},F:ma,U:!0,C:!0},nu={endpoint:"verifyPassword",B:function(t){if(va(t),!t.password)throw new A("wrong-password")},F:ma,U:!0,C:!0},ru={endpoint:"verifyPhoneNumber",B:ga,F:ma,C:!0},iu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new A("internal-error");ga(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);ma(t)}},ou={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ga,F:ma,C:!0},su={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[na]^!!t.refreshToken)throw new A("internal-error")},C:!0,Na:!0};function au(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return xe(new A("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return De(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),da(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Ur(t)),new A("internal-error",e)}function hu(t){this.b=t,this.a=null,this.qb=function(t){return(du||(du=new Ee((function(t,e){function n(){Kr(),Pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Kr(),e(Error("Network Error"))},timeout:lu.get()})}if(Pr("gapi.iframes.Iframe"))t();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Pr("gapi.load")?n():e(Error("Network Error"))},De(Ws(r=kt(fu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Ee((function(e,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),lu=new Gr(3e4,6e4),pu=new Gr(5e3,15e3),du=null;function vu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Hn((t=Bn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Hn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.i),Fn(this.a,"appName",this.h),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function mu(t){try{return at.app(t).auth().Ga()}catch(t){return[]}}function gu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function bu(t){var e=pr();return function(t){return au(t,Ha,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Bn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:br.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Xo(pr())}))}function wu(t){return t.v||(t.v=Ir().then((function(){if(!t.u){var e=t.c,n=t.h,r=mu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.m=new hu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",De(n)}return n.status="ERROR",De(n)}))}(t)}))),t.v}function Iu(t){return t.l||(t.A=t.c?xr(t.c,mu(t.b)):null,t.l=new ta(t.g,C(t.h),t.A),t.f&&ua(t.l,t.f)),t.l}function _u(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new yu(t,e,n,r,i,f)).l=o,t.g=s,t.h=a,t.b=yt(u||null),t.f=c,t.xb(h).toString()}function Eu(t){if(this.a=t||at.INTERNAL.reactNative&&at.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Tu(t){this.b=t,this.a={},this.f=I(this.c,this)}vu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):er(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},yu.prototype.xb=function(t){return this.i=t,this},yu.prototype.toString=function(){if(this.m){var t=Bn(this.m.url);t=Hn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Hn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=at.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=yt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),vt(e)||Fn(t,"customParameters",Ur(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&Fn(t,"scopes",n.join(","))),this.l?Fn(t,"redirectUrl",this.l):er(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):er(t.b,"eventId"),this.h?Fn(t,"v",this.h):er(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!qn(t,s)&&Fn(t,s,this.b[s]);return this.i?Fn(t,"tid",this.i):er(t.b,"tid"),this.f?Fn(t,"eid",this.f):er(t.b,"eid"),(s=mu(this.c)).length&&Fn(t,"fw",s.join(",")),t.toString()},(t=gu.prototype).Nb=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&mr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new Ee((function(e){return function n(){On(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return On(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Cr();return!Vr(t)&&!Hr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new A("popup-blocked"));if(s&&!Vr())return this.la().o((function(e){mr(t),i(e)})),r(),De();this.a||(this.a=bu(Iu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw mr(t),i(e),e}));return r(),e})).then((function(){(Ho(n),s)||dr(_u(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=bu(Iu(this)));var i=this;return this.a.then((function(){Ho(e),dr(_u(i.s,i.g,i.b,t,e,pr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return wu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Y(this.i,(function(e){return e==t}))},(t=Eu.prototype).get=function(t){return De(this.a.getItem(t)).then((function(t){return t&&qr(t)}))},t.set=function(t,e){return De(this.a.setItem(t,Ur(e)))},t.T=function(t){return De(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Su,Au=[];function Nu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function Ou(t){this.c=t,this.b=!1,this.a=[]}function Du(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return xu(t,c),e})).o((function(e){throw xu(t,c),e}))}function xu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Cu(){if(!ju())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;Tr()&&self?(this.m=function(){var t=Tr()?self:null;if(K(Au,(function(n){n.b==t&&(e=n)})),!e){var e=new Tu(t);Au.push(e)}return e}(),Nu(this.m,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&K(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),Nu(this.m,"ping",(function(){return De(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?De().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):De(null)}().then((function(e){(t.i=e)&&(t.g=new Ou(new ku(e)),Du(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Pu(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Pu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Lu(t){return t.h||(t.h=Pu(t)),t.h}function Ru(t,e){var n=0;return new Ee((function r(i,o){Lu(t).then(e).then(i).o((function(e){if(!(3<++n))return Lu(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function ju(){try{return!!a.indexedDB}catch(t){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function Vu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Fu(t,e){return t.g&&t.i&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Du(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):De()}function qu(t){return Lu(t).then((function(t){var e=Mu(Vu(t,!1));return e.getAll?Uu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=vr(t.c,n),t.c=n}return r}))}function Bu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Hu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=De().then((function(){if(ju()){var t=Br(),r="__sak"+t;return Su||(Su=new Cu),(n=Su).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){K(e.a,(function(e){e(t)}))})),t}))}function Ku(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var t="Node"==Sr();if(!(t=zu()||t&&at.INTERNAL.node&&at.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=zu()||at.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=a.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){this.type="nullStorage"}function Ju(){if(!function(){var t="Node"==Sr();if(!(t=Xu()||t&&at.INTERNAL.node&&at.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Xu()||at.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var t=a.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Yu(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Sr()]}Tu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];K(r,(function(e){i.push(De().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];K(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),K(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ou.prototype.close=function(){for(;0<this.a.length;)xu(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return Ru(this,(function(e){return Uu((e=Mu(Vu(e,!0))).get(t))})).then((function(i){return Ru(n,(function(o){if(o=Mu(Vu(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Uu(o.add(s))}))})).then((function(){return n.c[t]=e,Fu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Ru(this,(function(e){return Uu(Mu(Vu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Ru(this,(function(r){return n=!0,e.b++,Uu(Mu(Vu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Fu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&K(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Bu(t),e()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Bu(this)},(t=Hu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Ku.prototype).get=function(t){return De(this.a[t])},t.set=function(t,e){return this.a[t]=e,De()},t.T=function(t){return delete this.a[t],De()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return De().then((function(){return qr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return De().then((function(){var r=Ur(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return De().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&ln(a.window,"storage",t)},t.ia=function(t){a.window&&vn(a.window,"storage",t)},(t=Wu.prototype).get=function(){return De(null)},t.set=function(){return De()},t.T=function(){return De()},t.ca=function(){},t.ia=function(){},(t=Ju.prototype).get=function(t){var e=this;return De().then((function(){return qr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return De().then((function(){var r=Ur(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return De().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var $u,Qu,Zu={D:Gu,ab:Ju},tc={D:Gu,ab:Ju},ec={D:Eu,ab:Wu},nc={D:Gu,ab:Wu},rc={qd:"local",NONE:"none",sd:"session"};function ic(){var t=!(Hr(Cr())||!Er()),e=Vr(),n=Lr();this.v=t,this.i=e,this.l=n,this.a={},$u||($u=new Yu),t=$u;try{this.g=!lr()&&Jr()||!a.indexedDB?new t.a.D:new Hu(Tr()?new Ku:new t.a.D)}catch(t){this.g=new Ku,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Ku}this.m=new Ku,this.f=I(this.Xb,this),this.b={}}function oc(){return Qu||(Qu=new ic),Qu}function sc(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function ac(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=ac(e,n),"local"==e.D&&(t.b[n]=null),sc(t,e.D).T(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function hc(t){this.a=t,this.b=oc()}(t=ic.prototype).get=function(t,e){return sc(this,t.D).get(ac(t,e))},t.set=function(t,e,n){var r=ac(t,n),i=this,o=sc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ac(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),vt(this.a)&&(sc(this,"local").ca(this.f),this.i||(lr()||!Jr())&&a.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new tn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ac(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(sc(this,"local").ia(this.f),cc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?sc(this,"local").ia(this.f):cc(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Yt&&ce&&10==ce&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else K(t,I(this.lb,this))},t.lb=function(t){this.a[t]&&K(this.a[t],(function(t){t()}))};var fc,lc={name:"authEvent",D:"local"};function pc(){this.a=oc()}function dc(t,e){this.b=vc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=a.Int32Array?new Int32Array(_c):_c),this.reset()}T(dc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,mc=[],gc=0;gc<yc;gc++)mc[gc]=0;var bc=$(128,mc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|fc[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function Ic(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.i):Q(this.i)};var _c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){dc.call(this,8,Tc)}T(Ec,dc);var Tc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new pc,this.g=new hc(this.i),this.f=null,this.b=[],this.a=this.c=null}function Ac(t){return new A("invalid-cordova-configuration",t)}function Nc(t){var e=new Ec;Ic(e,t),t=[];var n=8*e.g;56>e.c?Ic(e,bc,56-e.c):Ic(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Oc(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Dc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=uo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=qr(qn(o=Bn(i),"firebaseError")||null))?N(o):null)?new Ko(r.c,r.b,null,null,o,null,r.S()):new Ko(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}kc(t,i)}))}var n=new Ko("unknown",null,null,null,new A("no-auth-event")),r=!1,i=On(500).then((function(){return Dc(t).then((function(){r||kc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Jo||(Jo=new zo),function(t){var e=Jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Pr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Dc(t){var e=null;return function(t){return t.b.get(lc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,lc,n.a)})).then((function(){return e}))}function xc(t){this.a=t,this.b=oc()}(t=Sc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?Ir().then((function(){return new Ee((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Pr("universalLinks.subscribe",a))throw Ac("cordova-universal-links-plugin-fix is not installed");if(void 0===Pr("BuildInfo.packageName",a))throw Ac("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pr("cordova.plugins.browsertab.openUrl",a))throw Ac("cordova-plugin-browsertab is not installed");if("function"!=typeof Pr("cordova.InAppBrowser.open",a))throw Ac("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Nb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),De()},t.Lb=function(){return xe(new A("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return xe(new A("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=De().then((function(){return Ho(e),Oc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Ko(e,r,null,o,new A("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",a);if("string"!=typeof u)throw new A("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",a),h={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return xe(new A("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Nc(o),h.sessionId=o;var f=_u(t.m,t.h,t.l,e,n,null,r,t.v,h,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(lc,s.w(),e)})).then((function(){var e=Pr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Pr("cordova.plugins.browsertab.openUrl",a)))throw new A("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Pr("cordova.InAppBrowser.open",a)))throw new A("invalid-cordova-configuration");e=Cr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){u=function(){var e=Pr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=On(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},h=function(){zr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Dc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Oc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ko("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",D:"session"};function Pc(t){return uc(t.b,Cc,t.a)}function Lc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=I(this.s,this),this.b=new Xc,this.A=new th,this.g=new xc(Wc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Rc(this.O,this.m,this.v,k,this.G)}function Rc(t,e,n,r,i){var o=at.SDK_VERSION||null;return _r()?new Sc(t,e,n,o,r,i):new gu(t,e,n,o,r,i)}function jc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Wb()&&jc(t).o((function(e){var n=new Ko("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Hc(e)&&t.s(n)})),t.a.Sb()||Yc(t.b)}function Vc(t,e){J(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Pc(t.g).then((function(){jc(t).o((function(e){var n=new Ko("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Hc(e)&&t.s(n)}))})):Mc(t)})).o((function(){Mc(t)}))}function Uc(t,e){Y(t.i,(function(t){return t==e}))}Lc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Rc(this.O,this.m,this.v,null,this.G),this.h={}},Lc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=E()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=E())),e=!0;break}}return Yc(this.b),e};var Fc=new Gr(2e3,1e4),qc=new Gr(3e4,6e4);function Bc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Hc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Kc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Hc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Pc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):Pc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Gc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Fc.get())}Lc.prototype.qa=function(){return this.b.qa()};var zc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Jc(t,e,n,r){var i=Wc(e,n,r);return zc[i]||(zc[i]=new Lc(t,e,n,r)),zc[i]}function Xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Yc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function $c(t){t.g&&!t.h&&Zc(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return De(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function th(){}function eh(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function nh(t,e){this.a=e,Zr(this,"verificationId",t)}function rh(t,e,n,r){return new Fo(t).eb(e,n).then((function(t){return new nh(t,r)}))}function ih(t){var e=Ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function oh(t,e,n){var r=e&&e[ah];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new co(null,r),this.b=[];var i=this;K(e[sh]||[],(function(t){(t=ii(t))&&i.b.push(t)})),Zr(this,"auth",this.a),Zr(this,"session",this.c),Zr(this,"hints",this.b)}Xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),De()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Zc(t,a,e,null)})).o((function(e){Zc(t,a,null,e)}))}(this,t,e):xe(new A("invalid-auth-event")):(Zc(this,!1,null,null),De())}else xe(new A("invalid-auth-event"))},Xc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=On(qc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},th.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),De()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):xe(new A("invalid-auth-event"))}else xe(new A("invalid-auth-event"))},nh.prototype.confirm=function(t){return t=qo(this.verificationId,t),this.a(t)};var sh="mfaInfo",ah="mfaPendingCredential";function uh(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new oh(t,e,n),Zr(this,"resolver",this.b)}function ch(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new uh(e,t.serverResponse,n,t.message)}catch(t){}return null}function hh(){}function fh(t){Zr(this,"factorId",t.fa),this.a=t}function lh(t){if(fh.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ph(t,e){for(var n in Ze.call(this,t),e)this[n]=e[n]}function dh(t,e){this.a=t,this.b=[],this.c=I(this.xc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&K(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[oi]=t.displayName),t.enrollmentTime&&(r[si]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ui]=t.phoneNumber);try{e=new ci(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),vh(this,n)}function vh(t,e){t.b=e,Zr(t,"enrolledFactors",e)}function yh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function mh(t,e){t.stop(),t.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return zr()||!t?De():new Ee((function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){mh(t,!0)})).o((function(e){t.h(e)&&mh(t,!1)}))}function gh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function bh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function wh(t,e){t.b=Wi(e[na]||""),t.a=e.refreshToken,bh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function Ih(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?fa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",tr(e).toString(),t.g,t.v.get()):r(new A("internal-error"))}))}(t.f,e).then((function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,bh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function _h(t,e){this.a=t||null,this.b=e||null,ti(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function Eh(t,e,n,r,i,o){ti(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Th(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=at.SDK_VERSION?xr(at.SDK_VERSION):null;this.a=new ta(this.l,C(k),r),t.emulatorConfig&&ua(this.a,t.emulatorConfig),this.b=new gh(this.a),Ch(this,e[na]),wh(this.b,e),Zr(this,"refreshToken",this.b.a),Rh(this,n||{}),Tn.call(this),this.P=!1,this.s&&Rr()&&(this.h=Jc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new yh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=I(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){ua(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Nh(i,t.f)},this.aa=null,this.N=new dh(this,n),Zr(this,"multiFactor",this.N)}function Sh(t,e){t.ba&&vn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&ln(e,"languageCodeChanged",t.Ba)}function Ah(t,e){t.W&&vn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&ln(e,"emulatorConfigChanged",t.za)}function Nh(t,e){t.X=e,ha(t.a,at.SDK_VERSION?xr(at.SDK_VERSION,t.X):null)}function kh(t,e){t.aa&&vn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&ln(e,"frameworkChanged",t.Aa)}function Oh(t){try{return at.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Dh(t){t.A||t.u.b||(t.u.start(),vn(t,"tokenChanged",t.$),ln(t,"tokenChanged",t.$))}function xh(t){vn(t,"tokenChanged",t.$),t.u.stop()}function Ch(t,e){t.ya=e,Zr(t,"_lat",e)}function Ph(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Pe(e).then((function(){return t}))}function Lh(t){t.h&&!t.P&&(t.P=!0,Vc(t.h,t))}function Rh(t,e){ti(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new _h(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function jh(){}function Mh(t){return De().then((function(){if(t.A)throw new A("app-deleted")}))}function Vh(t){return z(t.providerData,(function(t){return t.providerId}))}function Uh(t,e){e&&(Fh(t,e.providerId),t.providerData.push(e))}function Fh(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function qh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zr(t,e,n)}function Bh(t,e){t!=e&&(ti(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Zr(t,"metadata",function(t){return new _h(t.a,t.b)}(e.metadata)):Zr(t,"metadata",new _h),K(e.providerData,(function(e){Uh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Zr(t,"refreshToken",t.b.a),vh(t.N,e.N.b))}function Hh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return au(t.a,Va,{idToken:e}).then(I(t.Jc,t))}(t,e).then((function(){return n||qh(t,"isAnonymous",!1),e}))}))}function Kh(t,e){e[na]&&t.ya!=e[na]&&(wh(t.b,e),t.dispatchEvent(new ph("tokenChanged")),Ch(t,e[na]),qh(t,"refreshToken",t.b.a))}function Gh(t,e){return Hh(t).then((function(){if(J(Vh(t),e))return Ph(t).then((function(){throw new A("provider-already-linked")}))}))}function zh(t,e,n){return ei({user:t,credential:Bo(e),additionalUserInfo:e=Zi(e),operationType:n})}function Wh(t,e){return Kh(t,e),t.reload().then((function(){return t}))}function Jh(t,e,n,r,i){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));if(t.f&&!i)return xe(t.f);var o=Qi(n.providerId),s=Br(t.uid+":::"),a=null;(!Vr()||Er())&&t.s&&n.isOAuthProvider&&(a=_u(t.s,t.l,t.m,e,n,null,s,at.SDK_VERSION||null,null,null,t.tenantId));var u=gr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Yh(t),!i)return t.I().then((function(){}))})).then((function(){return Bc(t.h,u,e,n,s,!!a,t.tenantId)})).then((function(){return new Ee((function(n,r){t.ma(e,null,new A("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=s,t.c=Gc(t.h,t,e,u,s)}))})).then((function(t){return u&&mr(u),t?ei(t):null})).o((function(t){throw u&&mr(u),t})),$h(t,r,i)}function Xh(t,e,n,r,i){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));if(t.f&&!i)return xe(t.f);var o=null,s=Br(t.uid+":::");return r=r().then((function(){if(Yh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Ph(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(tf,t.w(),e.a)),e})).then((function(){return Kc(t.h,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return ef(t.ha);throw o})).then((function(){if(o)throw o})),$h(t,r,i)}function Yh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function $h(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),xe(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ph("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){X(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ch(e.w(),Oh(t),I(t.ic,t))),n||e}))}function Qh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[na]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Th(e,n,t);return t.providerData&&K(t.providerData,(function(t){t&&Uh(i,ei(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Zh(t){this.a=t,this.b=oc()}oh.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[sh],delete n[ah],gt(n,t),e.g(n)}))},T(uh,A),hh.prototype.rb=function(t,e,n){return e.type==ho?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Uo(t.a)}),au(e,ja,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(t.a)}),au(e,Ma,n)}))}(this,t,e)},T(fh,hh),T(lh,fh),T(ph,Ze),(t=dh.prototype).xc=function(t){vh(this,function(t){var e=[];return K(t.mfaInfo||[],(function(t){(t=ii(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new co(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Kh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return au(r,su,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return vh(e,r),Kh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},yh.prototype.start=function(){this.a=this.c,mh(this,!0)},yh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},gh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Ih(this,{grant_type:"refresh_token",refresh_token:this.a}):De(null):De({accessToken:this.b.toString(),refreshToken:this.a})},_h.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Th,Tn),Th.prototype.wa=function(t){this.pa=t,aa(this.a,t)},Th.prototype.ka=function(){return this.pa},Th.prototype.Ga=function(){return Q(this.X)},Th.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Zr(Th.prototype,"providerId","firebase"),(t=Th.prototype).reload=function(){var t=this;return $h(this,Mh(this).then((function(){return Hh(t).then((function(){return Ph(t)})).then(jh)})))},t.nc=function(t){return this.I(t).then((function(t){return new ih(t)}))},t.I=function(t){var e=this;return $h(this,Mh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.ya&&(Ch(e,t.accessToken),e.dispatchEvent(new ph("tokenChanged"))),qh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Rh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new Eh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Uh(this,e[n]);qh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ph("userReloaded",{gd:t}))},t.Kc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return $h(this,t.c(this.a,this.uid).then((function(t){return Kh(e,t),n=zh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return $h(this,Gh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zh(e,t,"link"),Wh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return $h(this,Gh(this,"phone").then((function(){return rh(Oh(n),t,e,I(n.pb,n))})))},t.Lc=function(t,e){var n=this;return $h(this,De().then((function(){return rh(Oh(n),t,e,I(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return $h(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Kh(e,t),e.reload()})))},t.dd=function(t){var e=this;return $h(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Kh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return $h(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Kh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Mh(this);var e=this;return $h(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Kh(e,t),qh(e,"displayName",t.displayName||null),qh(e,"photoURL",t.photoUrl||null),K(e.providerData,(function(t){"password"===t.providerId&&(Zr(t,"displayName",e.displayName),Zr(t,"photoURL",e.photoURL))})),Ph(e)})).then(jh))},t.bd=function(t){var e=this;return $h(this,Hh(this).then((function(n){return J(Vh(e),t)?function(t,e,n){return au(t,Pa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return K(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),K(Vh(e),(function(t){n[t]||Fh(e,t)})),n[Fo.PROVIDER_ID]||Zr(e,"phoneNumber",null),Ph(e)})):Ph(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return $h(this,this.I().then((function(e){return au(t.a,Ca,{idToken:e})})).then((function(){t.dispatchEvent(new ph("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Sh(t,null),Ah(t,null),kh(t,null),t.G=[],t.A=!0,xh(t),Zr(t,"refreshToken",null),t.h&&Uc(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?I(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?I(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Kb,this):null},t.Dc=function(t){var e=this;return Jh(this,"linkViaPopup",t,(function(){return Gh(e,t.providerId).then((function(){return Ph(e)}))}),!1)},t.Mc=function(t){return Jh(this,"reauthViaPopup",t,(function(){return De()}),!0)},t.Ec=function(t){var e=this;return Xh(this,"linkViaRedirect",t,(function(){return Gh(e,t.providerId)}),!1)},t.Nc=function(t){return Xh(this,"reauthViaRedirect",t,(function(){return De()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $h(this,this.I().then((function(n){return Sa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zh(i,t,"link"),Wh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $h(this,De().then((function(){return po(Aa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zh(i,t,"reauthenticate"),Kh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return $h(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:Hi(new Pi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return $h(this,this.I().then((function(t){return r=t,void 0===e||vt(e)?{}:Hi(new Pi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return $h(this,t=po(De(t),n.uid).then((function(t){return e=zh(n,t,"reauthenticate"),Kh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),K(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var tf={name:"redirectUser",D:"session"};function ef(t){return uc(t.b,tf,t.a)}function nf(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=sf("local"),n=sf("session"),r=sf("none");return function(t,e,n){var r=ac(e,n),i=sc(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=qr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(of,t.a).then((function(t){return t?sf(t):e}))}))}))})).then((function(e){return t.c=e,rf(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(sf("local"),this.a,I(this.g,this))}function rf(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,sf(rc[n]),t.a));return r.push(uc(t.b,of,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],_(o,a),s);else e(i)}))}(r)}nf.prototype.g=function(){var t=this,e=sf("local");hf(this,(function(){return De().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return rf(t,"local").then((function(){t.c=e}))}))}))};var of={name:"persistence",D:"session"};function sf(t){return{name:"authUser",D:t}}function af(t,e){return hf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function uf(t){return hf(t,(function(){return uc(t.b,t.c,t.a)}))}function cf(t,e,n){return hf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Qh(t||{})}))}))}function hf(t,e){return t.f=t.f.then(e,e),t.f}function ff(t){if(this.m=!1,Zr(this,"settings",new eh),Zr(this,"app",t),!wf(this).options||!wf(this).options.apiKey)throw new A("invalid-api-key");t=at.SDK_VERSION?xr(at.SDK_VERSION):null,this.a=new ta(wf(this).options&&wf(this).options.apiKey,C(k),t),this.R=[],this.u=[],this.P=[],this.ac=at.INTERNAL.createSubscribe(I(this.yc,this)),this.X=void 0,this.bc=at.INTERNAL.createSubscribe(I(this.zc,this)),gf(this,null),this.l=new nf(wf(this).options.apiKey+":"+wf(this).name),this.G=new Zh(wf(this).options.apiKey+":"+wf(this).name),this.$=Tf(this,function(t){var e=wf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tf,t.a).then((function(t){return t&&e&&(t.authDomain=e),Qh(t||{})}))}(t.G,wf(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),ef(t.G)}));return Tf(t,e)}(t).then((function(){return cf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return af(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:uf(t.l)}))):null})).then((function(e){gf(t,e||null)}));return Tf(t,n)}(this)),this.h=Tf(this,function(t){return t.$.then((function(){return yf(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(sf("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=I(this.Yc,this),this.Ba=I(this.da,this),this.ya=I(this.kc,this),this.za=I(this.vc,this),this.Aa=I(this.wc,this),this.b=null,function(t){var e=wf(t).options.authDomain,n=wf(t).options.apiKey;e&&Rr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Jc(e,n,wf(t).name,t.f),Vc(t.b,t),If(t)&&Lh(If(t)),t.s){Lh(t.s);var r=t.s;r.wa(t.ka()),Sh(r,t),Nh(r=t.s,t.N),kh(r,t),ua((r=t.s).a,t.f),Ah(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Fc,this),this.A=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function lf(t){Ze.call(this,"languageCodeChanged"),this.i=t}function pf(t){Ze.call(this,"emulatorConfigChanged"),this.c=t}function df(t){Ze.call(this,"frameworkChanged"),this.f=t}function vf(t){return t.gb||xe(new A("auth-domain-config-required"))}function yf(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=vf(t).then((function(){return t.b.qa()})).then((function(t){return t?ei(t):null}));return Tf(t,e)}function mf(t,e){var n={};return n.apiKey=wf(t).options.apiKey,n.authDomain=wf(t).options.authDomain,n.appName=wf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new Th(t,e);return n&&(i.ha=n),r&&Nh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return If(t)&&e.uid==If(t).uid?(Bh(If(t),e),t.da(e)):(gf(t,e),Lh(e),t.da(e))})).then((function(){Ef(t)}))}function gf(t,e){If(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(If(t),t.Ba),vn(If(t),"tokenChanged",t.ya),vn(If(t),"userDeleted",t.za),vn(If(t),"userInvalidated",t.Aa),xh(If(t))),e&&(e.R.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.A&&Dh(e)),Zr(t,"currentUser",e),e&&(e.wa(t.ka()),Sh(e,t),Nh(e,t.N),kh(e,t),ua(e.a,t.f),Ah(e,t))}function bf(t,e){var n=null,r=null;return Tf(t,e.then((function(e){return n=Bo(e),r=Zi(e),mf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ch(e.w(),t,I(t.jc,t))),n||e})).then((function(){return ei({user:If(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wf(t){return t.app}function If(t){return t.currentUser}function _f(t){return If(t)&&If(t)._lat||null}function Ef(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](_f(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](_f(t))}}function Tf(t,e){return t.R.push(e),e.na((function(){X(t.R,e)})),e}function Sf(){}function Af(){this.a={},this.b=1e12}nf.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Sr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ju()&&"none"!==t)throw n;break;default:if(!Lr()&&"none"!==t)throw n}}(t),hf(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,rf(n,t)})).then((function(){if(n.c=sf(t),e)return n.b.set(n.c,e,n.a)})):De()}))},T(ff,Tn),T(lf,Ze),T(pf,Ze),T(df,Ze),(t=ff.prototype).wb=function(t){return Tf(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,aa(this.a,this.aa),this.dispatchEvent(new lf(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&Ir().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,ua(this.a,this.f),this.dispatchEvent(new pf(this.f))}},t.Fc=function(t){this.N.push(t),ha(this.a,at.SDK_VERSION?xr(at.SDK_VERSION,this.N):null),this.dispatchEvent(new df(this.N))},t.Ga=function(){return Q(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:wf(this).options.apiKey,authDomain:wf(this).options.authDomain,appName:wf(this).name,currentUser:If(this)&&If(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?I(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bf(i,Ta(i.a,o))}))},t.Wc=function(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=this,n=Qi(t.providerId),r=Br(),i=null;(!Vr()||Er())&&wf(this).options.authDomain&&t.isOAuthProvider&&(i=_u(wf(this).options.authDomain,wf(this).options.apiKey,wf(this).name,"signInViaPopup",t,null,r,at.SDK_VERSION||null,null,null,this.S(),this.f));var o=gr(i,n&&n.ua,n&&n.ta);return Tf(this,n=vf(this).then((function(n){return Bc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new Ee((function(t,n){e.ma("signInViaPopup",null,new A("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Gc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&mr(o),t?ei(t):null})).o((function(t){throw o&&mr(o),t})))},t.Xc=function(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=this;return Tf(this,vf(this).then((function(){return function(t){return hf(t,(function(){return t.b.set(of,t.c.D,t.a)}))}(e.l)})).then((function(){return Kc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return yf(this).then((function(e){return t.b&&$c(t.b.b),e})).o((function(e){throw t.b&&$c(t.b.b),e}))},t.cd=function(t){if(!t)return xe(new A("null-user"));if(this.W!=t.tenantId)return xe(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=wf(this).options.apiKey,n.authDomain=wf(this).options.authDomain,n.appName=wf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[na]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Th(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Nh(e,r),Bh(e,t),e}(t,n,e.G,e.Ga());return Tf(this,this.h.then((function(){if(wf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return If(e)&&t.uid==If(e).uid?(Bh(If(e),t),e.da(t)):(gf(e,r),Lh(r),e.da(r))})).then((function(){Ef(e)})))},t.zb=function(){var t=this;return Tf(this,this.h.then((function(){return t.b&&$c(t.b.b),If(t)?(gf(t,null),uf(t.l).then((function(){Ef(t)}))):De()})))},t.Yc=function(){var t=this;return cf(this.l,wf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=If(t)&&e){n=If(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Bh(If(t),e),If(t).I();(If(t)||e)&&(gf(t,e),e&&(Lh(e),e.ha=t.G),t.b&&Vc(t.b,t),Ef(t))}}))},t.da=function(t){return af(this.l,t)},t.kc=function(){Ef(this),this.da(If(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return bf(e,De(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(If(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),Tf(t,t.h.then((function(){!t.m&&J(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(_f(t)))})))}(this,(function(){t.next(If(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(If(r)):"function"==typeof t.next&&t.next(If(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(If(r)):"function"==typeof t.next&&t.next(If(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return Tf(this,this.h.then((function(){return If(e)?If(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return bf(e,au(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return qh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return bf(n,au(n.a,nu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return bf(n,au(n.a,Da,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return bf(e,t.ja(e.a))}))},t.Rc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=If(t);if(e&&e.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bf(t,t.a.yb()).then((function(e){var n=e.user;return qh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return If(this)&&If(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&If(this)&&Dh(If(this))},t.Oc=function(t){var e=this;K(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&If(this)&&xh(If(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),Tf(this,this.h.then((function(){e.m||J(e.u,t)&&t(_f(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(sf("local"),t.a,this.pa),this.b&&(Uc(this.b,this),$c(this.b.b)),Promise.resolve()},t.gc=function(t){return Tf(this,function(t,e){return au(t,xa,{identifier:e,continueUri:jr()?pr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!jo(t)},t.vb=function(t,e){var n=this;return Tf(this,De().then((function(){var t=new Pi(e);if(!t.c)throw new A("argument-error",ji+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return Tf(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return Tf(this,this.a.Qa(t).then((function(t){return new hi(t)})))},t.ib=function(t){return Tf(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return Tf(this,De().then((function(){return void 0===e||vt(e)?{}:Hi(new Pi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return Tf(this,rh(this,t,e,I(this.Za,this)))},t.Uc=function(t,e){var n=this;return Tf(this,De().then((function(){var r=e||pr(),i=Ro(t,r);if(!(r=jo(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new A("tenant-id-mismatch");return n.Za(i)})))},Sf.prototype.render=function(){},Sf.prototype.reset=function(){},Sf.prototype.getResponse=function(){},Sf.prototype.execute=function(){};var Nf=null;function kf(t,e){return(e=Of(e))&&t.a[e]||null}function Of(t){return(t=void 0===t?1e12:t)?t.toString():null}function Df(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=fe(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():ln(this.f,"click",this.h)}function xf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Cf(){}function Pf(){}Af.prototype.render=function(t,e){return this.a[this.b.toString()]=new Df(t,e),this.b++},Af.prototype.reset=function(t){var e=kf(this,t);t=Of(t),e&&t&&(e.delete(),delete this.a[t])},Af.prototype.getResponse=function(t){return(t=kf(this,t))?t.getResponse():null},Af.prototype.execute=function(t){(t=kf(this,t))&&t.execute()},Df.prototype.getResponse=function(){return xf(this),this.b},Df.prototype.execute=function(){xf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.i&&t.execute()}),6e4)}),500))},Df.prototype.delete=function(){xf(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.h)},Zr(Cf,"FACTOR_ID","phone"),Pf.prototype.g=function(){return Nf||(Nf=new Af),De(Nf)},Pf.prototype.c=function(){};var Lf=null;function Rf(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jf=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mf=new Gr(3e4,6e4);Rf.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Mf.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete a[e.a]},De(Ws(kt(jf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Rf.prototype.c=function(){this.b--};var Vf=null;function Uf(t,e,n,r,i,o,s){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(Lf||(Lf=new Pf),s=Lf):(Vf||(Vf=new Rf),s=Vf),this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Bf])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Hf],!a.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fe(e)||!this.h&&fe(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ta(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ff];this.a[Ff]=function(t){if(Kf(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Pr(c,a);"function"==typeof e&&e(t)}};var h=this.a[qf];this.a[qf]=function(){if(Kf(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Pr(h,a);"function"==typeof t&&t()}}}var Ff="callback",qf="expired-callback",Bf="sitekey",Hf="size";function Kf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Gf(t,e){return t.i.push(e),e.na((function(){X(t.i,e)})),e}function zf(t){if(t.A)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wf(t,e,n){var r=!1;try{this.b=n||at.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=at.SDK_VERSION?xr(at.SDK_VERSION,o):null,Uf.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,C(k),r)}function Jf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Xf.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(t=Uf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Gf(this,De().then((function(){if(jr()&&!Tr())return Ir();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,au(t.s,Ka,{})})).then((function(e){t.a[Bf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){zf(this);var t=this;return Gf(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=fe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!he&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Gt(s.name),'"'),s.type){o.push(' type="',Gt(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=me(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):le(o,s)),2<r.length&&ye(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){zf(this);var t=this;return Gf(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){zf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zf(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=fe(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Wf,Uf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function $f(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Qf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Zf(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function tl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function el(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function nl(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function rl(t){return v(t)&&"string"==typeof t.uid}function il(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function ol(t,e){for(var n in e){var r=e[n].name;t[r]=ul(r,t[n],e[n].j)}}function sl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){Jf(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function al(t,e,n,r){t[e]=ul(e,n,r)}function ul(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Jf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ol(ff.prototype,{ib:{name:"applyActionCode",j:[Yf("code")]},Qa:{name:"checkActionCode",j:[Yf("code")]},mb:{name:"confirmPasswordReset",j:[Yf("code"),Yf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yf("email"),Yf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Yf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Yf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[il(Qf(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[il(Qf(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Yf("email"),il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Yf("email"),Qf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Yf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[el()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[el()]},Sc:{name:"signInWithCustomToken",j:[Yf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Yf("email"),Yf("password")]},Uc:{name:"signInWithEmailLink",j:[Yf("email"),Yf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[il({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Th)}},tl(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Yf("url"),Qf("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Yf("code")]}}),sl(ff.prototype,{lc:{name:"languageCode",jb:il(Yf(),tl(),"languageCode")},ti:{name:"tenantId",jb:il(Yf(),tl(),"tenantId")}}),ff.Persistence=rc,ff.Persistence.LOCAL="local",ff.Persistence.SESSION="session",ff.Persistence.NONE="none",ol(Th.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[$f("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[$f("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[el()]},pb:{name:"linkWithCredential",j:[el()]},Cc:{name:"linkWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[el()]},sb:{name:"reauthenticateWithCredential",j:[el()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yf(null,!0)]},bd:{name:"unlink",j:[Yf("provider")]},Ab:{name:"updateEmail",j:[Yf("email")]},Bb:{name:"updatePassword",j:[Yf("password")]},dd:{name:"updatePhoneNumber",j:[el("phone")]},Cb:{name:"updateProfile",j:[Qf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Yf("email"),il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]}}),ol(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ol(Sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ol(Ee.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sl(eh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:$f("appVerificationDisabledForTesting")}}),ol(nh.prototype,{confirm:{name:"confirm",j:[Yf("verificationCode")]}}),al(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[wo,Po,Vo,mo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[il(Yf(),Qf(),"json")]),al(Lo,"credential",(function(t,e){return new Co(t,e)}),[Yf("email"),Yf("password")]),ol(Co.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(To.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(To,"credential",So,[il(Yf(),Qf(),"token")]),al(Lo,"credentialWithLink",Ro,[Yf("email"),Yf("emailLink")]),ol(Ao.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(Ao,"credential",No,[il(Yf(),Qf(),"token")]),ol(ko.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(ko,"credential",Oo,[il(Yf(),il(Qf(),tl()),"idToken"),il(Yf(),tl(),"accessToken",!0)]),ol(Do.prototype,{Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(Do,"credential",xo,[il(Yf(),Qf(),"token"),Yf("secret",!0)]),ol(Eo.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},credential:{name:"credential",j:[il(Yf(),il(Qf(),tl()),"optionsOrIdToken"),il(Yf(),tl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),ol(go.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(vo.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),al(Fo,"credential",qo,[Yf("verificationId"),Yf("verificationCode")]),ol(Fo.prototype,{eb:{name:"verifyPhoneNumber",j:[il(Yf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?nl(t.session,ho)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?nl(t.session,fo)&&rl(t.multiFactorHint):t.session&&t.multiFactorUid?nl(t.session,fo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ol(Mo.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(A.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(Yo.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(Xo.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(uh.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(oh.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),ol(dh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Yf("displayName",!0)]},ad:{name:"unenroll",j:[il({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:rl},Yf(),"multiFactorInfoIdentifier")]}}),ol(Wf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),al(Ti,"parseLink",Ci,[Yf("link")]),al(Cf,"assertion",(function(t){return new lh(t)}),[el("phone")]),function(){if(void 0===at||!at.INTERNAL||!at.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ff,AuthCredential:lo,Error:A};al(t,"EmailAuthProvider",Lo,[]),al(t,"FacebookAuthProvider",To,[]),al(t,"GithubAuthProvider",Ao,[]),al(t,"GoogleAuthProvider",ko,[]),al(t,"TwitterAuthProvider",Do,[]),al(t,"OAuthProvider",Eo,[Yf("providerId")]),al(t,"SAMLAuthProvider",_o,[Yf("providerId")]),al(t,"PhoneAuthProvider",Fo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ff)}}]),al(t,"RecaptchaVerifier",Wf,[il(Yf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Qf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof at.app.App)}}]),al(t,"ActionCodeURL",Ti,[]),al(t,"PhoneMultiFactorGenerator",Cf,[]),at.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ff(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),at.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.mc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),at.registerVersion("@firebase/auth","0.16.1"),at.INTERNAL.extendNamespace({User:Th})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ut,ct=n(8676),ht="0.4.19",ft=1e4,lt="w:0.4.19",pt="FIS_v2",dt=36e5,vt=((ut={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ut["not-registered"]="Firebase Installation is not registered.",ut["installation-not-found"]="Firebase Installation not found.",ut["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ut["app-offline"]="Could not process request. Application offline.",ut["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ut),yt=new T("installations","Installations",vt);function mt(t){return t instanceof E&&t.code.includes("request-failed")}function gt(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function bt(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function wt(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,yt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function It(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _t(t,e){var n=e.refreshToken,r=It(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function Et(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Tt(t,e){var n=e.fid;return u(this,void 0,void 0,(function(){var e,r,i,o,s,a;return c(this,(function(u){switch(u.label){case 0:return e=gt(t),r=It(t),i={fid:n,authVersion:pt,appId:t.appId,sdkVersion:lt},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Et((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:bt(a.authToken)}];case 3:return[4,wt("Create Installation",s)];case 4:throw u.sent()}}))}))}function St(t){return new Promise((function(e){setTimeout(e,t)}))}var At=/^[cdef][\w-]{21}$/;function Nt(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,l(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return At.test(e)?e:""}catch(t){return""}}function kt(t){return t.appName+"!"+t.appId}var Ot=new Map;function Dt(t,e){var n=kt(t);xt(n,e),function(t,e){var n=Pt();n&&n.postMessage({key:t,fid:e});Lt()}(n,e)}function xt(t,e){var n,r,i=Ot.get(t);if(i)try{for(var o=h(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Ct=null;function Pt(){return!Ct&&"BroadcastChannel"in self&&((Ct=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){xt(t.data.key,t.data.fid)}),Ct}function Lt(){0===Ot.size&&Ct&&(Ct.close(),Ct=null)}var Rt,jt="firebase-installations-store",Mt=null;function Vt(){return Mt||(Mt=(0,ct.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(jt)}}))),Mt}function Ut(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s;return c(this,(function(a){switch(a.label){case 0:return n=kt(t),[4,Vt()];case 1:return r=a.sent(),i=r.transaction(jt,"readwrite"),[4,(o=i.objectStore(jt)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||Dt(t,e.fid),[2,e]}}))}))}function Ft(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return e=kt(t),[4,Vt()];case 1:return n=i.sent(),[4,(r=n.transaction(jt,"readwrite")).objectStore(jt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function qt(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a;return c(this,(function(u){switch(u.label){case 0:return n=kt(t),[4,Vt()];case 1:return r=u.sent(),i=r.transaction(jt,"readwrite"),[4,(o=i.objectStore(jt)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||Dt(t,a.fid),[2,a]}}))}))}function Bt(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,qt(t,(function(n){var r=function(t){return Gt(t||{fid:Nt(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(yt.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Tt(t,e)];case 1:return n=i.sent(),[2,Ut(t,n)];case 2:return mt(r=i.sent())&&409===r.customData.serverCode?[4,Ft(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Ut(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ht(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Ht(t){return u(this,void 0,void 0,(function(){var e,n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,Kt(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,St(100)];case 3:return o.sent(),[4,Kt(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Bt(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Kt(t){return qt(t,(function(t){if(!t)throw yt.create("installation-not-found");return Gt(t)}))}function Gt(t){return 1===(e=t).registrationStatus&&e.registrationTime+ft<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function zt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return u(this,void 0,void 0,(function(){var t,i,o,s,a,u,h;return c(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return gt(t)+"/"+n+"/authTokens:generate"}(n,e),i=_t(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:lt}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,Et((function(){return fetch(t,a)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return h=c.sent(),[2,bt(h)];case 3:return[4,wt("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function Wt(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,qt(t.appConfig,(function(r){if(!Xt(r))throw yt.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dt}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,Jt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,St(100)];case 3:return i.sent(),[4,Jt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Wt(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw yt.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return a(a({},t),{authToken:e})}(r);return n=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,zt(t,e)];case 1:return n=o.sent(),i=a(a({},e),{authToken:n}),[4,Ut(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!mt(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Ft(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=a(a({},e),{authToken:{requestStatus:0}}),[4,Ut(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Jt(t){return qt(t,(function(t){if(!Xt(t))throw yt.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+ft<Date.now()?a(a({},t),{authToken:{requestStatus:0}}):t}))}function Xt(t){return void 0!==t&&2===t.registrationStatus}function Yt(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,Bt(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function $t(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return gt(t)+"/"+n}(t,e),r=_t(t,e),i={method:"DELETE",headers:r},[4,Et((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,wt("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function Qt(t,e){var n=t.appConfig;return function(t,e){Pt();var n=kt(t),r=Ot.get(n);r||(r=new Set,Ot.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=kt(t),r=Ot.get(n);r&&(r.delete(e),0===r.size&&Ot.delete(n),Lt())}(n,e)}}function Zt(t){return yt.create("missing-app-config-values",{valueName:t})}(Rt=at).INTERNAL.registerComponent(new C("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Zt("App Configuration");if(!t.name)throw Zt("App Name");try{for(var r=h(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Zt(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,Bt(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Wt(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,Yt(t.appConfig)];case 1:return n.sent(),[4,Wt(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,qt(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw yt.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw yt.create("app-offline");case 3:return[4,$t(e,n)];case 4:return r.sent(),[4,Ft(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return Qt(n,t)}}}),"PUBLIC")),Rt.registerVersion("@firebase/installations",ht);var te,ee,ne="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(te||(te={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(ee||(ee={}));var re,ie=new G("@firebase/analytics");function oe(t,e,n,r,i,o){return u(this,void 0,void 0,(function(){var s,a,u,h;return c(this,(function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=c.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return h=c.sent(),ie.error(h),[3,8];case 8:return t(te.CONFIG,i,o),[2]}}))}))}function se(t,e,n,r,i){return u(this,void 0,void 0,(function(){var o,s,a,u,h,f,l,p;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=c.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},h=0,f=s;h<f.length&&(l=f[h],"break"!==u(l));h++);c.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return c.sent(),t(te.EVENT,r,i||{}),[3,5];case 4:return p=c.sent(),ie.error(p),[3,5];case 5:return[2]}}))}))}function ae(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return u(this,void 0,void 0,(function(){var a;return c(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==te.EVENT?[3,2]:[4,se(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==te.CONFIG?[3,4]:[4,oe(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(te.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),ie.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var ue=((re={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",re["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",re["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",re["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",re["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",re["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",re["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",re["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',re["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',re),ce=new T("analytics","Analytics",ue),he=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function fe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function le(t){var e;return u(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return c(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:fe(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw ce.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function pe(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=he),u(this,void 0,void 0,(function(){var e,s,a,u,h,f,l;return c(this,(function(c){switch(c.label){case 0:e=t.appId,s=t.measurementId,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,de(n,i)];case 2:return c.sent(),[3,4];case 3:if(a=c.sent(),s)return ie.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return c.trys.push([4,6,,7]),[4,le(t)];case 5:return u=c.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof E&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h=c.sent())){if(r.deleteThrottleMetadata(e),s)return ie.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:s}];throw h}return f=503===Number(h.customData.httpStatus)?x(o,r.intervalMillis,30):x(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(e,l),ie.debug("Calling attemptFetch again in "+f+" millis"),[2,pe(t,l,n,r)];case 7:return[2]}}))}))}function de(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(ce.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ve=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function ye(t,e,n,r,i){return u(this,void 0,void 0,(function(){var o,s,a,h,f,l,p;return c(this,(function(d){switch(d.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=he),u(this,void 0,void 0,(function(){var r,i,o,s,a,h,f=this;return c(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw ce.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw ce.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new ve,setTimeout((function(){return u(f,void 0,void 0,(function(){return c(this,(function(t){return h.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,pe({appId:i,apiKey:o,measurementId:s},a,h,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ie.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ie.error(t)})),e.push(o),s=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return w()?[3,1]:(ie.warn(ce.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,I()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ie.warn(ce.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return a=d.sent(),h=a[0],f=a[1],i("js",new Date),(p={}).origin="firebase",p.update=!0,l=p,null!=f&&(l.firebase_id=f),i(te.CONFIG,h.measurementId,l),[2,h.measurementId]}}))}))}var me,ge,be={},we=[],Ie={},_e="dataLayer",Ee="gtag",Te=!1;function Se(t){if(Te)throw ce.create("already-initialized");t.dataLayerName&&(_e=t.dataLayerName),t.gtagName&&(Ee=t.gtagName)}function Ae(t,e){!function(){var t=[];if(b()&&t.push("This is a browser extension environment."),_()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=ce.create("invalid-analytics-context",{errorInfo:e});ie.warn(n.message)}}();var n=t.options.appId;if(!n)throw ce.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ce.create("no-api-key");ie.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=be[n])throw ce.create("already-exists",{id:n});if(!Te){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ne))return r}return null})()||function(t){var e=document.createElement("script");e.src=ne+"?l="+t,e.async=!0,document.head.appendChild(e)}(_e),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_e);var r=ae(be,we,Ie,_e,Ee),i=r.wrappedGtag,o=r.gtagCore;ge=i,me=o,Te=!0}return be[n]=ye(t,we,Ie,e,me),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return u(this,void 0,void 0,(function(){var o,s;return c(this,(function(u){switch(u.label){case 0:return i&&i.global?(t(te.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),s=a(a({},r),{send_to:o}),t(te.EVENT,n,s),u.label=3;case 3:return[2]}}))}))})(ge,be[n],t,e,r).catch((function(t){return ie.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return u(this,void 0,void 0,(function(){var i;return c(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(te.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(te.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(ge,be[n],t,e).catch((function(t){return ie.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return u(this,void 0,void 0,(function(){var i;return c(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(te.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(te.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(ge,be[n],t,e).catch((function(t){return ie.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s,a,u;return c(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(te.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(te.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(ge,be[n],t,e).catch((function(t){return ie.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(be[n],t).catch((function(t){return ie.error(t)}))},INTERNAL:{delete:function(){return delete be[n],Promise.resolve()}}}}var Ne="analytics";function ke(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:if(b())return[2,!1];if(!_())return[2,!1];if(!w())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,I()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new C(Ne,(function(t){return Ae(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Se,EventName:ee,isSupported:ke})),t.INTERNAL.registerComponent(new C("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Ne).getImmediate().logEvent}}catch(t){throw ce.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(at);var Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function De(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Pe=Pe||{},Le=Ce||self;function Re(){}function je(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Me(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),Ue=0;function Fe(t,e,n){return t.call.apply(t.bind,arguments)}function qe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fe:qe).apply(null,arguments)}function He(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ke(){return Date.now()}function Ge(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ze(){this.j=this.j,this.i=this.i}ze.prototype.j=!1,ze.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Ve)&&t[Ve]||(t[Ve]=++Ue)})(this)},ze.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var We=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Je=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Xe(t){return Array.prototype.concat.apply([],arguments)}function Ye(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $e(t){return/^[\s\xa0]*$/.test(t)}var Qe,Ze=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tn(t,e){return-1!=t.indexOf(e)}function en(t,e){return t<e?-1:t>e?1:0}t:{var nn=Le.navigator;if(nn){var rn=nn.userAgent;if(rn){Qe=rn;break t}}Qe=""}function on(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sn(t){var e={};for(var n in t)e[n]=t[n];return e}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<an.length;o++)n=an[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cn(t){return cn[" "](t),t}cn[" "]=Re;var hn,fn,ln=tn(Qe,"Opera"),pn=tn(Qe,"Trident")||tn(Qe,"MSIE"),dn=tn(Qe,"Edge"),vn=dn||pn,yn=tn(Qe,"Gecko")&&!(tn(Qe.toLowerCase(),"webkit")&&!tn(Qe,"Edge"))&&!(tn(Qe,"Trident")||tn(Qe,"MSIE"))&&!tn(Qe,"Edge"),mn=tn(Qe.toLowerCase(),"webkit")&&!tn(Qe,"Edge");function gn(){var t=Le.document;return t?t.documentMode:void 0}t:{var bn="",wn=(fn=Qe,yn?/rv:([^\);]+)(\)|;)/.exec(fn):dn?/Edge\/([\d\.]+)/.exec(fn):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fn):mn?/WebKit\/(\S+)/.exec(fn):ln?/(?:Version)[ \/]?(\S+)/.exec(fn):void 0);if(wn&&(bn=wn?wn[1]:""),pn){var In=gn();if(null!=In&&In>parseFloat(bn)){hn=String(In);break t}}hn=bn}var _n,En={};function Tn(t){return function(t,e){var n=En;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Ze(String(hn)).split("."),r=Ze(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=en(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||en(0==s[2].length,0==a[2].length)||en(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Le.document&&pn){var Sn=gn();_n=Sn||(parseInt(hn,10)||void 0)}else _n=void 0;var An=_n,Nn=!pn||9<=Number(An),kn=pn&&!Tn("9"),On=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Le.addEventListener("test",Re,e),Le.removeEventListener("test",Re,e)}catch(t){}return t}();function Dn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function xn(t,e){if(Dn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(yn){t:{try{cn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Dn.prototype.b=function(){this.defaultPrevented=!0},Ge(xn,Dn);var Cn={2:"touch",3:"pen",4:"mouse"};xn.prototype.b=function(){xn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,kn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Pn="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function Rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ln,this.Y=this.Z=!1}function jn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Mn(t){this.src=t,this.a={},this.b=0}function Vn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=We(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(jn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Mn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Un(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Rn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Fn="closure_lm_"+(1e6*Math.random()|0),qn={};function Bn(t,e,n,r,i){if(r&&r.once)return Kn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bn(t,e[o],n,r,i);return null}return n=Qn(n),t&&t[Pn]?t.va(e,n,Me(r)?!!r.capture:!!r,i):Hn(t,e,n,!1,r,i)}function Hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Me(i)?!!i.capture:!!i;if(s&&!Nn)return null;var a=Yn(t);if(a||(t[Fn]=a=new Mn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Xn,e=Nn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)On||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Kn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Kn(t,e[o],n,r,i);return null}return n=Qn(n),t&&t[Pn]?t.wa(e,n,Me(r)?!!r.capture:!!r,i):Hn(t,e,n,!0,r,i)}function Gn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gn(t,e[o],n,r,i);else r=Me(r)?!!r.capture:!!r,n=Qn(n),t&&t[Pn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Un(o=t.a[e],n,r,i))&&(jn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Un(e,n,r,i)),(n=-1<t?e[t]:null)&&zn(n))}function zn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Pn])Vn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yn(e))?(Vn(n,t),0==n.b&&(n.src=null,e[Fn]=null)):jn(t)}}}function Wn(t){return t in qn?qn[t]:qn[t]="on"+t}function Jn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zn(t),n.call(r,e)}function Xn(t,e){if(t.Y)return!0;if(!Nn){if(!e)t:{e=["window","event"];for(var n=Le,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Jn(t,e=new xn(e,this))}return Jn(t,new xn(e,this))}function Yn(t){return(t=t[Fn])instanceof Mn?t:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(t){return"function"==typeof t?t:(t[$n]||(t[$n]=function(e){return t.handleEvent(e)}),t[$n])}function Zn(){ze.call(this),this.c=new Mn(this),this.J=this,this.C=null}function tr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Dn(e,t);else if(e instanceof Dn)e.target=e.target||t;else{var i=e;un(e=new Dn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=er(s,r,!0,e)&&i}if(i=er(s=e.a=t,r,!0,e)&&i,i=er(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=er(s=e.a=n[o],r,!1,e)&&i}function er(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Vn(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ge(Zn,ze),Zn.prototype[Pn]=!0,(xe=Zn.prototype).addEventListener=function(t,e,n,r){Bn(this,t,e,n,r)},xe.removeEventListener=function(t,e,n,r){Gn(this,t,e,n,r)},xe.G=function(){if(Zn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)jn(n[r]);delete e.a[t],e.b--}}this.C=null},xe.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},xe.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var nr=Le.JSON.stringify;function rr(){this.b=this.a=null}var ir,or=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new ar}),(function(t){t.reset()}));function sr(){var t=fr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ar(){this.next=this.b=this.a=null}function ur(t){Le.setTimeout((function(){throw t}),0)}function cr(t,e){ir||function(){var t=Le.Promise.resolve(void 0);ir=function(){t.then(lr)}}(),hr||(ir(),hr=!0),fr.add(t,e)}rr.prototype.add=function(t,e){var n=or.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ar.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ar.prototype.reset=function(){this.next=this.b=this.a=null};var hr=!1,fr=new rr;function lr(){for(var t;t=sr();){try{t.a.call(t.b)}catch(t){ur(t)}var e=or;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hr=!1}function pr(t,e){Zn.call(this),this.b=t||1,this.a=e||Le,this.f=Be(this.Za,this),this.g=Ke()}function dr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vr(t,e,n){if("function"==typeof t)n&&(t=Be(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Be(t.handleEvent,t)}return 2147483647<Number(e)?-1:Le.setTimeout(t,e||0)}function yr(t){t.a=vr((function(){t.a=null,t.c&&(t.c=!1,yr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ge(pr,Zn),(xe=pr.prototype).aa=!1,xe.M=null,xe.Za=function(){if(this.aa){var t=Ke()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),tr(this,"tick"),this.aa&&(dr(this),this.start()))}},xe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ke())},xe.G=function(){pr.X.G.call(this),dr(this),delete this.a};var mr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:yr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Le.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ze);function gr(t){ze.call(this),this.b=t,this.a={}}Ge(gr,ze);var br=[];function wr(t,e,n,r){Array.isArray(n)||(n&&(br[0]=n.toString()),n=br);for(var i=0;i<n.length;i++){var o=Bn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ir(t){on(t.a,(function(t,e){this.a.hasOwnProperty(e)&&zn(t)}),t),t.a={}}function _r(){this.a=!0}function Er(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return nr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}gr.prototype.G=function(){gr.X.G.call(this),Ir(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.info=function(){};var Tr={},Sr=null;function Ar(){return Sr=Sr||new Zn}function Nr(t){Dn.call(this,Tr.Fa,t)}function kr(t){var e=Ar();tr(e,new Nr(e,t))}function Or(t,e){Dn.call(this,Tr.STAT_EVENT,t),this.stat=e}function Dr(t){var e=Ar();tr(e,new Or(e,t))}function xr(t){Dn.call(this,Tr.Ga,t)}function Cr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Le.setTimeout((function(){t()}),e)}Tr.Fa="serverreachability",Ge(Nr,Dn),Tr.STAT_EVENT="statevent",Ge(Or,Dn),Tr.Ga="timingevent",Ge(xr,Dn);var Pr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Lr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Rr(){}function jr(t){var e;return(e=t.a)||(e=t.a={}),e}function Mr(){}Rr.prototype.a=null;var Vr,Ur={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fr(){Dn.call(this,"d")}function qr(){Dn.call(this,"c")}function Br(){}function Hr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new gr(this),this.P=Kr,t=vn?125:void 0,this.R=new pr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ge(Fr,Dn),Ge(qr,Dn),Ge(Br,Rr),Vr=new Br;var Kr=45e3,Gr={},zr={};function Wr(t,e,n){t.H=1,t.i=vi(ci(e)),t.j=n,t.I=!0,Jr(t,null)}function Jr(t,e){t.u=Ke(),$r(t),t.l=ci(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ki(n.b,"t",r),t.D=0,t.a=Eo(t.g,t.g.C?e:null),0<t.O&&(t.F=new mr(Be(t.Ca,t,t.a),t.O)),wr(t.J,t.a,"readystatechange",t.Xa),e=t.B?sn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),kr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Xr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Yr(t,n);if(i==zr){4==e&&(t.h=4,Dr(14),r=!1),Er(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gr){t.h=4,Dr(15),Er(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Er(t.c,t.f,i,null),ni(t,i)}4==e&&0==n.length&&(t.h=1,Dr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vo(e),e.F=!0,Dr(11))):(Er(t.c,t.f,n,"[Invalid Chunked Response]"),ei(t),ti(t))}function Yr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?zr:(n=Number(e.substring(n,r)),isNaN(n)?Gr:(r+=1)+n>e.length?zr:(e=e.substr(r,n),t.D=r+n,e))}function $r(t){t.T=Ke()+t.P,Qr(t,t.P)}function Qr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Cr(Be(t.Va,t),e)}function Zr(t){t.o&&(Le.clearTimeout(t.o),t.o=null)}function ti(t){0==t.g.v||t.A||go(t.g,t)}function ei(t){Zr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,dr(t.R),Ir(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ni(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ri(n.b,t)))if(n.I=t.N,!t.C&&Ri(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;mo(n),oo(n)}po(n),Dr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Cr(Be(n.Sa,n),6e3));if(1>=Li(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else wo(n,11)}else if((t.C||n.a==t)&&mo(n),!$e(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(tn(h,"spdy")||tn(h,"quic")||tn(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ji(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,di(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ke()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=_o(u,u.C?u.ga:null,u.fa),p.C){Mi(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Zr(d),$r(d)),u.a=p}else lo(u);0<n.g.length&&uo(n)}else"stop"!=i[0]&&"close"!=i[0]||wo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wo(n,7):io(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);kr(4)}catch(t){}}function ri(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(je(t)||"string"==typeof t)Je(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(je(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(je(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ii(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ii)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];si(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)si(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(xe=Hr.prototype).setTimeout=function(t){this.P=t},xe.Xa=function(t){t=t.target;var e=this.F;e&&3==to(t)?e.f():this.Ca(t)},xe.Ca=function(t){try{if(t==this.a)t:{var e=to(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!vn&&!this.a.$())){this.A||4!=e||7==n||kr(8==n||0>=r?3:2),Zr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$e(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Dr(12),ei(this),ti(this);break t}Er(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ni(this,u)}this.I?(Xr(this,e,o),vn&&this.b&&3==e&&(wr(this.J,this.R,"tick",this.Wa),this.R.start())):(Er(this.c,this.f,o,null),ni(this,o)),4==e&&ei(this),this.b&&!this.A&&(4==e?go(this.g,this):(this.b=!1,$r(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Dr(12)):(this.h=0,Dr(13)),ei(this),ti(this)}}}catch(t){}},xe.Wa=function(){if(this.a){var t=to(this.a),e=this.a.$();this.D<e.length&&(Zr(this),Xr(this,t,e),this.b&&4!=t&&$r(this))}},xe.cancel=function(){this.A=!0,ei(this)},xe.Va=function(){this.o=null;var t=Ke();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(kr(3),Dr(17)),ei(this),this.h=2,ti(this)):Qr(this,this.T-t)},(xe=ii.prototype).K=function(){oi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},xe.L=function(){return oi(this),this.a.concat()},xe.get=function(t,e){return si(this.b,t)?this.b[t]:e},xe.set=function(t,e){si(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},xe.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ai=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ui(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ui){this.a=void 0!==e?e:t.a,hi(this,t.f),this.j=t.j,fi(this,t.c),li(this,t.h),this.g=t.g,e=t.b;var n=new Ti;n.c=e.c,e.a&&(n.a=new ii(e.a),n.b=e.b),pi(this,n),this.i=t.i}else t&&(n=String(t).match(ai))?(this.a=!!e,hi(this,n[1]||"",!0),this.j=yi(n[2]||""),fi(this,n[3]||"",!0),li(this,n[4]),this.g=yi(n[5]||"",!0),pi(this,n[6]||"",!0),this.i=yi(n[7]||"")):(this.a=!!e,this.b=new Ti(null,this.a))}function ci(t){return new ui(t)}function hi(t,e,n){t.f=n?yi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fi(t,e,n){t.c=n?yi(e,!0):e}function li(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function pi(t,e,n){e instanceof Ti?(t.b=e,function(t,e){e&&!t.f&&(Si(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ai(this,e),ki(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=mi(e,_i)),t.b=new Ti(e,t.a))}function di(t,e,n){t.b.set(e,n)}function vi(t){return di(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ke()).toString(36)),t}function yi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ui.prototype.toString=function(){var t=[],e=this.f;e&&t.push(mi(e,bi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(mi(e,bi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(mi(n,"/"==n.charAt(0)?Ii:wi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",mi(n,Ei)),t.join("")};var bi=/[#\/\?@]/g,wi=/[#\?:]/g,Ii=/[#\?]/g,_i=/[#\?@]/g,Ei=/#/g;function Ti(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Si(t){t.a||(t.a=new ii,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ai(t,e){Si(t),e=Oi(t,e),si(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,si((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oi(t)))}function Ni(t,e){return Si(t),e=Oi(t,e),si(t.a.b,e)}function ki(t,e,n){Ai(t,e),0<n.length&&(t.c=null,t.a.set(Oi(t,e),Ye(n)),t.b+=n.length)}function Oi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(xe=Ti.prototype).add=function(t,e){Si(this),this.c=null,t=Oi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},xe.forEach=function(t,e){Si(this),this.a.forEach((function(n,r){Je(n,(function(n){t.call(e,n,r,this)}),this)}),this)},xe.L=function(){Si(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},xe.K=function(t){Si(this);var e=[];if("string"==typeof t)Ni(this,t)&&(e=Xe(e,this.a.get(Oi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Xe(e,t[n])}return e},xe.set=function(t,e){return Si(this),this.c=null,Ni(this,t=Oi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},xe.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},xe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Di=function(t,e){this.b=t,this.a=e};function xi(t){this.g=t||Ci,Le.PerformanceNavigationTiming?t=0<(t=Le.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Le.ia&&Le.ia.ya&&Le.ia.ya()&&Le.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ci=10;function Pi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Li(t){return t.b?1:t.a?t.a.size:0}function Ri(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ji(t,e){t.a?t.a.add(e):t.b=e}function Mi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Vi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=De(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ye(t.c)}function Ui(){}function Fi(){this.a=new Ui}function qi(t,e,n){var r=n||"";try{ri(t,(function(t,n){var i=t;Me(t)&&(i=nr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Bi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}xi.prototype.cancel=function(){var t,e;if(this.c=Vi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=De(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ui.prototype.stringify=function(t){return Le.JSON.stringify(t,void 0)},Ui.prototype.parse=function(t){return Le.JSON.parse(t,void 0)};var Hi=Le.JSON.parse;function Ki(t){Zn.call(this),this.headers=new ii,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Gi,this.D=this.F=!1}Ge(Ki,Zn);var Gi="",zi=/^https?$/i,Wi=["POST","PUT"];function Ji(t){return"content-type"==t.toLowerCase()}function Xi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Yi(t),Qi(t)}function Yi(t){t.u||(t.u=!0,tr(t,"complete"),tr(t,"error"))}function $i(t){if(t.b&&void 0!==Pe&&(!t.s[1]||4!=to(t)||2!=t.W()))if(t.l&&4==to(t))vr(t.za,0,t);else if(tr(t,"readystatechange"),4==to(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ai)[1]||null;if(!o&&Le.self&&Le.self.location){var s=Le.self.location.protocol;o=s.substr(0,s.length-1)}i=!zi.test(o?o.toLowerCase():"")}e=i}if(e)tr(t,"complete"),tr(t,"success");else{t.h=6;try{var a=2<to(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Yi(t)}}finally{Qi(t)}}}function Qi(t,e){if(t.a){Zi(t);var n=t.a,r=t.s[0]?Re:null;t.a=null,t.s=null,e||tr(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Zi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Le.clearTimeout(t.m),t.m=null)}function to(t){return t.a?t.a.readyState:0}function eo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return on(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):di(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ro(t){this.pa=0,this.g=[],this.c=new _r,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=no("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=no("baseRetryDelayMs",5e3,t),this.Ra=no("retryDelaySeedMs",1e4,t),this.Ma=no("forwardChannelMaxRetries",2,t),this.ma=no("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xi(t&&t.concurrentRequestLimit),this.ka=new Fi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function io(t){if(so(t),3==t.v){var e=t.R++,n=ci(t.B);di(n,"SID",t.J),di(n,"RID",e),di(n,"TYPE","terminate"),ho(t,n),(e=new Hr(t,t.c,e,void 0)).H=2,e.i=vi(ci(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(e.i.toString(),"")),!n&&Le.Image&&((new Image).src=e.i,n=!0),n||(e.a=Eo(e.g,null),e.a.ba(e.i)),e.u=Ke(),$r(e)}Io(t)}function oo(t){t.a&&(vo(t),t.a.cancel(),t.a=null)}function so(t){oo(t),t.j&&(Le.clearTimeout(t.j),t.j=null),mo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Le.clearTimeout(t.h),t.h=null)}function ao(t,e){t.g.push(new Di(t.Oa++,e)),3==t.v&&uo(t)}function uo(t){Pi(t.b)||t.h||(t.h=!0,cr(t.Ba,t),t.u=0)}function co(t,e){var n;n=e?e.f:t.R++;var r=ci(t.B);di(r,"SID",t.J),di(r,"RID",n),di(r,"AID",t.P),ho(t,r),t.i&&t.l&&eo(r,t.i,t.l),n=new Hr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=fo(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ji(t.b,n),Wr(n,r,e)}function ho(t,e){t.f&&ri({},(function(t,n){di(e,n,t)}))}function fo(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Be(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{qi(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function lo(t){t.a||t.j||(t.T=1,cr(t.Aa,t),t.o=0)}function po(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Cr(Be(t.Aa,t),bo(t,t.o)),t.o++,!0)}function vo(t){null!=t.s&&(Le.clearTimeout(t.s),t.s=null)}function yo(t){t.a=new Hr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ci(t.la);di(e,"RID","rpc"),di(e,"SID",t.J),di(e,"CI",t.H?"0":"1"),di(e,"AID",t.P),ho(t,e),di(e,"TYPE","xmlhttp"),t.i&&t.l&&eo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=vi(ci(e)),n.j=null,n.I=!0,Jr(n,t)}function mo(t){null!=t.m&&(Le.clearTimeout(t.m),t.m=null)}function go(t,e){var n=null;if(t.a==e){mo(t),vo(t),t.a=null;var r=2}else{if(!Ri(t.b,e))return;n=e.s,Mi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ke()-e.u;var i=t.u;tr(r=Ar(),new xr(r,n,e,i)),uo(t)}else lo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Li(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Cr(Be(t.Ba,t,e),bo(t,t.u)),t.u++,0)))}(t,e)||2==r&&po(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}function bo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function wo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Be(t.Ya,t);n||(n=new ui("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||hi(n,"https"),vi(n)),function(t,e){var n=new _r;if(Le.Image){var r=new Image;r.onload=He(Bi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=He(Bi,n,r,"TestLoadImage: error",!1,e),r.onabort=He(Bi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=He(Bi,n,r,"TestLoadImage: timeout",!1,e),Le.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dr(2);t.v=0,t.f&&t.f.ra(e),Io(t),so(t)}function Io(t){t.v=0,t.I=-1,t.f&&(0==Vi(t.b).length&&0==t.g.length||(t.b.c.length=0,Ye(t.g),t.g.length=0),t.f.qa())}function _o(t,e,n){var r=function(t){return t instanceof ui?ci(t):new ui(t,void 0)}(n);if(""!=r.c)e&&fi(r,e+"."+r.c),li(r,r.h);else{var i=Le.location;r=function(t,e,n,r){var i=new ui(null,void 0);return t&&hi(i,t),e&&fi(i,e),n&&li(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&on(t.V,(function(t,e){di(r,e,t)})),e=t.A,n=t.na,e&&n&&di(r,e,n),di(r,"VER",t.ha),ho(t,r),r}function Eo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ki(t.Na)).F=t.C,e}function To(){}function So(){if(pn&&!(10<=Number(An)))throw Error("Environmental error: no available transport.")}function Ao(t,e){Zn.call(this),this.a=new ro(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$e(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$e(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Oo(this)}function No(t){Fr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ko(){qr.call(this),this.status=1}function Oo(t){this.a=t}(xe=Ki.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?jr(this.H):jr(Vr),this.a.onreadystatechange=Be(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Xi(this,t)}t=n||"";var i=new ii(this.headers);r&&ri(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ji,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Le.FormData&&t instanceof Le.FormData,!(0<=We(Wi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zi(this),0<this.o&&((this.D=function(t){return pn&&Tn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Be(this.xa,this)):this.m=vr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Xi(this,t)}},xe.xa=function(){void 0!==Pe&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,tr(this,"timeout"),this.abort(8))},xe.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,tr(this,"complete"),tr(this,"abort"),Qi(this))},xe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qi(this,!0)),Ki.X.G.call(this)},xe.za=function(){this.j||(this.A||this.l||this.g?$i(this):this.Ua())},xe.Ua=function(){$i(this)},xe.W=function(){try{return 2<to(this)?this.a.status:-1}catch(t){return-1}},xe.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},xe.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hi(e)}},xe.ua=function(){return this.h},xe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(xe=ro.prototype).ha=8,xe.v=1,xe.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Hr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?un(r=sn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=fo(this,n,e),di(i=ci(this.B),"RID",t),di(i,"CVER",22),this.A&&di(i,"X-HTTP-Session-Id",this.A),ho(this,i),this.i&&r&&eo(i,this.i,r),ji(this.b,n),this.Ia&&di(i,"TYPE","init"),this.da?(di(i,"$req",e),di(i,"SID","null"),n.U=!0,Wr(n,i,null)):Wr(n,i,e),this.v=2}}else 3==this.v&&(t?co(this,t):0==this.g.length||Pi(this.b)||co(this))},xe.Aa=function(){if(this.j=null,yo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Cr(Be(this.Ta,this),t)}},xe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Dr(10),oo(this),yo(this))},xe.Sa=function(){null!=this.m&&(this.m=null,oo(this),po(this),Dr(19))},xe.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Dr(2)):(this.c.info("Failed to ping google.com"),Dr(1))},(xe=To.prototype).ta=function(){},xe.sa=function(){},xe.ra=function(){},xe.qa=function(){},xe.Ja=function(){},So.prototype.a=function(t,e){return new Ao(t,e)},Ge(Ao,Zn),Ao.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Dr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_o(t,null,t.fa),uo(t)},Ao.prototype.close=function(){io(this.a)},Ao.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ao(this.a,e)}else this.l?((e={}).__data__=nr(t),ao(this.a,e)):ao(this.a,t)},Ao.prototype.G=function(){this.a.f=null,delete this.f,io(this.a),delete this.a,Ao.X.G.call(this)},Ge(No,Fr),Ge(ko,qr),Ge(Oo,To),Oo.prototype.ta=function(){tr(this.a,"a")},Oo.prototype.sa=function(t){tr(this.a,new No(t))},Oo.prototype.ra=function(t){tr(this.a,new ko(t))},Oo.prototype.qa=function(){tr(this.a,"b")},So.prototype.createWebChannel=So.prototype.a,Ao.prototype.send=Ao.prototype.h,Ao.prototype.open=Ao.prototype.g,Ao.prototype.close=Ao.prototype.close,Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Lr.COMPLETE="complete",Mr.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Zn.prototype.listen=Zn.prototype.va,Ki.prototype.listenOnce=Ki.prototype.wa,Ki.prototype.getLastError=Ki.prototype.Qa,Ki.prototype.getLastErrorCode=Ki.prototype.ua,Ki.prototype.getStatus=Ki.prototype.W,Ki.prototype.getResponseJson=Ki.prototype.Pa,Ki.prototype.getResponseText=Ki.prototype.$,Ki.prototype.send=Ki.prototype.ba;var Do=function(){return new So},xo=function(){return Ar()},Co=Pr,Po=Lr,Lo=Tr,Ro={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},jo=Mr,Mo=Ki;var Vo=new G("@firebase/firestore");function Uo(){return Vo.logLevel}function Fo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vo.logLevel<=V.DEBUG){var r=e.map(Ho);Vo.debug.apply(Vo,p(["Firestore (8.2.2): "+t],r))}}function qo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vo.logLevel<=V.ERROR){var r=e.map(Ho);Vo.error.apply(Vo,p(["Firestore (8.2.2): "+t],r))}}function Bo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vo.logLevel<=V.WARN){var r=e.map(Ho);Vo.warn.apply(Vo,p(["Firestore (8.2.2): "+t],r))}}function Ho(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Ko(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw qo(e),new Error(e)}function Go(t,e){t||Ko()}function zo(t,e){return t}function Wo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jo=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Wo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Xo(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function $o(t){return t+"\0"}var Qo=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Xo(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Qo.h=new Qo("");var Zo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ts=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s(e,t),e}(Error),es=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Qo.fromBase64String(e))}catch(e){throw new ts(Zo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Qo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),ns=function(t){this._=t};function rs(){if("undefined"==typeof Uint8Array)throw new ts(Zo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function is(){if("undefined"==typeof atob)throw new ts(Zo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.fromBase64String=function(t){return is(),new e(es.fromBase64String(t))},e.fromUint8Array=function(t){return rs(),new e(es.fromUint8Array(t))},e.prototype.toBase64=function(){return is(),this._.toBase64()},e.prototype.toUint8Array=function(){return rs(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ns),ss=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},as=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),us=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();us.UNAUTHENTICATED=new us(null),us.P=new us("google-credentials-uid"),us.g=new us("first-party-uid");var cs=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},hs=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(us.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),fs=function(){function t(t){var e=this;this.C=null,this.currentUser=us.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Fo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Go("string"==typeof n.accessToken),new cs(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Go(null===t||"string"==typeof t),new us(t)},t}(),ls=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=us.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ps=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new ls(this.k,this.M))},t.prototype.S=function(t){t(us.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),ds=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();ds.U=-1;var vs=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ts(Zo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ts(Zo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ts(Zo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ts(Zo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Xo(this.nanoseconds,t.nanoseconds):Xo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ys=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new vs(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),ms=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ko(),void 0===n?n=t.length-e:n>t.length-e&&Ko(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ts(Zo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(ms),bs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return bs.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ts(Zo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ts(Zo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ts(Zo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ts(Zo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(ms),Is=function(){function t(t){this.path=t}return t.ft=function(e){return new t(gs.ct(e))},t.dt=function(e){return new t(gs.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===gs.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return gs.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new gs(e.slice()))},t}();function _s(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ts(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ss=function(){function t(t){this.fields=t,t.sort(ws.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Yo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),As=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(Go(!!t),"string"==typeof t){var e=0,n=As.exec(t);if(Go(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ks(t.seconds),nanos:ks(t.nanos)}}function ks(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Os(t){return"string"==typeof t?Qo.fromBase64String(t):Qo.fromUint8Array(t)}function Ds(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xs(t){var e=t.mapValue.fields.__previous_value__;return Ds(e)?xs(e):e}function Cs(t){var e=Ns(t.mapValue.fields.__local_write_time__.timestampValue);return new vs(e.seconds,e.nanos)}function Ps(t){return null==t}function Ls(t){return 0===t&&1/t==-1/0}function Rs(t){return"number"==typeof t&&Number.isInteger(t)&&!Ls(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ds(t)?4:10:Ko()}function Ms(t,e){var n=js(t);if(n!==js(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cs(t).isEqual(Cs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ns(t.timestampValue),r=Ns(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Os(t.bytesValue).isEqual(Os(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ks(t.geoPointValue.latitude)===ks(e.geoPointValue.latitude)&&ks(t.geoPointValue.longitude)===ks(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ks(t.integerValue)===ks(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ks(t.doubleValue),r=ks(e.doubleValue);return n===r?Ls(n)===Ls(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_s(n)!==_s(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ms(n[i],r[i])))return!1;return!0}(t,e);default:return Ko()}}function Vs(t,e){return void 0!==(t.values||[]).find((function(t){return Ms(t,e)}))}function Us(t,e){var n=js(t),r=js(e);if(n!==r)return Xo(n,r);switch(n){case 0:return 0;case 1:return Xo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ks(t.integerValue||t.doubleValue),r=ks(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Fs(t.timestampValue,e.timestampValue);case 4:return Fs(Cs(t),Cs(e));case 5:return Xo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Os(t),r=Os(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Xo(n[i],r[i]);if(0!==o)return o}return Xo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Xo(ks(t.latitude),ks(e.latitude));return 0!==n?n:Xo(ks(t.longitude),ks(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Us(n[i],r[i]);if(o)return o}return Xo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Xo(r[s],o[s]);if(0!==a)return a;var u=Us(n[r[s]],i[o[s]]);if(0!==u)return u}return Xo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ko()}}function Fs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xo(t,e);var n=Ns(t),r=Ns(e),i=Xo(n.seconds,r.seconds);return 0!==i?i:Xo(n.nanos,r.nanos)}function qs(t){return Bs(t)}function Bs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ns(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Is.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Bs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Bs(t.fields[o])}return e+"}"}(t.mapValue):Ko();var e,n}function Hs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Ks(t){return!!t&&"integerValue"in t}function Gs(t){return!!t&&"arrayValue"in t}function zs(t){return!!t&&"nullValue"in t}function Ws(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Js(t){return!!t&&"mapValue"in t}var Xs=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Js(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ms(this.proto,t.proto)},t}(),Ys=function(){function t(t){void 0===t&&(t=Xs.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===js(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(ws.at(),this.Rt);return null!=t?new Xs(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Js(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function $s(t){var e=[];return Es(t.fields||{},(function(t,n){var r=new ws([t]);if(Js(n)){var i=$s(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Ss(e)}var Qs=function(t,e){this.key=t,this.version=e},Zs=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return s(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qs),ta=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qs),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qs),na=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function ra(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new na(t,e,n,r,i,o,s)}function ia(t){var e=zo(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+qs(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Ps(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ma(e.startAt)),e.endAt&&(n+="|ub:",n+=ma(e.endAt)),e.St=n}return e.St}function oa(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ba(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ms(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ia(t.startAt,e.startAt)&&Ia(t.endAt,e.endAt)}function sa(t){return Is.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var aa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return s(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new ua(t,n,r):"array-contains"===n?new la(t,r):"in"===n?new pa(t,r):"not-in"===n?new da(t,r):"array-contains-any"===n?new va(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ca(t,n):new ha(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Us(e,this.value)):null!==e&&js(this.value)===js(e)&&this.Ct(Us(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ko()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ua=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Is.dt(r.referenceValue),i}return s(e,t),e.prototype.matches=function(t){var e=Is.J(t.key,this.key);return this.Ct(e)},e}(aa),ca=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=fa("in",n),r}return s(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(aa),ha=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=fa("not-in",n),r}return s(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(aa);function fa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Is.dt(t.referenceValue)}))}var la=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return s(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Gs(e)&&Vs(e.arrayValue,this.value)},e}(aa),pa=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return s(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Vs(this.value.arrayValue,e)},e}(aa),da=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return s(e,t),e.prototype.matches=function(t){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Vs(this.value.arrayValue,e)},e}(aa),va=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return s(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Gs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Vs(e.value.arrayValue,t)}))},e}(aa),ya=function(t,e){this.position=t,this.before=e};function ma(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return qs(t)})).join(",")}var ga=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ba(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function wa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Is.J(Is.dt(s.referenceValue),n.key):Us(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ia(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}var _a=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null,this.startAt,this.endAt};function Ea(t,e,n,r,i,o,s,a){return new _a(t,e,n,r,i,o,s,a)}function Ta(t){return new _a(t)}function Sa(t){return!Ps(t.limit)&&"F"===t.limitType}function Aa(t){return!Ps(t.limit)&&"L"===t.limitType}function Na(t){return t.Nt.length>0?t.Nt[0].field:null}function ka(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Oa(t){return null!==t.collectionGroup}function Da(t){var e=zo(t);if(null===e.Ot){e.Ot=[];var n=ka(e),r=Na(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new ga(n)),e.Ot.push(new ga(ws.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new ga(ws.lt(),u))}}}return e.Ot}function xa(t){var e=zo(t);if(!e.Ft)if("F"===e.limitType)e.Ft=ra(e.path,e.collectionGroup,Da(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Da(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new ga(o.field,s))}var a=e.endAt?new ya(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ya(e.startAt.position,!e.startAt.before):null;e.Ft=ra(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.Ft}function Ca(t,e,n){return new _a(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pa(t,e){return oa(xa(t),xa(e))&&t.limitType===e.limitType}function La(t){return ia(xa(t))+"|lt:"+t.limitType}function Ra(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+qs(e.value);var e})).join(", ")+"]"),Ps(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ma(t.startAt)),t.endAt&&(e+=", endAt: "+ma(t.endAt)),"Target("+e+")"}(xa(t))+"; limitType="+t.limitType+")"}function ja(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Is.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!wa(t.startAt,Da(t),e)||t.endAt&&wa(t.endAt,Da(t),e))}(t,e)}function Ma(t){return function(e,n){for(var r=!1,i=0,o=Da(t);i<o.length;i++){var s=o[i],a=Va(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Va(t,e,n){var r=t.field.ht()?Is.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Us(r,i):Ko()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ko()}}var Ua=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ys.min()),void 0===o&&(o=ys.min()),void 0===s&&(s=Qo.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Fa(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(e)?"-0":e}}function qa(t){return{integerValue:""+t}}function Ba(t,e){return Rs(e)?qa(e):Fa(t,e)}var Ha=function(){this.Ut=void 0};function Ka(t,e,n){return t instanceof Wa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ja?Xa(t,e):t instanceof Ya?$a(t,e):function(t,e){var n=za(t,e),r=Za(n)+Za(t.Qt);return Ks(n)&&Ks(t.Qt)?qa(r):Fa(t.Kt,r)}(t,e)}function Ga(t,e,n){return t instanceof Ja?Xa(t,e):t instanceof Ya?$a(t,e):n}function za(t,e){return t instanceof Qa?Ks(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(Ha),Ja=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return s(e,t),e}(Ha);function Xa(t,e){for(var n=tu(e),r=function(t){n.some((function(e){return Ms(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ya=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return s(e,t),e}(Ha);function $a(t,e){for(var n=tu(e),r=function(t){n=n.filter((function(e){return!Ms(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return s(e,t),e}(Ha);function Za(t){return ks(t.integerValue||t.doubleValue)}function tu(t){return Gs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var eu=function(t,e){this.field=t,this.transform=e},nu=function(t,e){this.version=t,this.transformResults=e},ru=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iu(t,e){return void 0!==t.updateTime?e instanceof Zs&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Zs}var ou=function(){};function su(t,e,n){return t instanceof fu?function(t,e,n){var r=t.value;if(n.transformResults){var i=du(t.fieldTransforms,e,n.transformResults);r=yu(t.fieldTransforms,r,i)}return new Zs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof lu?function(t,e,n){if(!iu(t.Gt,e))return new ea(t.key,n.version);var r=pu(t,e,n.transformResults?du(t.fieldTransforms,e,n.transformResults):[]);return new Zs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ta(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function au(t,e,n,r){return t instanceof fu?function(t,e,n,r){if(!iu(t.Gt,e))return e;var i=t.value,o=vu(t.fieldTransforms,n,e);i=yu(t.fieldTransforms,i,o);var s=hu(e);return new Zs(t.key,s,i,{bt:!0})}(t,e,r):t instanceof lu?function(t,e,n,r){if(!iu(t.Gt,e))return e;var i=hu(e),o=pu(t,e,vu(t.fieldTransforms,n,e));return new Zs(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return iu(t.Gt,e)?new ta(t.key,ys.min()):e}(t,e)}function uu(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Zs?e.field(o.field):void 0,a=za(o.transform,s||null);null!=a&&(n=null==n?(new Ys).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function cu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Yo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ja&&e instanceof Ja||t instanceof Ya&&e instanceof Ya?Yo(t.elements,e.elements,Ms):t instanceof Qa&&e instanceof Qa?Ms(t.Qt,e.Qt):t instanceof Wa&&e instanceof Wa}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function hu(t){return t instanceof Zs?t.version:ys.min()}var fu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return s(e,t),e}(ou),lu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return s(e,t),e}(ou);function pu(t,e,n){var r;return r=function(t,e){var n=new Ys(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Zs?e.data():Xs.empty()),yu(t.fieldTransforms,r,n)}function du(t,e,n){var r=[];Go(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Zs&&(a=e.field(o.field)),r.push(Ga(s,a,n[i]))}return r}function vu(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Zs&&(c=n.field(a.field)),i.push(Ka(u,c,e))}return i}function yu(t,e,n){for(var r=new Ys(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var mu,gu,bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return s(e,t),e}(ou),wu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return s(e,t),e}(ou),Iu=function(t){this.count=t};function _u(t){switch(t){case Zo.OK:return Ko();case Zo.CANCELLED:case Zo.UNKNOWN:case Zo.DEADLINE_EXCEEDED:case Zo.RESOURCE_EXHAUSTED:case Zo.INTERNAL:case Zo.UNAVAILABLE:case Zo.UNAUTHENTICATED:return!1;case Zo.INVALID_ARGUMENT:case Zo.NOT_FOUND:case Zo.ALREADY_EXISTS:case Zo.PERMISSION_DENIED:case Zo.FAILED_PRECONDITION:case Zo.ABORTED:case Zo.OUT_OF_RANGE:case Zo.UNIMPLEMENTED:case Zo.DATA_LOSS:return!0;default:return Ko()}}function Eu(t){if(void 0===t)return qo("GRPC error has no .code"),Zo.UNKNOWN;switch(t){case mu.OK:return Zo.OK;case mu.CANCELLED:return Zo.CANCELLED;case mu.UNKNOWN:return Zo.UNKNOWN;case mu.DEADLINE_EXCEEDED:return Zo.DEADLINE_EXCEEDED;case mu.RESOURCE_EXHAUSTED:return Zo.RESOURCE_EXHAUSTED;case mu.INTERNAL:return Zo.INTERNAL;case mu.UNAVAILABLE:return Zo.UNAVAILABLE;case mu.UNAUTHENTICATED:return Zo.UNAUTHENTICATED;case mu.INVALID_ARGUMENT:return Zo.INVALID_ARGUMENT;case mu.NOT_FOUND:return Zo.NOT_FOUND;case mu.ALREADY_EXISTS:return Zo.ALREADY_EXISTS;case mu.PERMISSION_DENIED:return Zo.PERMISSION_DENIED;case mu.FAILED_PRECONDITION:return Zo.FAILED_PRECONDITION;case mu.ABORTED:return Zo.ABORTED;case mu.OUT_OF_RANGE:return Zo.OUT_OF_RANGE;case mu.UNIMPLEMENTED:return Zo.UNIMPLEMENTED;case mu.DATA_LOSS:return Zo.DATA_LOSS;default:return Ko()}}(gu=mu||(mu={}))[gu.OK=0]="OK",gu[gu.CANCELLED=1]="CANCELLED",gu[gu.UNKNOWN=2]="UNKNOWN",gu[gu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gu[gu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gu[gu.NOT_FOUND=5]="NOT_FOUND",gu[gu.ALREADY_EXISTS=6]="ALREADY_EXISTS",gu[gu.PERMISSION_DENIED=7]="PERMISSION_DENIED",gu[gu.UNAUTHENTICATED=16]="UNAUTHENTICATED",gu[gu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gu[gu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gu[gu.ABORTED=10]="ABORTED",gu[gu.OUT_OF_RANGE=11]="OUT_OF_RANGE",gu[gu.UNIMPLEMENTED=12]="UNIMPLEMENTED",gu[gu.INTERNAL=13]="INTERNAL",gu[gu.UNAVAILABLE=14]="UNAVAILABLE",gu[gu.DATA_LOSS=15]="DATA_LOSS";var Tu=function(){function t(t,e){this.J=t,this.root=e||Au.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Au.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Au.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Su(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Su(this.root,t,this.J,!1)},t.prototype.se=function(){return new Su(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Su(this.root,t,this.J,!0)},t}(),Su=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Au=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ko();if(this.right._e())throw Ko();var t=this.left.me();if(t!==this.right.me())throw Ko();return t+(this._e()?0:1)},t}();Au.EMPTY=null,Au.RED=!0,Au.Jt=!1,Au.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ko()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Au(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Nu=function(){function t(t){this.J=t,this.data=new Tu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ku(this.data.ee())},t.prototype.ne=function(t){return new ku(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ku=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Ou=new Tu(Is.J);function Du(){return Ou}function xu(){return Du()}var Cu=new Tu(Is.J);function Pu(){return Cu}var Lu=new Tu(Is.J);function Ru(){return Lu}var ju=new Nu(Is.J);function Mu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ju,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vu=new Nu(Xo);function Uu(){return Vu}var Fu=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Is.J(e.key,n.key)}:function(t,e){return Is.J(t.key,e.key)},this.Ve=Pu(),this.pe=new Tu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),qu=function(){function t(){this.ve=new Tu(Is.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ko():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Bu=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Fu.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Pa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Hu=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Ku.Be(e,n)),new t(ys.min(),r,Uu(),Du(),Mu())},t}(),Ku=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Qo.h,n,Mu(),Mu(),Mu())},t}(),Gu=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},zu=function(t,e){this.targetId=t,this.Ge=e},Wu=function(t,e,n,r){void 0===n&&(n=Qo.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ju=function(){function t(){this.ze=0,this.He=$u(),this.Je=Qo.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Mu(),e=Mu(),n=Mu();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ko()}})),new Ku(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=$u()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Xu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Du(),this.fn=Yu(),this.dn=new Nu(Xo)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Zs?this.En(r,t.We):t.We instanceof ta&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ko()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(sa(i))if(0===n){var o=new Is(i.path);this.Tn(e,o,new ta(o,ys.min()))}else Go(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&sa(o.target)){var s=new Is(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new ta(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Mu();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Hu(t,n,this.dn,this._n,r);return this._n=Du(),this.fn=Yu(),this.dn=new Nu(Xo),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ju,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Nu(Xo),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Fo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ju),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Yu(){return new Tu(Is.J)}function $u(){return new Tu(Is.J)}var Qu={asc:"ASCENDING",desc:"DESCENDING"},Zu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tc=function(t,e){this.T=t,this.qt=e};function ec(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nc(t,e){return t.qt?e.toBase64():e.toUint8Array()}function rc(t,e){return ec(t,e.G())}function ic(t){return Go(!!t),ys.j(function(t){var e=Ns(t);return new vs(e.seconds,e.nanos)}(t))}function oc(t,e){return function(t){return new gs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function sc(t){var e=gs.ct(t);return Go(Dc(e)),e}function ac(t,e){return oc(t.T,e.path)}function uc(t,e){var n=sc(e);if(n.get(1)!==t.T.projectId)throw new ts(Zo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new ts(Zo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Is(lc(n))}function cc(t,e){return oc(t.T,e)}function hc(t){var e=sc(t);return 4===e.length?gs.at():lc(e)}function fc(t){return new gs(["projects",t.T.projectId,"databases",t.T.database]).ot()}function lc(t){return Go(t.length>4&&"documents"===t.get(4)),t.X(5)}function pc(t,e,n){return{name:ac(t,e),fields:n.proto.mapValue.fields}}function dc(t,e,n){var r=uc(t,e.name),i=ic(e.updateTime),o=new Xs({mapValue:{fields:e.fields}});return new Zs(r,i,o,{hasCommittedMutations:!!n})}function vc(t,e){var n;if(e instanceof fu)n={update:pc(t,e.key,e.value)};else if(e instanceof bu)n={delete:ac(t,e.key)};else if(e instanceof lu)n={update:pc(t,e.key,e.data),updateMask:Oc(e.zt)};else{if(!(e instanceof wu))return Ko();n={verify:ac(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Wa)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ja)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Ya)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Qa)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ko()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ko()}(t,e.Gt)),n}function yc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ru.updateTime(ic(t.updateTime)):void 0!==t.exists?ru.exists(t.exists):ru.jt()}(e.currentDocument):ru.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Go("REQUEST_TIME"===e.setToServerValue),n=new Wa;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ja(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ya(i)}else"increment"in e?n=new Qa(t,e.increment):Ko();var o=ws._t(e.fieldPath);return new eu(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=uc(t,e.update.name),o=new Xs({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Ss(e.map((function(t){return ws._t(t)})))}(e.updateMask);return new lu(i,o,s,n,r)}return new fu(i,o,n,r)}if(e.delete){var a=uc(t,e.delete);return new bu(a,n)}if(e.verify){var u=uc(t,e.verify);return new wu(u,n)}return Ko()}function mc(t,e){return{documents:[cc(t,e.path)]}}function gc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=cc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cc(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ws(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NAN"}};if(zs(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ws(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NAN"}};if(zs(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(t.field),op:Tc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Sc(t.field),direction:Ec(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Ps(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ic(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ic(e.endAt)),n}function bc(t){var e=hc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Go(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=wc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ga(Ac(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ps(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=_c(n.startAt));var h=null;return n.endAt&&(h=_c(n.endAt)),Ea(e,i,a,s,u,"F",c,h)}function wc(t){return t?void 0!==t.unaryFilter?[kc(t)]:void 0!==t.fieldFilter?[Nc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return wc(t)})).reduce((function(t,e){return t.concat(e)})):Ko():[]}function Ic(t){return{before:t.before,values:t.position}}function _c(t){var e=!!t.before,n=t.values||[];return new ya(n,e)}function Ec(t){return Qu[t]}function Tc(t){return Zu[t]}function Sc(t){return{fieldPath:t.ot()}}function Ac(t){return ws._t(t.fieldPath)}function Nc(t){return aa.create(Ac(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ko()}}(t.fieldFilter.op),t.fieldFilter.value)}function kc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ac(t.unaryFilter.field);return aa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ac(t.unaryFilter.field);return aa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ac(t.unaryFilter.field);return aa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ac(t.unaryFilter.field);return aa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ko()}}function Oc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Dc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var xc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Cc=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Ko(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Pc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new xc,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new jc(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=qc(e.target.error);n.qn.reject(new jc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jc(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Fo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Vc(e)},t}(),Lc=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(m())&&qo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fo("SimpleDb","Removing database:",t),Uc(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=m(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Fo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new jc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ts(Zo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new jc(t,n))},i.onupgradeneeded=function(t){Fo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){Fo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s,a,u;return c(this,(function(h){switch(h.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,h,f;return c(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=c.sent(),e=Pc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Cc.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return h=c.sent(),f="FirebaseError"!==h.name&&o<3,Fo("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),a.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},a=this,h.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=h.sent()))return[2,u.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Rc=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Uc(this.ts.delete())},t}(),jc=function(t){function e(e,n){var r=this;return(r=t.call(this,Zo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return s(e,t),e}(ts);function Mc(t){return"IndexedDbTransactionError"===t.name}var Vc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Uc(n)},t.prototype.add=function(t){return Fo("SimpleDb","ADD",this.store.name,t,t),Uc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Uc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Fo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Fo("SimpleDb","DELETE",this.store.name,t),Uc(this.store.delete(t))},t.prototype.count=function(){return Fo("SimpleDb","COUNT",this.store.name),Uc(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Fo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Cc((function(n,r){e.onerror=function(t){var e=qc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Cc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Rc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Cc){var a=s.catch((function(t){return o.done(),Cc.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Cc.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Uc(t){return new Cc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=qc(t.target.error);n(e)}}))}var Fc=!1;function qc(t){var e=Lc.Kn(m());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ts("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Fc||(Fc=!0,setTimeout((function(){throw r}),0)),r}}return t}var Bc=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new xc,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new ts(Zo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Hc(t,e){if(qo("AsyncQueue",e+": "+t),Mc(t))return new ts(Zo.UNAVAILABLE,e+": "+t);throw t}var Kc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gc=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function zc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Jc(e)),e=Wc(t.get(n),e);return Jc(e)}function Wc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Jc(t){return t+""}function Xc(t){var e=t.length;if(Go(e>=2),2===e)return Go(""===t.charAt(0)&&""===t.charAt(1)),gs.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Ko(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ko()}o=s+2}return new gs(r)}var Yc=function(t,e){this.seconds=t,this.nanoseconds=e},$c=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$c.store="owner",$c.key="owner";var Qc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Qc.store="mutationQueues",Qc.keyPath="userId";var Zc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Zc.store="mutations",Zc.keyPath="batchId",Zc.userMutationsIndex="userMutationsIndex",Zc.userMutationsKeyPath=["userId","batchId"];var th=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,zc(e)]},t.key=function(t,e,n){return[t,zc(e),n]},t}();th.store="documentMutations",th.PLACEHOLDER=new th;var eh=function(t,e){this.path=t,this.readTime=e},nh=function(t,e){this.path=t,this.version=e},rh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rh.store="remoteDocuments",rh.readTimeIndex="readTimeIndex",rh.readTimeIndexPath="readTime",rh.collectionReadTimeIndex="collectionReadTimeIndex",rh.collectionReadTimeIndexPath=["parentPath","readTime"];var ih=function(t){this.byteSize=t};ih.store="remoteDocumentGlobal",ih.key="remoteDocumentGlobalKey";var oh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};oh.store="targets",oh.keyPath="targetId",oh.queryTargetsIndexName="queryTargetsIndex",oh.queryTargetsKeyPath=["canonicalId","targetId"];var sh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sh.store="targetDocuments",sh.keyPath=["targetId","path"],sh.documentTargetsIndex="documentTargetsIndex",sh.documentTargetsKeyPath=["path","targetId"];var ah=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ah.key="targetGlobalKey",ah.store="targetGlobal";var uh=function(t,e){this.collectionId=t,this.parent=e};uh.store="collectionParents",uh.keyPath=["collectionId","parent"];var ch=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ch.store="clientMetadata",ch.keyPath="clientId";var hh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};hh.store="bundles",hh.keyPath="bundleId";var fh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fh.store="namedQueries",fh.keyPath="name";var lh=p(p(p(p([Qc.store,Zc.store,th.store,rh.store,oh.store,$c.store,ah.store,sh.store],[ch.store]),[ih.store]),[uh.store]),[hh.store,fh.store]),ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return s(e,t),e}(Gc);function dh(t,e){var n=zo(t);return Lc.Hn(n.bs,e)}var vh=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=su(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=au(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=au(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,(function(t,e){return cu(t,e)}))&&Yo(this.baseMutations,t.baseMutations,(function(t,e){return cu(t,e)}))},t}(),yh=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Go(e.mutations.length===r.length);for(var i=Ru(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),mh=function(t){this.ks=t};function gh(t,e){if(e.document)return dc(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Is.Tt(e.noDocument.path),r=Eh(e.noDocument.readTime);return new ta(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Is.Tt(e.unknownDocument.path);return r=Eh(e.unknownDocument.version),new ea(i,r)}return Ko()}function bh(t,e,n){var r=wh(n),i=e.key.path.Z().rt();if(e instanceof Zs){var o=function(t,e){return{name:ac(t,e.key),fields:e.vt().mapValue.fields,updateTime:ec(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new rh(null,null,o,s,r,i)}if(e instanceof ta){var a=e.key.path.rt(),u=_h(e.version);return s=e.hasCommittedMutations,new rh(null,new eh(a,u),null,s,r,i)}if(e instanceof ea){var c=e.key.path.rt(),h=_h(e.version);return new rh(new nh(c,h),null,null,!0,r,i)}return Ko()}function wh(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Ih(t){var e=new vs(t[0],t[1]);return ys.j(e)}function _h(t){var e=t.G();return new Yc(e.seconds,e.nanoseconds)}function Eh(t){var e=new vs(t.seconds,t.nanoseconds);return ys.j(e)}function Th(t,e){for(var n=(e.baseMutations||[]).map((function(e){return yc(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return yc(t.ks,e)})),s=vs.fromMillis(e.localWriteTimeMs);return new vh(e.batchId,s,n,o)}function Sh(t){var e,n,r=Eh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Eh(t.lastLimboFreeSnapshotVersion):ys.min();return void 0!==t.query.documents?(Go(1===(n=t.query).documents.length),e=xa(Ta(hc(n.documents[0])))):e=function(t){return xa(bc(t))}(t.query),new Ua(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Qo.fromBase64String(t.resumeToken))}function Ah(t,e){var n,r=_h(e.Mt),i=_h(e.lastLimboFreeSnapshotVersion);n=sa(e.target)?mc(t.ks,e.target):gc(t.ks,e.target);var o=e.resumeToken.toBase64();return new oh(e.targetId,ia(e.target),r,o,e.sequenceNumber,i,n)}function Nh(t){var e=bc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ca(e,e.limit,"L"):e}var kh=function(){function t(){}return t.prototype.Ms=function(t,e){return Oh(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Eh(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Oh(t).put({bundleId:(n=e).id,createTime:_h(ic(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Dh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Nh(e.bundledQuery),readTime:Eh(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Dh(t).put(function(t){return{name:t.name,readTime:_h(ic(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Oh(t){return dh(t,hh.store)}function Dh(t){return dh(t,fh.store)}var xh=function(){function t(){this.qs=new Ch}return t.prototype.Us=function(t,e){return this.qs.add(e),Cc.resolve()},t.prototype.Qs=function(t,e){return Cc.resolve(this.qs.getEntries(e))},t}(),Ch=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Nu(gs.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Nu(gs.J)).rt()},t}(),Ph=function(){function t(){this.Ks=new Ch}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:zc(i)};return Lh(t).put(o)}return Cc.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[$o(e),""],!1,!0);return Lh(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Xc(o.parent))}return n}))},t}();function Lh(t){return dh(t,uh.store)}var Rh={js:!1,Ws:0,Gs:0,zs:0},jh=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Mh(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){if(t.code!==Zo.FAILED_PRECONDITION||t.message!==Kc)throw t;return Fo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}jh.Zs=10,jh.ti=1e3,jh.ei=new jh(41943040,jh.Zs,jh.ti),jh.ni=new jh(-1,0,0);var Vh=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.ii(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Es(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.nt=function(){return Ts(this.ri)},t}(),Uh=function(){function t(){this.oi=new Vh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:ys.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Cc.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Fh(t,e,n){var r=t.store(Zc.store),i=t.store(th.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Go(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=th.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Cc.$n(o).next((function(){return c}))}function qh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ko();e=t.noDocument}return JSON.stringify(e).length}var Bh=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Go(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kh(t).ls({index:Zc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=Gh(t),s=Kh(t);return s.add({}).next((function(a){Go("number"==typeof a);for(var u=new vh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return vc(t.ks,e)})),i=n.mutations.map((function(e){return vc(t.ks,e)}));return new Zc(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),h=[],f=new Nu((function(t,e){return Xo(t.ot(),e.ot())})),l=0,p=r;l<p.length;l++){var d=p[l],v=th.key(i.userId,d.key.path,a);f=f.add(d.key.path.Z()),h.push(s.put(c)),h.push(o.put(v,th.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),Cc.$n(h).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Kh(t).get(e).next((function(t){return t?(Go(t.userId===n.userId),Th(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Cc.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Kh(t).ls({index:Zc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Go(e.batchId>=r),o=Th(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kh(t).ls({index:Zc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kh(t).os(Zc.userMutationsIndex,n).next((function(t){return t.map((function(t){return Th(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=th.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Gh(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Xc(u);if(a===n.userId&&e.path.isEqual(h))return Kh(t).get(c).next((function(t){if(!t)throw Ko();Go(t.userId===n.userId),o.push(Th(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new Nu(Xo),i=[];return e.forEach((function(e){var o=th.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Gh(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Xc(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Cc.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=th.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Nu(Xo);return Gh(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Xc(u);s===n.userId&&r.st(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Kh(t).get(e).next((function(t){if(null===t)throw Ko();Go(t.userId===n.userId),r.push(Th(n.Kt,t))})))})),Cc.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Fh(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Cc.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Cc.resolve();var r=IDBKeyRange.lowerBound(th.prefixForUser(e.userId)),i=[];return Gh(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Xc(t[1]);i.push(o)}else r.done()})).next((function(){Go(0===i.length)}))}))},t.prototype.ki=function(t,e){return Hh(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return zh(t).get(this.userId).next((function(t){return t||new Qc(e.userId,-1,"")}))},t}();function Hh(t,e,n){var r=th.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Gh(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Kh(t){return dh(t,Zc.store)}function Gh(t){return dh(t,th.store)}function zh(t){return dh(t,Qc.store)}var Wh=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Jh=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Wh(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return ys.j(new vs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Xh(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Go(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Xh(t).ls((function(s,a){var u=Sh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return Cc.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Xh(t).ls((function(t,n){var r=Sh(n);e(r)}))},t.prototype.Ui=function(t){return Yh(t).get(ah.key).next((function(t){return Go(null!==t),t}))},t.prototype.Qi=function(t,e){return Yh(t).put(ah.key,e)},t.prototype.zi=function(t,e){return Xh(t).put(Ah(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=ia(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xh(t).ls({range:r,index:oh.queryTargetsIndexName},(function(t,n,r){var o=Sh(n);oa(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=$h(t);return e.forEach((function(e){var s=zc(e.path);i.push(o.put(new sh(n,s))),i.push(r.Ii.sr(t,n,e))})),Cc.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=$h(t);return Cc.forEach(e,(function(e){var o=zc(e.path);return Cc.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=$h(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=$h(t),i=Mu();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Xc(t[1]),o=new Is(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=zc(e.path),r=IDBKeyRange.bound([n],[$o(n)],!1,!0),i=0;return $h(t).ls({index:sh.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Xh(t).get(e).next((function(t){return t?Sh(t):null}))},t}();function Xh(t){return dh(t,oh.store)}function Yh(t){return dh(t,ah.store)}function $h(t){return dh(t,sh.store)}function Qh(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Xo(n,i);return 0===s?Xo(r,o):s}var Zh=function(){function t(t){this.ar=t,this.buffer=new Nu(Qh),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),tf=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Fo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return u(e,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Mc(e=n.sent())?(Fo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Mh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ef=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Cc.resolve(ds.U);var r=new Zh(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Fo("LruGarbageCollector","Garbage collection skipped; disabled"),Cc.resolve(Rh)):this.br(t).next((function(r){return r<n.params.Hs?(Fo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Rh):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Fo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),Uo()<=V.DEBUG&&Fo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Cc.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),nf=function(){function t(t,e){this.db=t,this._r=function(t,e){return new ef(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return rf(t,n)},t.prototype.rr=function(t,e,n){return rf(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return rf(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return zh(t)._s((function(r){return Hh(t,r,e).next((function(t){return t&&(n=!0),Cc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(s,a){if(a<=e){var u=n.Nr(t,s).next((function(e){if(!e)return o++,r.fi(t,s).next((function(){return r._i(s),$h(t).delete([0,zc(s.path)])}))}));i.push(u)}})).next((function(){return Cc.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return rf(t,e)},t.prototype.Cr=function(t,e){var n,r=$h(t),i=ds.U;return r.ls({index:sh.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==ds.U&&e(new Is(Xc(n)),i),i=a,n=s):i=ds.U})).next((function(){i!==ds.U&&e(new Is(Xc(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function rf(t,e){return $h(t).put(function(t,e){return new sh(0,zc(t.path),e)}(e,t.vs))}var of=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return uf(t).put(cf(e),n)},t.prototype._i=function(t,e){var n=uf(t),r=cf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return uf(t).get(cf(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return uf(t).get(cf(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:qh(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=xu();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=xu(),i=new Tu(Is.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,qh(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Cc.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return uf(t).ls({range:r},(function(t,e,r){for(var s=Is.Tt(t);o&&Is.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Pu(),o=e.path.length+1,s={};if(n.isEqual(ys.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=wh(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=rh.collectionReadTimeIndex}return uf(t).ls(s,(function(t,n,s){if(t.length===o){var a=gh(r.Kt,n);e.path.st(a.key.path)?a instanceof Zs&&ja(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new sf(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return af(t).get(ih.key).next((function(t){return Go(!!t),t}))},t.prototype.Lr=function(t,e){return af(t).put(ih.key,e)},t.prototype.$r=function(t){if(t){var e=gh(this.Kt,t);return e instanceof ta&&e.version.isEqual(ys.min())?null:e}return null},t}(),sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Vh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return s(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Nu((function(t,e){return Xo(t.ot(),e.ot())}));return this.oi.forEach((function(o,s){var a=e.zr.get(o);if(s.li){var u=bh(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=qh(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var h=bh(e.Gr.Kt,new ta(o,ys.min()),e.ai(o));n.push(e.Gr.ui(t,o,h))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Cc.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Uh);function af(t){return dh(t,ih.store)}function uf(t){return dh(t,rh.store)}function cf(t){return t.path.rt()}var hf=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Go(n<r&&n>=0&&r<=11);var o=new Pc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore($c.store)}(t),function(t){t.createObjectStore(Qc.store,{keyPath:Qc.keyPath}),t.createObjectStore(Zc.store,{keyPath:Zc.keyPath,autoIncrement:!0}).createIndex(Zc.userMutationsIndex,Zc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(th.store)}(t),ff(t),function(t){t.createObjectStore(rh.store)}(t));var s=Cc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(sh.store),t.deleteObjectStore(oh.store),t.deleteObjectStore(ah.store)}(t),ff(t)),s=s.next((function(){return function(t){var e=t.store(ah.store),n=new ah(0,0,ys.min().G(),0);return e.put(ah.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Zc.store).os().next((function(n){t.deleteObjectStore(Zc.store),t.createObjectStore(Zc.store,{keyPath:Zc.keyPath,autoIncrement:!0}).createIndex(Zc.userMutationsIndex,Zc.userMutationsKeyPath,{unique:!0});var r=e.store(Zc.store),i=n.map((function(t){return r.put(t)}));return Cc.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ch.store,{keyPath:ch.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ih.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rh.store);e.createIndex(rh.readTimeIndex,rh.readTimeIndexPath,{unique:!1}),e.createIndex(rh.collectionReadTimeIndex,rh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(hh.store,{keyPath:hh.keyPath})}(t),function(t){t.createObjectStore(fh.store,{keyPath:fh.keyPath})}(t)}))),s},t.prototype.Jr=function(t){var e=0;return t.store(rh.store).ls((function(t,n){e+=qh(n)})).next((function(){var n=new ih(e);return t.store(ih.store).put(ih.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Qc.store),r=t.store(Zc.store);return n.os().next((function(n){return Cc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Zc.userMutationsIndex,i).next((function(r){return Cc.forEach(r,(function(r){Go(r.userId===n.userId);var i=Th(e.Kt,r);return Fh(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(sh.store),n=t.store(rh.store);return t.store(ah.store).get(ah.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new gs(n),s=function(t){return[0,zc(t)]}(o);r.push(e.get(s).next((function(n){return n?Cc.resolve():function(n){return e.put(new sh(0,zc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Cc.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(uh.store,{keyPath:uh.keyPath});var n=e.store(uh.store),r=new Ch,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:zc(i)})}};return e.store(rh.store).ls({hs:!0},(function(t,e){var n=new gs(t);return i(n.Z())})).next((function(){return e.store(th.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Xc(n));return i(r.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(oh.store);return n.ls((function(t,r){var i=Sh(r),o=Ah(e.Kt,i);return n.put(o)}))},t}();function ff(t){t.createObjectStore(sh.store,{keyPath:sh.keyPath}).createIndex(sh.documentTargetsIndex,sh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(oh.store,{keyPath:oh.keyPath}).createIndex(oh.queryTargetsIndexName,oh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ah.store)}var lf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pf=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=h,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new ts(Zo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new nf(this,i),this.lo=n+"main",this.Kt=new mh(u),this._o=new Lc(this.lo,11,new hf(this.Kt)),this.fo=new Jh(this.Ii,this.Kt),this.Ti=new Ph,this.wo=function(t,e){return new of(t,e)}(this.Kt,this.Ti),this.Eo=new kh,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===h&&qo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ts(Zo.FAILED_PRECONDITION,lf);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new ds(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return u(e,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vf(e).put(new ch(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Mc(e))return Fo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return df(t).get($c.key).next((function(t){return Cc.resolve(e.Co(t))}))},t.prototype.xo=function(t){return vf(t).delete(this.clientId)},t.prototype.No=function(){return u(this,void 0,void 0,(function(){var t,e,n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=dh(t,ch.store);return e.os().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Cc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.To)for(e=0,n=t;e<n.length;e++)r=n[e],this.To.removeItem(this.ko(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Cc.resolve(!0):df(t).get($c.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new ts(Zo.FAILED_PRECONDITION,lf);return!1}}return!(!e.networkEnabled||!e.inForeground)||vf(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Fo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[$c.store,ch.store],(function(e){var n=new ph(e,ds.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vf(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Bh.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Fo("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this._o.runTransaction(t,o,lh,(function(o){return i=new ph(o,r.io?r.io.next():ds.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw qo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new ts(Zo.FAILED_PRECONDITION,Kc);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},t.prototype.Go=function(t){var e=this;return df(t).get($c.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ts(Zo.FAILED_PRECONDITION,lf)}))},t.prototype.Do=function(t){var e=new $c(this.clientId,this.allowTabSynchronization,Date.now());return df(t).put($c.key,e)},t.jn=function(){return Lc.jn()},t.prototype.So=function(t){var e=this,n=df(t);return n.get($c.key).next((function(t){return e.Co(t)?(Fo("IndexedDbPersistence","Releasing primary lease."),n.delete($c.key)):Cc.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(qo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Fo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return qo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){qo("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function df(t){return dh(t,$c.store)}function vf(t){return dh(t,ch.store)}function yf(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mf=function(t,e){this.progress=t,this.zo=e},gf=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=xu();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Du();return i.forEach((function(t,e){e||(e=new ta(t,ys.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Is.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Oa(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Is(e)).next((function(t){var e=Pu();return t instanceof Zs&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Pu();return this.Ti.Qs(t,i).next((function(s){return Cc.forEach(s,(function(s){var a=function(t,e){return new _a(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=au(u,r.get(c),0,o.Ss);r=h instanceof Zs?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ja(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Mu(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof lu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Zs&&(c=c.Ht(t,e))})),c}))},t}(),bf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Mu(),i=Mu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),wf=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ys.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(Sa(e)||Aa(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Uo()<=V.DEBUG&&Fo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ra(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Nu(Ma(t));return e.forEach((function(e,r){r instanceof Zs&&ja(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Uo()<=V.DEBUG&&Fo("QueryEngine","Using full collection scan to execute query:",Ra(e)),this.uc.jr(t,e,ys.min())},t}(),If=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Tu(Xo),this.wc=new Vh((function(t){return ia(t)}),oa),this.Ec=ys.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new gf(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function _f(t,e,n,r){return new If(t,e,n,r)}function Ef(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(s){switch(s.label){case 0:return n=zo(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(s){return o=s,r=n.persistence.Ko(e),i=new gf(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],s=Mu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Tf(t,e){var n=zo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Cc.resolve();return o.forEach((function(t){s=s.next((function(){return r.fi(e,t)})).next((function(e){var o=e,s=n.Fs.get(t);Go(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),s.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Sf(t){var e=zo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function Af(t,e){var n=zo(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Go(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}}));var a=Du();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))})),s.push(Nf(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(ys.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));s.push(u)}return Cc.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Nf(t,e,n,r,i){var o=Mu();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Du();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof ta&&s.version.isEqual(ys.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):Fo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function kf(t,e){var n=zo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Of(t,e){var n=zo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?(r=i,Cc.resolve(r)):n.fo.qi(t).next((function(i){return r=new Ua(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Df(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s;return c(this,(function(a){switch(a.label){case 0:r=zo(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Mc(s=a.sent()))throw s;return Fo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function xf(t,e,n){var r=zo(t),i=ys.min(),o=Mu();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=zo(t),i=r.wc.get(n);return void 0!==i?Cc.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,xa(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:ys.min(),n?o:Mu())})).next((function(t){return{documents:t,Pc:o}}))}))}function Cf(t,e){var n=zo(t),r=zo(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Pf(t){var e=zo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=zo(t),i=Du(),o=wh(n),s=uf(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:rh.readTimeIndex,range:a},(function(t,e){var n=gh(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:Ih(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo,r=t.readTime;return e.Ec=r,n}))}function Lf(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){return[2,(e=zo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=uf(t),n=ys.min();return e.ls({index:rh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ih(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Rf(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s,a,u,h,f,l,p,d;return c(this,(function(c){switch(c.label){case 0:for(i=zo(t),o=Mu(),s=Du(),a=Ru(),u=0,h=n;u<h.length;u++)f=h[u],l=e.yc(f.metadata.name),f.document&&(o=o.add(l)),s=s.Ht(l,e.gc(f)),a=a.Ht(l,e.Vc(f.metadata.readTime));return p=i.Tc.Or({Wr:!0}),[4,Of(i,function(t){return xa(Ta(gs.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=c.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Nf(t,p,s,ys.min(),a).next((function(e){return p.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function jf(t,e,n){return void 0===n&&(n=Mu()),u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return[4,Of(t,xa(Nh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=zo(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=ic(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Qo.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var Mf=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Cc.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:ic(n.createTime)}),Cc.resolve()},t.prototype.$s=function(t,e){return Cc.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Nh(t.bundledQuery),readTime:ic(t.readTime)}}(e)),Cc.resolve()},t}(),Vf=function(){function t(){this.Sc=new Nu(Uf.Dc),this.Cc=new Nu(Uf.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Uf(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Uf(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Is(new gs([])),r=new Uf(n,t),i=new Uf(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Is(new gs([])),n=new Uf(e,t),r=new Uf(e,t+1),i=Mu();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Uf(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Uf=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Is.J(t.key,e.key)||Xo(t.$c,e.$c)},t.xc=function(t,e){return Xo(t.$c,e.$c)||Is.J(t.key,e.key)},t}(),Ff=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Nu(Uf.Dc)}return t.prototype.Ri=function(t){return Cc.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new vh(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Uf(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Cc.resolve(o)},t.prototype.yi=function(t,e){return Cc.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return Cc.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return Cc.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Cc.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Uf(e,0),i=new Uf(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Cc.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Nu(Xo);return e.forEach((function(t){var e=new Uf(t,0),i=new Uf(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Cc.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Is.Et(i)||(i=i.child(""));var o=new Uf(new Is(i),0),s=new Nu(Xo);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Cc.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Go(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Cc.forEach(e.mutations,(function(i){var o=new Uf(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Uf(e,0),r=this.qc.Pe(n);return Cc.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return this.Ho.length,Cc.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),qf=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new Tu(Is.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Cc.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=xu();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Cc.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Pu(),i=new Is(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.key,u=s.value,c=u.li,h=u.readTime;if(!e.path.st(a.path))break;h.u(n)<=0||c instanceof Zs&&ja(e,c)&&(r=r.Ht(c.key,c))}return Cc.resolve(r)},t.prototype.Gc=function(t,e){return Cc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Bf(this)},t.prototype.Mr=function(t){return Cc.resolve(this.size)},t}(),Bf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return s(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Cc.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Uh),Hf=function(){function t(t){this.persistence=t,this.zc=new Vh((function(t){return ia(t)}),oa),this.lastRemoteSnapshotVersion=ys.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Vf,this.targetCount=0,this.Yc=Wh.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Cc.resolve()},t.prototype.Ki=function(t){return Cc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Cc.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Cc.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Cc.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Wh(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Cc.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Cc.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Cc.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)})),Cc.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return Cc.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Cc.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Cc.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Cc.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Cc.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Cc.resolve(n)},t.prototype.ki=function(t,e){return Cc.resolve(this.Jc.ki(e))},t}(),Kf=function(){function t(t,e){var n=this;this.Xc={},this.io=new ds(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Hf(this),this.Ti=new xh,this.wo=function(t,e){return new qf(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new mh(e),this.Eo=new Mf(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Ff(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Fo("MemoryPersistence","Starting transaction:",t);var i=new Gf(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Cc.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return s(e,t),e}(Gc),zf=function(){function t(t){this.persistence=t,this.sa=new Vf,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ko()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Cc.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Cc.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Cc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Cc.forEach(this.oa,(function(r){var i=Is.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Cc.Bn([function(){return Cc.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Wf(t,e){return"firestore_clients_"+t+"_"+e}function Jf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Xf(t,e){return"firestore_targets_"+t+"_"+e}var Yf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new ts(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(qo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$f=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ts(r.error.code,r.error.message)),i?new t(e,r.state,o):(qo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Uu(),s=0;i&&s<r.activeTargetIds.length;++s)i=Rs(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(qo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(qo("SharedClientState","Failed to parse online state: "+e),null)},t}(),tl=function(){function t(){this.activeTargetIds=Uu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),el=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Tu(Xo),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Wf(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new tl),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return u(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,h,f,l=this;return c(this,(function(c){switch(c.label){case 0:return[4,this.fa.Qo()];case 1:for(t=c.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Wf(this.persistenceKey,r)))&&(o=Qf.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,h=this.Ia;u<h.length;u++)f=h[u],this.Ea(f);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Xf(this.persistenceKey,t));if(n){var r=$f.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Xf(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void qo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return u(e,void 0,void 0,(function(){var t,e,r,i,o,s;return c(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=ds.U;if(null!=t)try{var n=JSON.parse(t);Go("number"==typeof n),e=n}catch(t){qo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ds.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Yf(this.currentUser,t,e,n),i=Jf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Jf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=Xf(this.persistenceKey,t),i=new $f(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Qf.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yf.aa(new us(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return $f.aa(r,e)},t.prototype.ba=function(t){return Zf.aa(t)},t.prototype.Xa=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Fo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Uu();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),nl=function(){function t(){this.ru=new tl,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new tl,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),rl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),il=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Fo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Fo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ol={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sl=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),al=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return s(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Mo;s.listenOnce(Po.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Co.NO_ERROR:var e=s.getResponseJson();Fo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Co.TIMEOUT:Fo("Connection",'RPC "'+t+'" timed out'),o(new ts(Zo.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:var n=s.getStatus();if(Fo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zo).indexOf(e)>=0?e:Zo.UNKNOWN}(r.status);o(new ts(a,r.message))}else o(new ts(Zo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ts(Zo.UNAVAILABLE,"Connection failed."));break;default:Ko()}}finally{Fo("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Do(),i=xo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())||"object"==typeof navigator&&"ReactNative"===navigator.product||m().indexOf("Electron/")>=0||function(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||m().indexOf("MSAppHost/")>=0||b()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Fo("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,h=new sl({du:function(t){c?Fo("Connection","Not sending because WebChannel is closed:",t):(u||(Fo("Connection","Opening WebChannel transport."),a.open(),u=!0),Fo("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a,jo.EventType.OPEN,(function(){c||Fo("Connection","WebChannel transport opened.")})),f(a,jo.EventType.CLOSE,(function(){c||(c=!0,Fo("Connection","WebChannel transport closed"),h.Pu())})),f(a,jo.EventType.ERROR,(function(t){c||(c=!0,Bo("Connection","WebChannel transport errored:",t),h.Pu(new ts(Zo.UNAVAILABLE,"The operation could not be completed")))})),f(a,jo.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Go(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Fo("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=mu[t];if(void 0!==e)return Eu(e)}(o),u=i.message;void 0===s&&(s=Zo.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,h.Pu(new ts(s,u)),a.close()}else Fo("Connection","WebChannel received:",n),h.yu(n)}})),f(i,Lo.STAT_EVENT,(function(t){t.stat===Ro.PROXY?Fo("Connection","Detected buffering proxy"):t.stat===Ro.NOPROXY&&Fo("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ru()}),0),h},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Fo("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Fo("RestConnection","Received: ",t),t}),(function(e){throw Bo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=ol[t];return this.Vu+"/v1/"+e+":"+n},t}());function ul(){return"undefined"!=typeof window?window:null}function cl(){return"undefined"!=typeof document?document:null}function hl(t){return new tc(t,!0)}var fl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Fo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),ll=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new fl(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Zo.RESOURCE_EXHAUSTED?(qo(e.toString()),qo("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Zo.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new ts(Zo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return u(t,void 0,void 0,(function(){return c(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Fo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Fo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),pl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return s(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ko()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Go(void 0===e||"string"==typeof e),Qo.fromBase64String(e||"")):(Go(void 0===e||e instanceof Uint8Array),Qo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zo.UNKNOWN:Eu(t.code);return new ts(e,t.message||"")}(a);n=new Wu(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=uc(t,r.document.name),o=ic(r.document.updateTime);var a=new Xs({mapValue:{fields:r.document.fields}}),u=(s=new Zs(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new Gu(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=uc(t,r.document),o=r.readTime?ic(r.readTime):ys.min(),a=new ta(i,o),s=r.removedTargetIds||[],n=new Gu([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=uc(t,r.document),o=r.removedTargetIds||[],n=new Gu([],o,i,null);else{if(!("filter"in e))return Ko();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Iu(r),o=h.targetId,n=new zu(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ys.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ys.min():e.readTime?ic(e.readTime):ys.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=fc(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=sa(r)?{documents:mc(t,r)}:{query:gc(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=nc(t,e.resumeToken):e.Mt.u(ys.min())>0&&(n.readTime=ec(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ko()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=fc(this.Kt),e.removeTarget=t,this.eh(e)},e}(ll),dl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return s(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Go(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Go(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ic(t.updateTime):ic(e);n.isEqual(ys.min())&&(n=ic(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new nu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ic(t.commitTime);return this.listener.wh(n,e)}return Go(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=fc(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return vc(e.Kt,t)}))};this.eh(n)},e}(ll),vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return s(e,t),e.prototype.mh=function(){if(this.Ih)throw new ts(Zo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Zo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Zo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),yl=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(qo(e),this.Ph=!1):Fo("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),ml=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return u(o,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return Al(this)?(Fo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return(e=zo(t)).Oh.add(4),[4,bl(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,gl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new yl(n,r)};function gl(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:if(!Al(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bl(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wl(t,e){var n=zo(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Sl(n)?Tl(n):ql(n).Ju()&&_l(n,e))}function Il(t,e){var n=zo(t),r=ql(n);n.Nh.delete(e),r.Ju()&&El(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Al(n)&&n.Mh.set("Unknown"))}function _l(t,e){t.Lh.cn(e.targetId),ql(t).hh(e)}function El(t,e){t.Lh.cn(e),ql(t).lh(e)}function Tl(t){t.Lh=new Xu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),ql(t).start(),t.Mh.yh()}function Sl(t){return Al(t)&&!ql(t).Hu()&&t.Nh.size>0}function Al(t){return 0===zo(t).Oh.size}function Nl(t){t.Lh=void 0}function kl(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return t.Nh.forEach((function(e,n){_l(t,e)})),[2]}))}))}function Ol(t,e){return u(this,void 0,void 0,(function(){return c(this,(function(n){return Nl(t),Sl(t)?(t.Mh.ph(e),Tl(t)):t.Mh.set("Unknown"),[2]}))}))}function Dl(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o;return c(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Wu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Fo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,xl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Gu?t.Lh.wn(e):e instanceof zu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ys.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Sf(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Qo.h,n.Mt)),El(t,e);var r=new Ua(n.target,e,1,n.sequenceNumber);_l(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Fo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,xl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function xl(t,e,n){return u(this,void 0,void 0,(function(){var r=this;return c(this,(function(i){switch(i.label){case 0:if(!Mc(e))throw e;return t.Oh.add(1),[4,bl(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Sf(t.Sh)}),t.fs.bo((function(){return u(r,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return Fo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,gl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Cl(t,e){return e().catch((function(n){return xl(t,n,e)}))}function Pl(t){return u(this,void 0,void 0,(function(){var e,n,r,i,o;return c(this,(function(s){switch(s.label){case 0:e=zo(t),n=Bl(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Al(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,kf(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Bl(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,xl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ll(e)&&Rl(e),[2]}}))}))}function Ll(t){return Al(t)&&!Bl(t).Hu()&&t.xh.length>0}function Rl(t){Bl(t).start()}function jl(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return Bl(t).Th(),[2]}))}))}function Ml(t){return u(this,void 0,void 0,(function(){var e,n,r,i;return c(this,(function(o){for(e=Bl(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function Vl(t,e,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=yh.from(r,e,n),[4,Cl(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Pl(t)];case 2:return o.sent(),[2]}}))}))}function Ul(t,e){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return e&&Bl(t).fh?[4,function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return _u(r=e.code)&&r!==Zo.ABORTED?(n=t.xh.shift(),Bl(t).Xu(),[4,Cl(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Pl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ll(t)&&Rl(t),[2]}}))}))}function Fl(t,e){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=zo(t),e?(n.Oh.delete(2),[4,gl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,bl(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ql(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=zo(t);return r.mh(),new pl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:kl.bind(null,t),Iu:Ol.bind(null,t),uh:Dl.bind(null,t)}),t.Fh.push((function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Sl(t)?Tl(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Nl(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Bl(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=zo(t);return r.mh(),new dl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:jl.bind(null,t),Iu:Ul.bind(null,t),Eh:Ml.bind(null,t),wh:Vl.bind(null,t)}),t.Fh.push((function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Pl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Fo("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Hl=function(){this.jh=void 0,this.listeners=[]},Kl=function(){this.queries=new Vh((function(t){return La(t)}),Pa),this.onlineState="Unknown",this.Wh=new Set};function Gl(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return c(this,(function(c){switch(c.label){case 0:if(n=zo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Hl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=Hc(a,"Initialization of query '"+Ra(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Xl(n),[2]}}))}))}function zl(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s;return c(this,(function(a){return n=zo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Wl(t,e){for(var n=zo(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hh(s)&&(r=!0);u.jh=s}}r&&Xl(n)}function Jl(t,e,n){var r=zo(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Xl(t){t.Wh.forEach((function(t){t.next()}))}var Yl=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Bu.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),$l=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ql=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return uc(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?dc(this.Kt,t.document,!1):new ta(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return ic(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Zl(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ql(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||Mu()).add(s);e.set(c,h)}}return e},t.prototype.complete=function(){return u(this,void 0,void 0,(function(){var t,e,n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,Rf(this.Sh,new Ql(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,jf(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mf(Object.assign({},this.progress),t))]}}))}))}}();function Zl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var tp=function(t){this.key=t},ep=function(t){this.key=t},np=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Mu(),this.Ce=Mu(),this.ll=Ma(t),this._l=new Fu(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new qu,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Sa(this.query)&&i.size===this.query.limit?i.last():null,c=Aa(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var h=i.get(t),f=e instanceof Zs?e:null;f&&(f=ja(n.query,f)?f:null);var l=!!h&&n.Ce.has(h.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.El(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.ll(f,u)>0||c&&n.ll(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Sa(this.query)||Aa(this.query))for(;s.size>this.query.limit;){var h=Sa(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ko()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Bu(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new qu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Mu(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new ep(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new tp(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Mu();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Bu.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),rp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ip=function(t){this.key=t,this.yl=!1},op=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Vh((function(t){return La(t)}),Pa),this.Dl=new Map,this.Cl=[],this.xl=new Tu(Is.J),this.Nl=new Map,this.Ol=new Vf,this.Fl={},this.kl=new Map,this.Ml=Wh.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function sp(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a;return c(this,(function(u){switch(u.label){case 0:return n=Rp(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Of(n.Sh,xa(e))];case 2:return s=u.sent(),a=n.pl.ka(s.targetId),r=s.targetId,[4,ap(n,e,r,"current"===a)];case 3:i=u.sent(),n.$l&&wl(n.gl,s),u.label=4;case 4:return[2,i]}}))}))}function ap(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s,a,h,f;return c(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s;return c(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,xf(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(wp(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,xf(t.Sh,e,!0)];case 1:return i=l.sent(),o=new np(e,i.Pc),s=o.dl(i.documents),a=Ku.Be(n,r&&"Offline"!==t.onlineState),h=o.Ei(s,t.$l,a),wp(t,n,h.ml),f=new rp(e,n,o),[2,(t.Sl.set(e,f),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),h.snapshot)]}}))}))}function up(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return n=zo(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Pa(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Df(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Il(n.gl,r.targetId),gp(n,r.targetId)})).catch(Mh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gp(n,r.targetId),[4,Df(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function cp(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s;return c(this,(function(a){switch(a.label){case 0:r=jp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=zo(t),i=vs.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Mu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=uu(c,n.get(c.key));null!=h&&s.push(new lu(c.key,h,$s(h.proto.mapValue),ru.exists(!0)))}return r.Ho.Pi(t,i,s,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new Tu(Xo)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Ep(r,i.oi)];case 3:return a.sent(),[4,Pl(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Hc(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function hp(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:n=zo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Af(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Go(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Go(r.yl):t.Ke.size>0&&(Go(r.yl),r.yl=!1))})),[4,Ep(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Mh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fp(t,e,n){var r=zo(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=zo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Xl(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function lp(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s,a,u;return c(this,(function(c){switch(c.label){case 0:return(r=zo(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Tu(Is.J)).Ht(o,new ta(o,ys.min())),a=Mu().add(o),u=new Hu(ys.min(),new Map,new Nu(Xo),s,a),[4,hp(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),_p(r),[3,4];case 2:return[4,Df(r.Sh,e,!1).then((function(){return gp(r,e,n)})).catch(Mh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pp(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:n=zo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tf(n.Sh,e)];case 2:return i=o.sent(),mp(n,r,null),yp(n,r),n.pl.Oa(r,"acknowledged"),[4,Ep(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dp(t,e,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:r=zo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=zo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Go(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),mp(r,e,n),yp(r,e),r.pl.Oa(e,"rejected",n),[4,Ep(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vp(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s;return c(this,(function(a){switch(a.label){case 0:Al((n=zo(t)).gl)||Fo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=zo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Hc(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function yp(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function mp(t,e,n){var r=zo(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function gp(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||bp(t,e)}))}function bp(t,e){var n=t.xl.get(e);null!==n&&(Il(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),_p(t))}function wp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof tp?(t.Ol.sr(o.key,e),Ip(t,o)):o instanceof ep?(Fo("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||bp(t,o.key)):Ko()}}function Ip(t,e){var n=e.key;t.xl.get(n)||(Fo("SyncEngine","New document in limbo: "+n),t.Cl.push(n),_p(t))}function _p(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new ip(e)),t.xl=t.xl.Ht(e,n),wl(t.gl,new Ua(xa(Ta(e.path)),n,2,ds.U))}}function Ep(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s;return c(this,(function(a){switch(a.label){case 0:return r=zo(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=bf.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,h,f;return c(this,(function(c){switch(c.label){case 0:n=zo(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Cc.forEach(e,(function(e){return Cc.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Cc.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Mc(r=c.sent()))throw r;return Fo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.dc.get(a),h=u.Mt,f=u.Bt(h),n.dc=n.dc.Ht(a,f));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Tp(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return(n=zo(t)).currentUser.isEqual(e)?[3,3]:(Fo("SyncEngine","User change. New user:",e.R()),[4,Ef(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new ts(Zo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Ep(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Sp(t,e){var n=zo(t),r=n.Nl.get(e);if(r&&r.yl)return Mu().add(r.key);var i=Mu(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function Ap(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,xf((n=zo(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&wp(n,e.targetId,i.ml),i)]}}))}))}function Np(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){return[2,Pf((e=zo(t)).Sh).then((function(t){return Ep(e,t)}))]}))}))}function kp(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o;return c(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=zo(t),r=zo(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Cc.resolve(null)}))}))}((i=zo(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Pl(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mp(i,e,r||null),yp(i,e),function(t,e){zo(zo(t).Ho).Ni(e)}(i.Sh,e)):Ko(),s.label=4;case 4:return[4,Ep(i,o)];case 5:return s.sent(),[3,7];case 6:Fo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Op(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,h;return c(this,(function(c){switch(c.label){case 0:return Rp(n=zo(t)),jp(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Dp(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Fl(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],wl(n.gl,a);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],h=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):h=h.then((function(){return gp(n,e),Df(n.Sh,e,!0)})),Il(n.gl,e)})),[4,h]);case 4:return c.sent(),[4,Dp(n,u)];case 5:return c.sent(),function(t){var e=zo(t);e.Nl.forEach((function(t,n){Il(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new Tu(Is.J)}(n),n.Ll=!1,[4,Fl(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Dp(t,e,n){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,h,f,l,p,d,v,y;return c(this,(function(c){switch(c.label){case 0:n=zo(t),r=[],i=[],o=0,s=e,c.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(h=n.Dl.get(a))&&0!==h.length?[4,Of(n.Sh,xa(h[0]))]:[3,7]):[3,13];case 2:u=c.sent(),f=0,l=h,c.label=3;case 3:return f<l.length?(p=l[f],d=n.Sl.get(p),[4,Ap(n,d)]):[3,6];case 4:(v=c.sent()).snapshot&&i.push(v.snapshot),c.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Cf(n.Sh,a)];case 8:return y=c.sent(),[4,Of(n.Sh,y)];case 9:return u=c.sent(),[4,ap(n,xp(y),a,!1)];case 10:c.sent(),c.label=11;case 11:r.push(u),c.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function xp(t){return Ea(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cp(t){var e=zo(t);return zo(zo(e.Sh).persistence).Qo()}function Pp(t,e,n,r){return u(this,void 0,void 0,(function(){var i,o,s;return c(this,(function(a){switch(a.label){case 0:return(i=zo(t)).Ll?(Fo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pf(i.Sh)];case 3:return o=a.sent(),s=Hu.$e(e,"current"===n),[4,Ep(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Df(i.Sh,e,!0)];case 6:return a.sent(),gp(i,e,r),[3,8];case 7:Ko(),a.label=8;case 8:return[2]}}))}))}function Lp(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s,a,u,h,f,l,p;return c(this,(function(d){switch(d.label){case 0:if(!(r=Rp(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Dl.has(s)?(Fo("SyncEngine","Adding an already active target "+s),[3,5]):[4,Cf(r.Sh,s)]):[3,6];case 2:return a=d.sent(),[4,Of(r.Sh,a)];case 3:return u=d.sent(),[4,ap(r,xp(a),u.targetId,!1)];case 4:d.sent(),wl(r.gl,u),d.label=5;case 5:return i++,[3,1];case 6:h=function(t){return c(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Df(r.Sh,t,!1).then((function(){Il(r.gl,t),gp(r,t)})).catch(Mh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,l=n,d.label=7;case 7:return f<l.length?(p=l[f],[5,h(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Rp(t){var e=zo(t);return e.gl.Ch.Bh=hp.bind(null,e),e.gl.Ch.Sn=Sp.bind(null,e),e.gl.Ch.$h=lp.bind(null,e),e.vl.uh=Wl.bind(null,e.Vl),e.vl.ql=Jl.bind(null,e.Vl),e}function jp(t){var e=zo(t);return e.gl.Ch.qh=pp.bind(null,e),e.gl.Ch.Uh=dp.bind(null,e),e}var Mp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.Kt=hl(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return _f(this.persistence,new wf,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Kf(zf.ra,this.Kt)},t.prototype.Wl=function(t){return new nl},t.prototype.terminate=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),Vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return s(e,t),e.prototype.initialize=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Lf(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,jp(this.Xl.fa)];case 4:return n.sent(),[4,Pl(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return _f(this.persistence,new wf,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.Ii._r;return new tf(e,t.fs)},e.prototype.Gl=function(t){var e=yf(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?jh.Xs(this.cacheSizeBytes):jh.ei;return new pf(this.synchronizeTabs,e,t.clientId,n,t.fs,ul(),cl(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new nl},e}(Mp),Up=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return s(e,t),e.prototype.initialize=function(e){return u(this,void 0,void 0,(function(){var n,r=this;return c(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof el?(this.pl.fa={nu:kp.bind(null,n),su:Pp.bind(null,n),iu:Lp.bind(null,n),Qo:Cp.bind(null,n),eu:Np.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return u(r,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,Op(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=ul();if(!el.jn(e))throw new ts(Zo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yf(t.gu.T,t.gu.persistenceKey);return new el(e,t.fs,n,t.clientId,t.Yl)},e}(Vp),Fp=function(){function t(){}return t.prototype.initialize=function(t,e){return u(this,void 0,void 0,(function(){var n=this;return c(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return fp(n.fa,t,1)},this.gl.Ch.s_=Tp.bind(null,this.fa),[4,Fl(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Kl},t.prototype.Zl=function(t){var e,n=hl(t.gu.T),r=(e=t.gu,new al(e));return function(t,e,n){return new vl(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return fp(s.fa,t,0)},o=il.jn()?new il:new rl,new ml(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new op(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=zo(t),Fo("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,bl(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}();var qp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Bp=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new xc,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return u(this,void 0,void 0,(function(){var t,e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new $l(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return u(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return u(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ts(Zo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new ws(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Hp=function(t){this._methodName=t};function Kp(t,e,n){if(!n)throw new ts(Zo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Gp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ts(Zo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zp(t,e,n,r){if(!0===e&&!0===r)throw new ts(Zo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Wp(t){if(!Is.Et(t))throw new ts(Zo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Jp(t){if(Is.Et(t))throw new ts(Zo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Xp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ko()}function Yp(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new ts(Zo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xp(t);throw new ts(Zo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $p(t,e){if(e<=0)throw new ts(Zo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ts(Zo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ts(Zo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Zp=new Map,td=function(){function t(t,e){this.w_="(lite)",this.E_=new Qp({}),this.T_=!1,t instanceof as?(this.I_=t,this.m_=new hs):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ts(Zo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(t.options.projectId)}(t),this.m_=new fs(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ts(Zo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ts(Zo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Qp(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new hs;switch(t.type){case"gapi":var e=t.client;return Go(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ps(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ts(Zo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Zp.get(this))&&(Fo("ComponentProvider","Removing Datastore"),Zp.delete(this),t.terminate()),Promise.resolve();var t},t}(),ed=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),nd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ta(r))||this).firestore=e,i.D_=r,i.type="collection",i}return s(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ed(this.firestore,null,new Is(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(nd);function id(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ns&&(t=t._),Kp("collection","path",e),t instanceof td)return Jp(n=gs.ct.apply(gs,p([e],r))),new rd(t,null,n);if(!(t instanceof ed||t instanceof rd))throw new ts(Zo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jp(n=gs.ct.apply(gs,p([t.path],r)).child(gs.ct(e))),new rd(t.firestore,null,n)}function od(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ns&&(t=t._),1===arguments.length&&(e=Jo.t()),Kp("doc","path",e),t instanceof td)return Wp(n=gs.ct.apply(gs,p([e],r))),new ed(t,null,new Is(n));if(!(t instanceof ed||t instanceof rd))throw new ts(Zo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wp(n=t.D_.child(gs.ct.apply(gs,p([e],r)))),new ed(t.firestore,t instanceof rd?t.v_:null,new Is(n))}function sd(t,e){return t instanceof ns&&(t=t._),e instanceof ns&&(e=e._),(t instanceof ed||t instanceof rd)&&(e instanceof ed||e instanceof rd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ad(t,e){return t instanceof ns&&(t=t._),e instanceof ns&&(e=e._),t instanceof nd&&e instanceof nd&&t.firestore===e.firestore&&Pa(t.C_,e.C_)&&t.v_===e.v_}var ud=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ts(Zo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ts(Zo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Xo(this.x_,t.x_)||Xo(this.N_,t.N_)},t}(),cd=/^__.*__$/,hd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new lu(t,this.data,this.zt,e,this.fieldTransforms):new fu(t,this.data,e,this.fieldTransforms)},t}(),fd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new lu(t,this.data,this.zt,e,this.fieldTransforms)},t}();function ld(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ko()}}var pd=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Pd(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ld(this.k_)&&cd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),dd=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||hl(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new pd({k_:t,methodName:e,W_:n,path:ws.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function vd(t){var e=t.p_(),n=hl(t.I_);return new dd(t.I_,!!e.ignoreUndefinedProperties,n)}function yd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Od("Data must be an object, but it was:",s,r);var a,u,c=Nd(r,s);if(o.merge)a=new Ss(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Dd(e,l[f],n);if(!s.contains(p))throw new ts(Zo.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Ld(h,p)||h.push(p)}a=new Ss(h),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new hd(new Xs(c),a,u)}var md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hp);function gd(t,e,n){return new pd({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.z_=function(t){return new eu(t.path,new Wa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hp),wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return s(e,t),e.prototype.z_=function(t){var e=gd(this,t,!0),n=this.H_.map((function(t){return Ad(t,e)})),r=new Ja(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hp),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return s(e,t),e.prototype.z_=function(t){var e=gd(this,t,!0),n=this.H_.map((function(t){return Ad(t,e)})),r=new Ya(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hp),_d=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return s(e,t),e.prototype.z_=function(t){var e=new Qa(t.Kt,Ba(t.Kt,this.J_));return new eu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hp);function Ed(t,e,n,r){var i=t.G_(1,e,n);Od("Data must be an object, but it was:",i,r);var o=[],s=new Ys;Es(r,(function(t,r){var a=Cd(e,t,n);r instanceof ns&&(r=r._);var u=i.U_(a);if(r instanceof md)o.push(a);else{var c=Ad(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Ss(o);return new fd(s.yt(),a,i.fieldTransforms)}function Td(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Dd(e,r,n)],u=[i];if(o.length%2!=0)throw new ts(Zo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Dd(e,o[c])),u.push(o[c+1]);for(var h=[],f=new Ys,l=a.length-1;l>=0;--l)if(!Ld(h,a[l])){var p=a[l],d=u[l];d instanceof ns&&(d=d._);var v=s.U_(p);if(d instanceof md)h.push(p);else{var y=Ad(d,v);null!=y&&(h.push(p),f.set(p,y))}}var m=new Ss(h);return new fd(f.yt(),m,s.fieldTransforms)}function Sd(t,e,n,r){return void 0===r&&(r=!1),Ad(n,t.G_(r?4:3,e))}function Ad(t,e){if(t instanceof ns&&(t=t._),kd(t))return Od("Unsupported field value:",e,t),Nd(t,e);if(t instanceof Hp)return function(t,e){if(!ld(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ad(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ns&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ba(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=vs.fromDate(t);return{timestampValue:ec(e.Kt,n)}}if(t instanceof vs)return n=new vs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ec(e.Kt,n)};if(t instanceof ud)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof es)return{bytesValue:nc(e.Kt,t.l)};if(t instanceof ed){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:oc(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Xp(t))}(t,e)}function Nd(t,e){var n={};return Ts(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Es(t,(function(t,r){var i=Ad(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vs||t instanceof ud||t instanceof es||t instanceof ed||t instanceof Hp)}function Od(t,e,n){if(!kd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Xp(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Dd(t,e,n){if(e instanceof ns&&(e=e._),e instanceof Bp)return e.d_;if("string"==typeof e)return Cd(t,e);throw Pd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xd=new RegExp("[~\\*/\\[\\]]");function Cd(t,e,n){if(e.search(xd)>=0)throw Pd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bp.bind.apply(Bp,p([void 0],e.split("."))))).d_}catch(r){throw Pd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pd(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ts(Zo.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ld(t,e){return t.some((function(t){return t.isEqual(e)}))}var Rd=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ts(Zo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,s,a;return c(this,(function(u){switch(u.label){case 0:return n=zo(t),r=fc(n.Kt)+"/documents",i={documents:e.map((function(t){return ac(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Go(!!e.found),e.found.name,e.found.updateTime;var n=uc(t,e.found.name),r=ic(e.found.updateTime),i=new Xs({mapValue:{fields:e.found.fields}});return new Zs(n,r,i,{})}(t,e):"missing"in e?function(t,e){Go(!!e.missing),Go(!!e.readTime);var n=uc(t,e.missing),r=ic(e.readTime);return new ta(n,r)}(t,e):Ko()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Go(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ta||t instanceof Zs?n.sf(t):Ko()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new bu(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return u(this,void 0,void 0,(function(){var t,e=this;return c(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Is.ft(n);e.mutations.push(new wu(r,e.Gt(r)))})),[4,function(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return n=zo(t),r=fc(n.Kt)+"/documents",i={writes:e.map((function(t){return vc(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Zs)e=t.version;else{if(!(t instanceof ta))throw Ko();e=ys.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ts(Zo.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ru.updateTime(e):ru.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ys.min()))throw new ts(Zo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ru.updateTime(e)}return ru.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),jd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new fl(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return u(t,void 0,void 0,(function(){var t,e,n=this;return c(this,(function(r){return t=new Rd(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ps(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_u(e)}return!1},t}(),Md=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=us.UNAUTHENTICATED,this.clientId=Jo.t(),this._f=function(){},this.N=new xc,this.credentials.S((function(t){Fo("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new ts(Zo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new xc;return this.fs.Tf((function(){return u(t,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Hc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Vd(t,e){return u(this,void 0,void 0,(function(){var n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Fo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return u(i,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Ef(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Ud(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Fd(t)];case 1:return n=i.sent(),Fo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return(n=zo(t)).fs.Af(),Fo("RemoteStore","RemoteStore received new credentials"),r=Al(n),n.Oh.add(3),[4,bl(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,gl(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Fd(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Fo("FirestoreClient","Using default OfflineComponentProvider"),[4,Vd(t,new Mp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function qd(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Fo("FirestoreClient","Using default OnlineComponentProvider"),[4,Ud(t,new Fp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Bd(t){return Fd(t).then((function(t){return t.persistence}))}function Hd(t){return Fd(t).then((function(t){return t.Sh}))}function Kd(t){return qd(t).then((function(t){return t.gl}))}function Gd(t){return qd(t).then((function(t){return t.fa}))}function zd(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,qd(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=sp.bind(null,e.fa),n.Jh=up.bind(null,e.fa),n)]}}))}))}function Wd(t,e,n){var r=this;void 0===n&&(n={});var i=new xc;return t.fs.ys((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(o){e.ys((function(){return zl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ts(Zo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ts(Zo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Yl(Ta(n.path),o,{includeMetadataChanges:!0,sl:!0});return Gl(t,s)},[4,zd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Jd(t,e,n){var r=this;void 0===n&&(n={});var i=new xc;return t.fs.ys((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(n){e.ys((function(){return zl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new ts(Zo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Yl(n,o,{includeMetadataChanges:!0,sl:!0});return Gl(t,s)},[4,zd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Xd=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new fl(this,"async_queue_retry"),this.vf=function(){var e=cl();e&&Fo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=cl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=cl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return u(this,void 0,void 0,(function(){var t,e=this;return c(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Mc(t=n.sent()))throw t;return Fo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,qo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Bc.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ko()},t.prototype.Af=function(){},t.prototype.Nf=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Xd,r.w_="name"in e?e.name:"[DEFAULT]",r}return s(e,t),e.prototype.b_=function(){return this.Lf||Qd(this),this.Lf.terminate()},e}(td);function $d(t){return t.Lf||Qd(t),t.Lf.df(),t.Lf}function Qd(t){var e=t.p_(),n=function(t,e,n){return new ss(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Md(t.m_,t.Mf,n)}function Zd(t,e,n){var r=this,i=new xc;return t.fs.enqueue((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Vd(t,n)];case 1:return o.sent(),[4,Ud(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zo.FAILED_PRECONDITION||t.code===Zo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function tv(t){if(t.R_||t.P_)throw new ts(Zo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ev=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ks(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Os(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Ko()}},t.prototype.Wf=function(t,e){var n=this,r={};return Es(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new ud(ks(t.latitude),ks(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=xs(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Cs(t));default:return null}},t.prototype.Bf=function(t){var e=Ns(t);return new vs(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=gs.ct(t);Go(Dc(n));var r=new as(n.get(1),n.get(3)),i=new Is(n.X(5));return r.isEqual(e)||qo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),nv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ed(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new rv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nv);function iv(t,e){return"string"==typeof e?Cd(t,e):e instanceof ns?e._.d_:e.d_}function ov(t){if(Aa(t)&&0===t.Nt.length)throw new ts(Zo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sv=function(){};function av(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return s(e,t),e.prototype.Yf=function(t){var e=vd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new ts(Zo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vv(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var f=h[c];u.push(dv(r,t,f))}a={arrayValue:{values:u}}}else a=dv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vv(s,o),a=Sd(n,"where",s,"in"===o||"not-in"===o);var l=aa.create(i,o,a);return function(t,e){if(e.xt()){var n=ka(t);if(null!==n&&!n.isEqual(e.field))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Na(t);null!==r&&yv(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ts(Zo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ts(Zo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new nd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new _a(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(sv),cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return s(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ga(e,n);return function(t,e){if(null===Na(t)){var n=ka(t);null!==n&&yv(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new nd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new _a(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(sv),hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return s(e,t),e.prototype.Yf=function(t){return new nd(t.firestore,t.v_,Ca(t.C_,this.nd,this.sd))},e}(sv),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return s(e,t),e.prototype.Yf=function(t){var e=pv(t,this.type,this.rd,this.od);return new nd(t.firestore,t.v_,function(t,e){return new _a(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(sv),lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return s(e,t),e.prototype.Yf=function(t){var e=pv(t,this.type,this.rd,this.od);return new nd(t.firestore,t.v_,function(t,e){return new _a(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(sv);function pv(t,e,n,r){if(n[0]instanceof ns&&(n[0]=n[0]._),n[0]instanceof nv)return function(t,e,n,r,i){if(!r)throw new ts(Zo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Da(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Hs(e,r.key));else{var c=r.field(u.field);if(Ds(c))throw new ts(Zo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.ot();throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ya(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=vd(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new ts(Zo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Oa(t)&&-1!==c.indexOf("/"))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(gs.ct(c));if(!Is.Et(h))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Is(h);a.push(Hs(e,f))}else{var l=Sd(n,r,c);a.push(l)}}return new ya(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function dv(t,e,n){if(n instanceof ns&&(n=n._),"string"==typeof n){if(""===n)throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oa(e)&&-1!==n.indexOf("/"))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gs.ct(n));if(!Is.Et(r))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Hs(t,new Is(r))}if(n instanceof ed)return Hs(t,n.S_);throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xp(n)+".")}function vv(t,e){if(!Array.isArray(t)||0===t.length)throw new ts(Zo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ts(Zo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yv(t,e,n){if(!n.isEqual(e))throw new ts(Zo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function mv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function gv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.Uf=function(t){return new es(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ed(this.firestore,null,e)},e}(ev),wv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Iv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return s(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new _v(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(nv),_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Iv),Ev=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new wv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new _v(n.zf,n.Hf,r.key,r,new wv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new ts(Zo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new _v(t.zf,t.Hf,e.doc.key,e.doc,new wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new _v(t.zf,t.Hf,e.doc.key,e.doc,new wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Tv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Tv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ko()}}function Sv(t,e){return t instanceof Iv&&e instanceof Iv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Ev&&e instanceof Ev&&t.zf===e.zf&&ad(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Av=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.Uf=function(t){return new es(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ed(this.firestore,null,e)},e}(ev);function Nv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Yp(t,ed);var o=Yp(t.firestore,Yd),s=vd(o);return e instanceof ns&&(e=e._),Ov(o,[("string"==typeof e||e instanceof Bp?Td(s,"updateDoc",t.S_,e,n,r):Ed(s,"updateDoc",t.S_,e)).O_(t.S_,ru.exists(!0))])}function kv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ns&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||mv(i[a])||(s=i[a],a++);var h,f,l,p={includeMetadataChanges:s.includeMetadataChanges};if(mv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof ed)f=Yp(t.firestore,Yd),l=Ta(t.S_.path),h={next:function(e){i[a]&&i[a](Dv(f,t,e))},error:i[a+1],complete:i[a+2]};else{var v=Yp(t,nd);f=Yp(v.firestore,Yd),l=v.C_;var y=new Av(f);h={next:function(t){i[a]&&i[a](new Ev(f,y,v,t))},error:i[a+1],complete:i[a+2]},ov(t.C_)}return function(t,e,n,r){var i=this,o=new qp(r),s=new Yl(e,o,n);return t.fs.ys((function(){return u(i,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=Gl,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return u(i,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=zl,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}($d(f),l,p,h)}function Ov(t,e){return function(t,e){var n=this,r=new xc;return t.fs.ys((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=cp,[4,Gd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}($d(t),e)}function Dv(t,e,n){var r=n.docs.get(e.S_),i=new Av(t);return new Iv(t,i,e.S_,r,new wv(n.hasPendingWrites,n.fromCache),e.v_)}var xv=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=vd(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Cv(t,this.zf),i=gv(r.v_,e,n),o=yd(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,ru.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Cv(t,this.zf);return e instanceof ns&&(e=e._),o="string"==typeof e||e instanceof Bp?Td(this.wd,"WriteBatch.update",s.S_,e,n,r):Ed(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,ru.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Cv(t,this.zf);return this.fd=this.fd.concat(new bu(e.S_,ru.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new ts(Zo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cv(t,e){if(t instanceof ns&&(t=t._),t.firestore!==e)throw new ts(Zo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return s(e,t),e.prototype.get=function(e){var n=this,r=Cv(e,this.zf),i=new Av(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Iv(n.zf,i,r.S_,t.Jf,new wv(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=vd(t)}return t.prototype.get=function(t){var e=this,n=Cv(t,this.zf),r=new bv(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ko();var i=t[0];if(i instanceof ta)return new nv(e.zf,r,n.S_,null,n.v_);if(i instanceof Zs)return new nv(e.zf,r,i.key,i,n.v_);throw Ko()}))},t.prototype.set=function(t,e,n){var r=Cv(t,this.zf),i=gv(r.v_,e,n),o=yd(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cv(t,this.zf);return e instanceof ns&&(e=e._),o="string"==typeof e||e instanceof Bp?Td(this.wd,"Transaction.update",s.S_,e,n,r):Ed(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Cv(t,this.zf);return this.Td.delete(e.S_),this},t}()),Lv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tv(t=Yp(t,Yd));var n=$d(t),r=t.p_(),i=new Fp;return Zd(n,i,new Vp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tv(t=Yp(t,Yd));var e=$d(t),n=t.p_(),r=new Fp;return Zd(e,r,new Up(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ts(Zo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xc;return t.Mf.Tf((function(){return u(e,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return Lc.jn()?(e=t+"main",[4,Lc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yf(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Rv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof as||(i.md=e),i}return s(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Yp(t,td)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return u(e,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,Kd(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=zo(t);return e.Oh.delete(0),gl(e)}(n))]}}))}))}))}($d(Yp(this._,Yd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return u(e,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,Kd(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return(e=zo(t)).Oh.add(0),[4,bl(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($d(Yp(this._,Yd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&zp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xc;return t.fs.ys((function(){return u(e,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return e=vp,[4,Gd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}($d(Yp(this._,Yd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qp(e);return t.fs.ys((function(){return u(n,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=function(t,e){zo(t).Wh.add(e),e.next()},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return u(n,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=function(t,e){zo(t).Wh.delete(e)},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}($d(t=Yp(t,Yd)),mv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new ts(Zo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jv(this,id(this._,t))}catch(t){throw Fv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Uv(this,od(this._,t))}catch(t){throw Fv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Gv(this,function(t,e){if(t=Yp(t,td),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ts(Zo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nd(t,null,function(t){return new _a(gs.at(),t)}(e))}(this._,t))}catch(t){throw Fv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xc;return t.fs.ys((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return[4,function(t){return qd(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new jd(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}($d(t),(function(n){return e(new Pv(t,n))}))}(this._,(function(n){return t(new Mv(e,n))}))},e.prototype.batch=function(){var t=this;return $d(this._),new Vv(new xv(this._,(function(e){return Ov(t._,e)})))},e.prototype.loadBundle=function(t){throw new ts(Zo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ts(Zo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ns),jv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.Uf=function(t){return new os(new es(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Uv.Ad(e,this.firestore,null)},e}(ev);var Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new jv(e),r}return s(e,t),e.prototype.get=function(t){var e=this,n=Xv(t);return this._.get(n).then((function(t){return new Hv(e.zf,new Iv(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Xv(t);return n?(Gp("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Xv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,p([s,e,n],i)),this},e.prototype.delete=function(t){var e=Xv(t);return this._.delete(e),this},e}(ns),Vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.set=function(t,e,n){var r=Xv(t);return n?(Gp("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Xv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,p([s,e,n],i)),this},e.prototype.delete=function(t){var e=Xv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(ns),Uv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new jv(e),r}return s(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new ts(Zo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ed(n._,r,new Is(t)))},e.Ad=function(t,n,r){return new e(n,new ed(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jv(this.firestore,id(this._,t))}catch(t){throw Fv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ns&&(t=t._),t instanceof ed&&sd(this._,t)},e.prototype.set=function(t,e){e=Gp("DocumentReference.set",e);try{return function(t,e,n){t=Yp(t,ed);var r=Yp(t.firestore,Yd),i=gv(t.v_,e,n);return Ov(r,[yd(vd(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,ru.jt())])}(this._,t,e)}catch(t){throw Fv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nv(this._,t):Nv.apply(void 0,p([this._,t,e],n))}catch(t){throw Fv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ov(Yp((t=this._).firestore,Yd),[new bu(t.S_,ru.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=Bv(e,(function(e){return new Hv(t.firestore,new Iv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return kv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yp(t,ed);var e=Yp(t.firestore,Yd),n=$d(e),r=new Av(e);return function(t,e){var n=this,r=new xc;return t.fs.ys((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=zo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Zs?n.resolve(i):i instanceof ta?n.resolve(null):n.reject(new ts(Zo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Hc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Iv(e,r,t.S_,n,new wv(n instanceof Zs&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Yp(t,ed);var e=Yp(t.firestore,Yd);return Wd($d(e),t.S_,{source:"server"}).then((function(n){return Dv(e,t,n)}))}(this._):function(t){t=Yp(t,ed);var e=Yp(t.firestore,Yd);return Wd($d(e),t.S_).then((function(n){return Dv(e,t,n)}))}(this._)).then((function(t){return new Hv(e.firestore,new Iv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ns);function Fv(t,e,n){return t.message=t.message.replace(e,n),t}function qv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mv(r))return r}return{}}function Bv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=mv(t[0])?t[0]:mv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return s(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Uv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Sv(this._,t._)},e}(ns),Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Hv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new jv(e),r}return s(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,av(this._,function(t,e,n){var r=e,i=iv("where",t);return new uv(i,r,n)}(t,n,r)))}catch(t){throw Fv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,av(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=iv("orderBy",t);return new cv(r,n)}(t,n)))}catch(t){throw Fv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,av(this._,function(t){return $p("limit",t),new hv("limit",t,"F")}(t)))}catch(t){throw Fv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,av(this._,function(t){return $p("limitToLast",t),new hv("limitToLast",t,"L")}(t)))}catch(t){throw Fv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Fv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Fv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Fv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Fv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ad(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yp(t,nd);var e=Yp(t.firestore,Yd),n=$d(e),r=new Av(e);return function(t,e){var n=this,r=new xc;return t.fs.ys((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,s,a;return c(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,xf(t,e,!0)];case 1:return a=u.sent(),r=new np(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Hc(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Ev(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Yp(t,nd);var e=Yp(t.firestore,Yd),n=$d(e),r=new Av(e);return Jd(n,t.C_,{source:"server"}).then((function(n){return new Ev(e,r,t,n)}))}(this._):function(t){t=Yp(t,nd);var e=Yp(t.firestore,Yd),n=$d(e),r=new Av(e);return ov(t.C_),Jd(n,t.C_).then((function(n){return new Ev(e,r,t,n)}))}(this._)).then((function(t){return new Wv(e.firestore,new Ev(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=Bv(e,(function(e){return new Wv(t.firestore,new Ev(t.firestore._,t.Hf,t._,e.ud))}));return kv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ns),zv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return s(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(ns),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return s(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Gv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Kv(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new zv(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Kv(n.zf,r))}))},e.prototype.isEqual=function(t){return Sv(this._,t._)},e}(ns),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return s(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Uv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Uv(this.firestore,void 0===t?od(this._):od(this._,t))}catch(t){throw Fv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Yp(t.firestore,Yd),r=od(t),i=gv(t.v_,e);return Ov(n,[yd(vd(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,ru.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Uv(e.firestore,t)}))},e.prototype.isEqual=function(t){return sd(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Gv);function Xv(t){return t instanceof ns&&(t=t._),Yp(t,ed)}var Yv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Bp.bind.apply(Bp,p([void 0],e))))||this}return s(e,t),e.documentId=function(){return new e(ws.lt().ot())},e.prototype.isEqual=function(t){return t instanceof ns&&(t=t._),t instanceof Bp&&this._.d_.isEqual(t.d_)},e}(ns),$v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.serverTimestamp=function(){var t=new bd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new md("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wd("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Id("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new _d("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(ns);!function(){function t(){this.Pd={},this.yd=new xc,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Qv,Zv={Firestore:Rv,GeoPoint:ud,Timestamp:vs,Blob:os,Transaction:Mv,WriteBatch:Vv,DocumentReference:Uv,DocumentSnapshot:Hv,Query:Gv,QueryDocumentSnapshot:Kv,QuerySnapshot:Wv,CollectionReference:Jv,FieldPath:Yv,FieldValue:$v,setLogLevel:function(t){var e;e=t,Vo.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new C("firestore",(function(t){return function(t,e){return new Rv(t,new Yd(t,e),new Lv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Zv)))})(Qv=at),Qv.registerVersion("@firebase/firestore","2.1.2");n(2222);var ty=document.querySelector(".list-group"),ey=function(){var t=document.createElement("li");return t.classList.add("list-group-item","fs-5","d-flex","justify-content-around","align-items-center","list__to__remove"),t},ny=function(){var t=ey();t.classList.remove("list-group-item"),t.classList.add("alert","alert-warning"),t.innerText="lista zakupów jest pusta",ty.appendChild(t)};at.initializeApp({apiKey:"AIzaSyBh1FUATgC4cxDngnk084fSC9CRb9383EY",authDomain:"shopping-list-d75b7.firebaseapp.com",projectId:"shopping-list-d75b7",storageBucket:"shopping-list-d75b7.appspot.com",messagingSenderId:"89018749105",appId:"1:89018749105:web:558125e51d613a77855290",measurementId:"G-26N7JYMGZW"});var ry=at.auth(),iy=at.firestore(),oy=document.querySelector(".login-btn"),sy=document.querySelector(".logout-btn"),ay=document.querySelector(".signup-btn"),uy=document.querySelector(".render"),cy=document.querySelector(".closeLogBtn"),hy=document.querySelector(".closeSignBtn"),fy=document.querySelector(".user__name"),ly=document.querySelector(".weakPassAlert"),py=document.querySelector(".wrongPassAlert"),dy=document.querySelector(".linkToLogIn"),vy=document.querySelector(".linkToSignUp"),yy=document.querySelector("#signForm"),my=document.getElementById("logForm"),gy=document.getElementsByClassName("list-group-item");yy.addEventListener("submit",(function(t){t.preventDefault();var e=yy.emailToSignUp.value,n=yy.passwordToSignUp.value,r=yy.nameToSignUp.value;ry.createUserWithEmailAndPassword(e,n).then((function(t){t.user.updateProfile({displayName:r})})).then((function(){return hy.click()})).then((function(){return console.log("bbbb",ry.currentUser)})).catch((function(t){console.error(t.code),ly.innerText=t.message,ly.classList.remove("d-none")}))})),cy.addEventListener("click",(function(){my.reset(),py.classList.add("d-none")})),hy.addEventListener("click",(function(){yy.reset(),ly.classList.add("d-none")}));var by=function(t){t?(sy.classList.remove("d-none"),oy.classList.add("d-none"),ay.classList.add("d-none"),console.log(t.displayName),fy.innerText=t.displayName):(sy.classList.add("d-none"),oy.classList.remove("d-none"),ay.classList.remove("d-none"),fy.innerText="Guest")};sy.addEventListener("click",(function(t){t.preventDefault(),ry.signOut().then((function(){my.logSubmit.classList.remove("d-none"),document.querySelector("#loggedInAlert").classList.add("d-none")})).catch((function(t){console.error(t.code),console.error(t.message)}))})),my.addEventListener("submit",(function(t){t.preventDefault();var e=my.emailToLogIn.value,n=my.passwordToLogIn.value;ry.signInWithEmailAndPassword(e,n).then((function(){document.querySelector("#loggedInAlert").classList.remove("d-none"),my.logSubmit.classList.add("d-none")})).then((function(){return cy.click()})).then((function(){return my.reset()})).catch((function(t){console.error(t.code),py.innerText="Wrong e-mail or password",py.classList.remove("d-none")}))}));dy.addEventListener("click",(function(){hy.click(),oy.click()})),vy.addEventListener("click",(function(){cy.click(),ay.click()}));var wy=function(t){t?(document.body.classList.add("loggedColor"),gy.forEach((function(t){return t.classList.add("loggedColor")}))):(document.body.classList.remove("loggedColor"),gy.forEach((function(t){return t.classList.remove("loggedColor")})))},Iy=function(){iy.collection(ry.currentUser.uid).get().then((function(t){var e=iy.batch();return t.forEach((function(t){e.delete(t.ref)})),e.commit()})).then((function(){My.forEach((function(t){iy.collection(ry.currentUser.uid).add(Object.assign({},t))}))})).then((function(){return zy()}))},_y=function(t){t?(Oy.classList.remove("d-none"),Dy.classList.remove("d-none"),ky.classList.add("d-none"),Cy.classList.add("d-none"),Oy.addEventListener("click",Iy)):(Oy.classList.add("d-none"),Dy.classList.add("d-none"),ky.classList.remove("d-none"),Cy.classList.remove("d-none"))},Ey=function(t){My.length=0,iy.collection(t.uid).get().then((function(t){t.forEach((function(t){My.push(t.data())}))})).then((function(){By(My),wy(t)}))};function Ty(t){return function(t){if(Array.isArray(t))return Sy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ry.onAuthStateChanged((function(t){sy.classList.remove("invisible"),oy.classList.remove("invisible"),ay.classList.remove("invisible"),uy.classList.add("invisible"),xy.removeAttribute("disabled"),Cy.removeAttribute("disabled"),ky.removeAttribute("disabled"),Py.removeAttribute("disabled"),Oy.removeAttribute("disabled"),Dy.removeAttribute("disabled"),t?(Dy.addEventListener("click",(function(){return Ey(t)})),by(t),_y(t),Ey(t)):(by(),wy(),_y(),Wy())}));var Ay=document.querySelector(".items__summary"),Ny=document.querySelector("#form"),ky=document.querySelector(".btn__save"),Oy=document.querySelector(".btn__send"),Dy=document.querySelector(".btn__get"),xy=document.querySelector(".btn__reset"),Cy=document.querySelector(".btn__load"),Py=document.querySelector(".btn__print"),Ly=document.querySelector(".sum__items"),Ry=document.querySelector(".sum__kilos"),jy=document.querySelector(".closeSaveModalBtn"),My=[],Vy=function(){Ay.innerText="Razem pozycji: ".concat(My.length)},Uy="szt.",Fy="kg",qy=function(t){return My.filter((function(e){return e.unit===t})).map((function(t){return parseFloat(t.quantity,10)})).reduce((function(t,e){return t+e}),0)},By=function(t){document.querySelectorAll(".list__to__remove").forEach((function(t){t.remove()})),t.length?(t.reverse().map((function(t){return function(t){var e=t.name,n=t.category,r=t.quantity,i=t.unit,o=t.id,s='\n      <span class="item__name col-6">'.concat(e,'</span>\n      <span class="item__group col-3 badge bg-').concat(function(t){switch(t){case"bread":return"warning";case"dairy":return"info";case"sweets":return"success";case"chemicals":return"secondary";case"cosmetics":return"danger";case"fruits":return"dark";case"other":default:return"primary"}}(n),' me-1"\n      >').concat(function(t){switch(t){case"bread":return"Pieczywo";case"dairy":return"Nabiał";case"sweets":return"Słodycze";case"chemicals":return"Chemia";case"fruits":return"Owoce";case"cosmetics":return"Kosmetyki";case"other":default:return"Inne"}}(n),'</span>\n      <span class="badge bg-primary rounded-pill item__count col-2"\n      >').concat(r,'\n      <span class="item__unit">').concat(i,"</span>\n      </span>\n\n     <button value=").concat(o,' class="btn item__delete btn-danger badge col-1 ms-1 px-1 noPrint text-center" role="button"\n\n      ><i value=').concat(o,' class="far fa-trash-alt"></i\n      ></button>\n      '),a=ey();return a.setAttribute("id",o),a.innerHTML=s,ty.appendChild(a)}(t)})),Gy()):ny(),Ly.innerText=qy(Uy),Ry.innerText=qy(Fy),Vy()},Hy=function(t){!function(t){var e=t.target.getAttribute("value");0!==Ky.length&&(t.target.closest("button").classList.contains("item__delete")&&document.getElementById(e).remove(),My=My.filter((function(t){return t.id!==parseInt(e,10)})),1===Ky.length&&ny())}(t),By(My)},Ky=[],Gy=function(){(Ky=Ty(document.getElementsByClassName("item__delete"))).forEach((function(t){return t.addEventListener("click",Hy)}))};Ny.addEventListener("submit",(function(t){t.preventDefault();var e=document.querySelector("#nameInput"),n=document.querySelector("#categoryInput"),i=document.querySelector("#quantityInput"),o=Array.from(document.getElementsByName("unit")).find((function(t){return t.checked})).value;My.push(new r(e.value,n.value,i.value,o)),By(My),Ny.reset()}));var zy=function(){setTimeout((function(){jy.click()}),700)};ky.addEventListener("click",(function(){localStorage.setItem("Shopping List",JSON.stringify(My)),zy()})),xy.addEventListener("click",(function(){By(My=[])}));var Wy=function(){var t=localStorage.getItem("Shopping List");null!==t&&(My=JSON.parse(t)),By(My)};Cy.addEventListener("click",Wy),Py.addEventListener("click",(function(){return window.print()}))},5511:function(t,e,n){t.exports=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),i=n(e),o=1e3,s="transitionend",a=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e},u=function(t){var e=a(t);return e?document.querySelector(e):null},c=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),s=Number.parseFloat(r);return i||s?(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*o):0},h=function(t){t.dispatchEvent(new Event(s))},f=function(t,e){var n=!1,r=e+5;function i(){n=!0,t.removeEventListener(s,i)}t.addEventListener(s,i),setTimeout((function(){n||h(t)}),r)},l=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},p=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()};function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}document.documentElement.dir;var y="5.0.0-beta1";function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var w="alert",I="bs.alert",_="."+I,E='[data-bs-dismiss="alert"]',T="close"+_,S="closed"+_,A="click"+_+".data-api",N="alert",k="fade",O="show",D=function(t){function e(){return t.apply(this,arguments)||this}b(e,t);var n=e.prototype;return n.close=function(t){var e=t?this._getRootElement(t):this._element,n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)},n._getRootElement=function(t){return u(t)||t.closest("."+N)},n._triggerCloseEvent=function(t){return i.default.trigger(t,T)},n._removeElement=function(t){var e=this;if(t.classList.remove(O),t.classList.contains(k)){var n=c(t);i.default.one(t,s,(function(){return e._destroyElement(t)})),f(t,n)}else this._destroyElement(t)},n._destroyElement=function(t){t.parentNode&&t.parentNode.removeChild(t),i.default.trigger(t,S)},e.jQueryInterface=function(t){return this.each((function(){var n=r.default.getData(this,I);n||(n=new e(this)),"close"===t&&n[t](this)}))},e.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},g(e,null,[{key:"DATA_KEY",get:function(){return I}}]),e}(function(){function t(t){t&&(this._element=t,r.default.setData(t,this.constructor.DATA_KEY,this))}return t.prototype.dispose=function(){r.default.removeData(this._element,this.constructor.DATA_KEY),this._element=null},t.getInstance=function(t){return r.default.getData(t,this.DATA_KEY)},v(t,null,[{key:"VERSION",get:function(){return y}}]),t}());return i.default.on(document,A,E,D.handleDismiss(new D)),p((function(){var t=l();if(t){var e=t.fn[w];t.fn[w]=D.jQueryInterface,t.fn[w].Constructor=D,t.fn[w].noConflict=function(){return t.fn[w]=e,D.jQueryInterface}}})),D}(n(493),n(9286))},9331:function(t,e,n){t.exports=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),i=n(e),o=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},s=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}document.documentElement.dir;var c="5.0.0-beta1";function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var p="button",d="bs.button",v="active",y='[data-bs-toggle="button"]',m="click."+d+".data-api",g=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(v))},e.jQueryInterface=function(t){return this.each((function(){var n=r.default.getData(this,d);n||(n=new e(this)),"toggle"===t&&n[t]()}))},f(e,null,[{key:"DATA_KEY",get:function(){return d}}]),e}(function(){function t(t){t&&(this._element=t,r.default.setData(t,this.constructor.DATA_KEY,this))}return t.prototype.dispose=function(){r.default.removeData(this._element,this.constructor.DATA_KEY),this._element=null},t.getInstance=function(t){return r.default.getData(t,this.DATA_KEY)},u(t,null,[{key:"VERSION",get:function(){return c}}]),t}());return i.default.on(document,m,y,(function(t){t.preventDefault();var e=t.target.closest(y),n=r.default.getData(e,d);n||(n=new g(e)),n.toggle()})),s((function(){var t=o();if(t){var e=t.fn[p];t.fn[p]=g.jQueryInterface,t.fn[p].Constructor=g,t.fn[p].noConflict=function(){return t.fn[p]=e,g.jQueryInterface}}})),g}(n(493),n(9286))},493:function(t){t.exports=function(){"use strict";var t,e,n=(t={},e=1,{set:function(n,r,i){void 0===n.bsKey&&(n.bsKey={key:r,id:e},e++),t[n.bsKey.id]=i},get:function(e,n){if(!e||void 0===e.bsKey)return null;var r=e.bsKey;return r.key===n?t[r.id]:null},delete:function(e,n){if(void 0!==e.bsKey){var r=e.bsKey;r.key===n&&(delete t[r.id],delete e.bsKey)}}});return{setData:function(t,e,r){n.set(t,e,r)},getData:function(t,e){return n.get(t,e)},removeData:function(t,e){n.delete(t,e)}}}()},9286:function(t){t.exports=function(){"use strict";var t=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},e=(document.documentElement.dir,/[^.]*(?=\..*)\.|.*/),n=/\..*/,r=/::\d+$/,i={},o=1,s={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function u(t,e){return e&&e+"::"+o++||t.uidEvent||o++}function c(t){var e=u(t);return t.uidEvent=e,i[e]=i[e]||{},i[e]}function h(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&m.off(t,r.type,e),e.apply(t,[r])}}function f(t,e,n){return function r(i){for(var o=t.querySelectorAll(e),s=i.target;s&&s!==this;s=s.parentNode)for(var a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&m.off(t,i.type,n),n.apply(s,[i]);return null}}function l(t,e,n){void 0===n&&(n=null);for(var r=Object.keys(t),i=0,o=r.length;i<o;i++){var s=t[r[i]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function p(t,e,r){var i="string"==typeof e,o=i?r:e,u=t.replace(n,""),c=s[u];return c&&(u=c),a.has(u)||(u=t),[i,o,u]}function d(t,n,r,i,o){if("string"==typeof n&&t){r||(r=i,i=null);var s=p(n,r,i),a=s[0],d=s[1],v=s[2],y=c(t),m=y[v]||(y[v]={}),g=l(m,d,a?r:null);if(g)g.oneOff=g.oneOff&&o;else{var b=u(d,n.replace(e,"")),w=a?f(t,r,i):h(t,r);w.delegationSelector=a?r:null,w.originalHandler=d,w.oneOff=o,w.uidEvent=b,m[b]=w,t.addEventListener(v,w,a)}}}function v(t,e,n,r,i){var o=l(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function y(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach((function(o){if(o.includes(r)){var s=i[o];v(t,e,n,s.originalHandler,s.delegationSelector)}}))}var m={on:function(t,e,n,r){d(t,e,n,r,!1)},one:function(t,e,n,r){d(t,e,n,r,!0)},off:function(t,e,n,i){if("string"==typeof e&&t){var o=p(e,n,i),s=o[0],a=o[1],u=o[2],h=u!==e,f=c(t),l=e.startsWith(".");if(void 0===a){l&&Object.keys(f).forEach((function(n){y(t,f,n,e.slice(1))}));var d=f[u]||{};Object.keys(d).forEach((function(n){var i=n.replace(r,"");if(!h||e.includes(i)){var o=d[n];v(t,f,u,o.originalHandler,o.delegationSelector)}}))}else{if(!f||!f[u])return;v(t,f,u,a,s?n:null)}}},trigger:function(e,r,i){if("string"!=typeof r||!e)return null;var o,s=t(),u=r.replace(n,""),c=r!==u,h=a.has(u),f=!0,l=!0,p=!1,d=null;return c&&s&&(o=s.Event(r,i),s(e).trigger(o),f=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),p=o.isDefaultPrevented()),h?(d=document.createEvent("HTMLEvents")).initEvent(u,f,!0):d=new CustomEvent(r,{bubbles:f,cancelable:!0}),void 0!==i&&Object.keys(i).forEach((function(t){Object.defineProperty(d,t,{get:function(){return i[t]}})})),p&&d.preventDefault(),l&&e.dispatchEvent(d),d.defaultPrevented&&void 0!==o&&o.preventDefault(),d}};return m}()},3175:function(t){t.exports=function(){"use strict";function t(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function e(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}return{setDataAttribute:function(t,n,r){t.setAttribute("data-bs-"+e(n),r)},removeDataAttribute:function(t,n){t.removeAttribute("data-bs-"+e(n))},getDataAttributes:function(e){if(!e)return{};var n={};return Object.keys(e.dataset).filter((function(t){return t.startsWith("bs")})).forEach((function(r){var i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),n[i]=t(e.dataset[r])})),n},getDataAttribute:function(n,r){return t(n.getAttribute("data-bs-"+e(r)))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}}}}()},8737:function(t){t.exports=function(){"use strict";var t=3;return{matches:function(t,e){return t.matches(e)},find:function(t,e){var n;return void 0===e&&(e=document.documentElement),(n=[]).concat.apply(n,Element.prototype.querySelectorAll.call(e,t))},findOne:function(t,e){return void 0===e&&(e=document.documentElement),Element.prototype.querySelector.call(e,t)},children:function(t,e){var n,r=(n=[]).concat.apply(n,t.children);return r.filter((function(t){return t.matches(e)}))},parents:function(e,n){for(var r=[],i=e.parentNode;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==t;)this.matches(i,n)&&r.push(i),i=i.parentNode;return r},prev:function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next:function(t,e){for(var n=t.nextElementSibling;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]}}}()},7424:function(t,e,n){t.exports=function(t,e,n,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=i(t),s=i(e),a=i(n),u=i(r),c=1e3,h="transitionend",f=function(t){return null==t?""+t:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()},l=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e},p=function(t){var e=l(t);return e?document.querySelector(e):null},d=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),o=Number.parseFloat(r);return i||o?(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*c):0},v=function(t){t.dispatchEvent(new Event(h))},y=function(t){return(t[0]||t).nodeType},m=function(t,e){var n=!1,r=e+5;function i(){n=!0,t.removeEventListener(h,i)}t.addEventListener(h,i),setTimeout((function(){n||v(t)}),r)},g=function(t,e,n){Object.keys(n).forEach((function(r){var i=n[r],o=e[r],s=o&&y(o)?"element":f(o);if(!new RegExp(i).test(s))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+i+'".')}))},b=function(t){if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){var e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==n.display&&"hidden"!==e.visibility}return!1},w=function(t){return t.offsetHeight},I=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},_=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()},E="rtl"===document.documentElement.dir;function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}var A="5.0.0-beta1";function N(){return(N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}function D(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var x="modal",C="bs.modal",P="."+C,L="Escape",R={backdrop:!0,keyboard:!0,focus:!0},j={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},M="hide"+P,V="hidePrevented"+P,U="hidden"+P,F="show"+P,q="shown"+P,B="focusin"+P,H="resize"+P,K="click.dismiss"+P,G="keydown.dismiss"+P,z="mouseup.dismiss"+P,W="mousedown.dismiss"+P,J="click"+P+".data-api",X="modal-scrollbar-measure",Y="modal-backdrop",$="modal-open",Q="fade",Z="show",tt="modal-static",et=".modal-dialog",nt=".modal-body",rt='[data-bs-toggle="modal"]',it='[data-bs-dismiss="modal"]',ot=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",st=".sticky-top",at=function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._config=r._getConfig(n),r._dialog=u.default.findOne(et,e),r._backdrop=null,r._isShown=!1,r._isBodyOverflowing=!1,r._ignoreBackdropClick=!1,r._isTransitioning=!1,r._scrollbarWidth=0,r}D(e,t);var n=e.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains(Q)&&(this._isTransitioning=!0);var n=s.default.trigger(this._element,F,{relatedTarget:t});this._isShown||n.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s.default.on(this._element,K,it,(function(t){return e.hide(t)})),s.default.on(this._dialog,W,(function(){s.default.one(e._element,z,(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},n.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning&&!s.default.trigger(this._element,M).defaultPrevented){this._isShown=!1;var n=this._element.classList.contains(Q);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s.default.off(document,B),this._element.classList.remove(Z),s.default.off(this._element,K),s.default.off(this._dialog,W),n){var r=d(this._element);s.default.one(this._element,h,(function(t){return e._hideModal(t)})),m(this._element,r)}else this._hideModal()}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return s.default.off(t,P)})),t.prototype.dispose.call(this),s.default.off(document,B),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=N({},R,t),g(x,t,j),t},n._showElement=function(t){var e=this,n=this._element.classList.contains(Q),r=u.default.findOne(nt,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&w(this._element),this._element.classList.add(Z),this._config.focus&&this._enforceFocus();var i=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,s.default.trigger(e._element,q,{relatedTarget:t})};if(n){var o=d(this._dialog);s.default.one(this._dialog,h,i),m(this._dialog,o)}else i()},n._enforceFocus=function(){var t=this;s.default.off(document,B),s.default.on(document,B,(function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown?s.default.on(this._element,G,(function(e){t._config.keyboard&&e.key===L?(e.preventDefault(),t.hide()):t._config.keyboard||e.key!==L||t._triggerBackdropTransition()})):s.default.off(this._element,G)},n._setResizeEvent=function(){var t=this;this._isShown?s.default.on(window,H,(function(){return t._adjustDialog()})):s.default.off(window,H)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){document.body.classList.remove($),t._resetAdjustments(),t._resetScrollbar(),s.default.trigger(t._element,U)}))},n._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},n._showBackdrop=function(t){var e=this,n=this._element.classList.contains(Q)?Q:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Y,n&&this._backdrop.classList.add(n),document.body.appendChild(this._backdrop),s.default.on(this._element,K,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),n&&w(this._backdrop),this._backdrop.classList.add(Z),!n)return void t();var r=d(this._backdrop);s.default.one(this._backdrop,h,t),m(this._backdrop,r)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(Z);var i=function(){e._removeBackdrop(),t()};if(this._element.classList.contains(Q)){var o=d(this._backdrop);s.default.one(this._backdrop,h,i),m(this._backdrop,o)}else i()}else t()},n._triggerBackdropTransition=function(){var t=this;if(!s.default.trigger(this._element,V).defaultPrevented){var e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add(tt);var n=d(this._dialog);s.default.off(this._element,h),s.default.one(this._element,h,(function(){t._element.classList.remove(tt),e||(s.default.one(t._element,h,(function(){t._element.style.overflowY=""})),m(t._element,n))})),m(this._element,n),this._element.focus()}},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&t&&!E||this._isBodyOverflowing&&!t&&E)&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!t&&!E||!this._isBodyOverflowing&&t&&E)&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){u.default.find(ot).forEach((function(e){var n=e.style.paddingRight,r=window.getComputedStyle(e)["padding-right"];a.default.setDataAttribute(e,"padding-right",n),e.style.paddingRight=Number.parseFloat(r)+t._scrollbarWidth+"px"})),u.default.find(st).forEach((function(e){var n=e.style.marginRight,r=window.getComputedStyle(e)["margin-right"];a.default.setDataAttribute(e,"margin-right",n),e.style.marginRight=Number.parseFloat(r)-t._scrollbarWidth+"px"}));var e=document.body.style.paddingRight,n=window.getComputedStyle(document.body)["padding-right"];a.default.setDataAttribute(document.body,"padding-right",e),document.body.style.paddingRight=Number.parseFloat(n)+this._scrollbarWidth+"px"}document.body.classList.add($)},n._resetScrollbar=function(){u.default.find(ot).forEach((function(t){var e=a.default.getDataAttribute(t,"padding-right");void 0!==e&&(a.default.removeDataAttribute(t,"padding-right"),t.style.paddingRight=e)})),u.default.find(""+st).forEach((function(t){var e=a.default.getDataAttribute(t,"margin-right");void 0!==e&&(a.default.removeDataAttribute(t,"margin-right"),t.style.marginRight=e)}));var t=a.default.getDataAttribute(document.body,"padding-right");void 0===t?document.body.style.paddingRight="":(a.default.removeDataAttribute(document.body,"padding-right"),document.body.style.paddingRight=t)},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=X,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},e.jQueryInterface=function(t,n){return this.each((function(){var r=o.default.getData(this,C),i=N({},R,a.default.getDataAttributes(this),"object"==typeof t&&t?t:{});if(r||(r=new e(this,i)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](n)}}))},O(e,null,[{key:"Default",get:function(){return R}},{key:"DATA_KEY",get:function(){return C}}]),e}(function(){function t(t){t&&(this._element=t,o.default.setData(t,this.constructor.DATA_KEY,this))}return t.prototype.dispose=function(){o.default.removeData(this._element,this.constructor.DATA_KEY),this._element=null},t.getInstance=function(t){return o.default.getData(t,this.DATA_KEY)},S(t,null,[{key:"VERSION",get:function(){return A}}]),t}());return s.default.on(document,J,rt,(function(t){var e=this,n=p(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),s.default.one(n,F,(function(t){t.defaultPrevented||s.default.one(n,U,(function(){b(e)&&e.focus()}))}));var r=o.default.getData(n,C);if(!r){var i=N({},a.default.getDataAttributes(n),a.default.getDataAttributes(this));r=new at(n,i)}r.show(this)})),_((function(){var t=I();if(t){var e=t.fn[x];t.fn[x]=at.jQueryInterface,t.fn[x].Constructor=at,t.fn[x].noConflict=function(){return t.fn[x]=e,at.jQueryInterface}}})),at}(n(493),n(9286),n(3175),n(8737))},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,n)=>{var r=n(5112),i=n(30),o=n(3070),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8533:(t,e,n)=>{"use strict";var r=n(2092).forEach,i=n(9341),o=n(9207),s=i("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},8457:(t,e,n)=>{"use strict";var r=n(9974),i=n(7908),o=n(3411),s=n(7659),a=n(7466),u=n(6135),c=n(1246);t.exports=function(t){var e,n,h,f,l,p,d=i(t),v="function"==typeof this?this:Array,y=arguments.length,m=y>1?arguments[1]:void 0,g=void 0!==m,b=c(d),w=0;if(g&&(m=r(m,y>2?arguments[2]:void 0,2)),null==b||v==Array&&s(b))for(n=new v(e=a(d.length));e>w;w++)p=g?m(d[w],w):d[w],u(n,w,p);else for(l=(f=b.call(d)).next,n=new v;!(h=l.call(f)).done;w++)p=g?o(f,m,[h.value,w],!0):h.value,u(n,w,p);return n.length=w,n}},1318:(t,e,n)=>{var r=n(5656),i=n(7466),o=n(1400),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),h=o(s,c);if(t&&n!=n){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:(t,e,n)=>{var r=n(9974),i=n(8361),o=n(7908),s=n(7466),a=n(5417),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,h=4==t,f=6==t,l=7==t,p=5==t||f;return function(d,v,y,m){for(var g,b,w=o(d),I=i(w),_=r(v,y,3),E=s(I.length),T=0,S=m||a,A=e?S(d,E):n||l?S(d,0):void 0;E>T;T++)if((p||T in I)&&(b=_(g=I[T],T,w),t))if(e)A[T]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return T;case 2:u.call(A,g)}else switch(t){case 4:return!1;case 7:u.call(A,g)}return f?-1:c||h?h:A}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},1194:(t,e,n)=>{var r=n(7293),i=n(5112),o=n(7392),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},9207:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(6656),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,h=o(e,0)?e[0]:u,f=o(e,1)?e[1]:void 0;return a[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,h,f)}))}},3671:(t,e,n)=>{var r=n(3099),i=n(7908),o=n(8361),s=n(7466),a=function(t){return function(e,n,a,u){r(n);var c=i(e),h=o(c),f=s(c.length),l=t?f-1:0,p=t?-1:1;if(a<2)for(;;){if(l in h){u=h[l],l+=p;break}if(l+=p,t?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:f>l;l+=p)l in h&&(u=n(u,h[l],l,c));return u}};t.exports={left:a(!1),right:a(!0)}},5417:(t,e,n)=>{var r=n(111),i=n(3157),o=n(5112)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:(t,e,n)=>{var r=n(9670),i=n(9212);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){throw i(t),e}}},7072:(t,e,n)=>{var r=n(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},9920:(t,e,n)=>{var r=n(6656),i=n(3887),o=n(1236),s=n(3070);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var h=n[c];r(t,h)||a(t,h,u(e,h))}}},8544:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),s=n(8003),a=n(7497),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,c,!1,!0),a[c]=u,t}},8880:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,n)=>{"use strict";var r=n(7593),i=n(3070),o=n(9114);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},654:(t,e,n)=>{"use strict";var r=n(2109),i=n(4994),o=n(9518),s=n(7674),a=n(8003),u=n(8880),c=n(1320),h=n(5112),f=n(1913),l=n(7497),p=n(3383),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=h("iterator"),m="keys",g="values",b="entries",w=function(){return this};t.exports=function(t,e,n,h,p,I,_){i(n,e,h);var E,T,S,A=function(t){if(t===p&&x)return x;if(!v&&t in O)return O[t];switch(t){case m:case g:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",k=!1,O=t.prototype,D=O[y]||O["@@iterator"]||p&&O[p],x=!v&&D||A(p),C="Array"==e&&O.entries||D;if(C&&(E=o(C.call(new t)),d!==Object.prototype&&E.next&&(f||o(E)===d||(s?s(E,d):"function"!=typeof E[y]&&u(E,y,w)),a(E,N,!0,!0),f&&(l[N]=w))),p==g&&D&&D.name!==g&&(k=!0,x=function(){return D.call(this)}),f&&!_||O[y]===x||u(O,y,x),l[e]=x,p)if(T={values:A(g),keys:I?x:A(m),entries:A(b)},_)for(S in T)(v||k||!(S in O))&&c(O,S,T[S]);else r({target:e,proto:!0,forced:v||k},T);return T}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),i=n(111),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5268:(t,e,n)=>{var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,i,o=n(7854),s=n(8113),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),s=n(1320),a=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,h,f,l,p,d=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[d]||a(d,{}):(r[d]||{}).prototype)for(h in e){if(l=e[h],f=t.noTargetGet?(p=i(n,h))&&p.value:n[h],!c(v?h:d+(y?".":"#")+h,t.forced)&&void 0!==f){if(typeof l==typeof f)continue;u(l,f)}(t.sham||f&&f.sham)&&o(l,"sham",!0),s(n,h,l,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(857),i=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},1246:(t,e,n)=>{var r=n(648),i=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),i=n(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,i,o,s=n(8536),a=n(7854),u=n(111),c=n(8880),h=n(6656),f=n(5465),l=n(6200),p=n(3501),d=a.WeakMap;if(s){var v=f.state||(f.state=new d),y=v.get,m=v.has,g=v.set;r=function(t,e){return e.facade=t,g.call(v,t,e),e},i=function(t){return y.call(v,t)||{}},o=function(t){return m.call(v,t)}}else{var b=l("state");p[b]=!0,r=function(t,e){return e.facade=t,c(t,b,e),e},i=function(t){return h(t,b)?t[b]:{}},o=function(t){return h(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var r=n(5112),i=n(7497),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},9212:(t,e,n)=>{var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},3383:(t,e,n)=>{"use strict";var r,i,o,s=n(9518),a=n(8880),u=n(6656),c=n(5112),h=n(1913),f=c("iterator"),l=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):l=!0),null==r&&(r={}),h||u(r,f)||a(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},7497:t=>{t.exports={}},133:(t,e,n)=>{var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(t,e,n)=>{var r=n(7854),i=n(2788),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},1574:(t,e,n)=>{"use strict";var r=n(9781),i=n(7293),o=n(1956),s=n(5181),a=n(5296),u=n(7908),c=n(8361),h=Object.assign,f=Object.defineProperty;t.exports=!h||i((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||o(h({},e)).join("")!=i}))?function(t,e){for(var n=u(t),i=arguments.length,h=1,f=s.f,l=a.f;i>h;)for(var p,d=c(arguments[h++]),v=f?o(d).concat(f(d)):o(d),y=v.length,m=0;y>m;)p=v[m++],r&&!l.call(d,p)||(n[p]=d[p]);return n}:h},30:(t,e,n)=>{var r,i=n(9670),o=n(6048),s=n(748),a=n(3501),u=n(490),c=n(317),h=n(6200),f=h("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"</"+"script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete d.prototype[s[n]];return d()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=i(t),n=new l,l.prototype=null,n[f]=t):n=d(),void 0===e?n:o(n,e)}},6048:(t,e,n)=>{var r=n(9781),i=n(3070),o=n(9670),s=n(1956);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),i=n(4664),o=n(9670),s=n(7593),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),i=n(5296),o=n(9114),s=n(5656),a=n(7593),u=n(6656),c=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=s(t),e=a(e,!0),c)try{return h(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,n)=>{var r=n(6656),i=n(7908),o=n(6200),s=n(8544),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:(t,e,n)=>{var r=n(6656),i=n(5656),o=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},1956:(t,e,n)=>{var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var r=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},3887:(t,e,n)=>{var r=n(5005),i=n(8006),o=n(5181),s=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},1320:(t,e,n)=>{var r=n(7854),i=n(8880),o=n(6656),s=n(3505),a=n(2788),u=n(9909),c=u.get,h=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var u,c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(u=h(n)).source||(u.source=f.join("string"==typeof e?e:""))),t!==r?(c?!p&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),i=n(8880);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},8003:(t,e,n)=>{var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},2309:(t,e,n)=>{var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},8710:(t,e,n)=>{var r=n(9958),i=n(4488),o=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},1400:(t,e,n)=>{var r=n(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:(t,e,n)=>{var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),i=n(2309),o=n(6656),s=n(9711),a=n(133),u=n(3307),c=i("wks"),h=r.Symbol,f=u?h:h&&h.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(h,t)?c[t]=h[t]:c[t]=f("Symbol."+t)),c[t]}},2222:(t,e,n)=>{"use strict";var r=n(2109),i=n(7293),o=n(3157),s=n(111),a=n(7908),u=n(7466),c=n(6135),h=n(5417),f=n(1194),l=n(5112),p=n(7392),d=l("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=f("concat"),b=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(t){var e,n,r,i,o,s=a(this),f=h(s,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?s:arguments[e])){if(l+(i=u(o.length))>v)throw TypeError(y);for(n=0;n<i;n++,l++)n in o&&c(f,l,o[n])}else{if(l>=v)throw TypeError(y);c(f,l++,o)}return f.length=l,f}})},7327:(t,e,n)=>{"use strict";var r=n(2109),i=n(2092).filter,o=n(1194),s=n(9207),a=o("filter"),u=s("filter");r({target:"Array",proto:!0,forced:!a||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9826:(t,e,n)=>{"use strict";var r=n(2109),i=n(2092).find,o=n(1223),s=n(9207),a="find",u=!0,c=s(a);a in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},9554:(t,e,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},1038:(t,e,n)=>{var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:i})},1249:(t,e,n)=>{"use strict";var r=n(2109),i=n(2092).map,o=n(1194),s=n(9207),a=o("map"),u=s("map");r({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:(t,e,n)=>{"use strict";var r=n(2109),i=n(3671).left,o=n(9341),s=n(9207),a=n(7392),u=n(5268),c=o("reduce"),h=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!h||!u&&a>79&&a<83},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},8309:(t,e,n)=>{var r=n(9781),i=n(3070).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},9601:(t,e,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},8783:(t,e,n)=>{"use strict";var r=n(8710).charAt,i=n(9909),o=n(654),s="String Iterator",a=i.set,u=i.getterFor(s);o(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},4747:(t,e,n)=>{var r=n(7854),i=n(8324),o=n(8533),s=n(8880);for(var a in i){var u=r[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(t){c.forEach=o}}},8676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function f(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),s(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(f,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(l,"_tx",["objectStoreNames","mode"]),a(l,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[f,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(2212)})();